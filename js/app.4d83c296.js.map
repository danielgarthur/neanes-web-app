{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/icons/agogi-metria.svg","webpack:///./src/components/NeumeSelector.vue?a1b2","webpack:///./src/assets/icons/alteration-yfesis4.svg","webpack:///./src/App.vue?4a62","webpack:///./src/assets/icons/page-break.svg","webpack:///./src/App.vue?1853","webpack:///./src/assets/icons/time-digorgon-dotted-right.svg","webpack:///./src/assets/icons/fthora-diatonic-ga.svg","webpack:///./src/assets/icons/delete.svg","webpack:///./src/assets/icons/time-digorgon.svg","webpack:///./src/assets/icons/measure-number-5.svg","webpack:///./src/assets/icons/alignleft.svg","webpack:///./src/assets/icons/fthora-kliton.svg","webpack:///./src/assets/icons/fthora-diatonic-ni-high.svg","webpack:///./src/assets/icons/note-ga.svg","webpack:///./src/assets/icons/quality-vareia.svg","webpack:///./src/assets/icons/barline-single.svg","webpack:///./src/assets/icons/fthora-spathi.svg","webpack:///./src/assets/icons/time-diargon.svg","webpack:///./src/components/ModeKey.vue?8f5d","webpack:///./src/assets/icons/agogi-mesi.svg","webpack:///./src/assets/icons/fthora-diatonic-ni-low.svg","webpack:///./src/components/MainToolbar.vue?4198","webpack:///./src/assets/icons/note-ke.svg","webpack:///./src/assets/icons/ison-ke-low.svg","webpack:///./src/components/LyricsToolbar.vue?871d","webpack:///./src/assets/icons/alteration-yfesis2.svg","webpack:///./src/components/PageSetupDialog.vue?1d10","webpack:///./src/assets/icons/measure-number-3.svg","webpack:///./src/assets/icons/ison-vou.svg","webpack:///./src/assets/icons/fthora-soft-chromatic-ke.svg","webpack:///./src/assets/icons/measure-number-6.svg","webpack:///./src/assets/icons/note-ni.svg","webpack:///./src/assets/icons/time-trigorgon-dotted-left-below.svg","webpack:///./src/assets/icons/time-dipli.svg","webpack:///./src/assets/icons/letterPelastikon.svg","webpack:///./src/components/TextBoxToolbar.vue?8f0a","webpack:///./src/assets/icons/time-argon.svg","webpack:///./src/assets/icons/fthora-diatonic-zo.svg","webpack:///./src/assets/icons/quality-omalon-connecting.svg","webpack:///./src/assets/icons/measure-number-2.svg","webpack:///./src/assets/icons/ison-zo-high.svg","webpack:///./src/assets/icons/measure-number-8.svg","webpack:///./src/components/MartyriaToolbar.vue?2d0f","webpack:///./src/assets/icons/agogi-gorgoteri.svg","webpack:///./src/assets/icons/letterGorthmikon.svg","webpack:///./src/assets/icons/agogi-poli-argi.svg","webpack:///./src/components/NeumeToolbar.vue?139e","webpack:///./src/components/ModeKeyDialog.vue?ada3","webpack:///./src/assets/icons/fthora-diatonic-di.svg","webpack:///./src/assets/icons/ison-di-low.svg","webpack:///./src/components/Neume.vue?cabe","webpack:///./src/assets/icons/alignright2.svg","webpack:///./src/assets/icons/fthora-diatonic-vou.svg","webpack:///./src/assets/icons/ison-unison.svg","webpack:///./src/assets/icons/alteration-yfesis6.svg","webpack:///./src/views/Home.vue?65de","webpack:///./src/assets/icons/alignright.svg","webpack:///./src/assets/icons/quality-psifiston.svg","webpack:///./src/assets/icons/fthora-zygos.svg","webpack:///./src/assets/icons/ison-ni.svg","webpack:///./src/assets/icons/agogi-poli-gorgi.svg","webpack:///./src/assets/icons/fthora-soft-chromatic-di.svg","webpack:///./src/assets/icons/ison-pa.svg","webpack:///./src/components/ModeKeyToolbar.vue?6f1c","webpack:///./src/assets/icons/fthora-diatonic-pa.svg","webpack:///./src/assets/icons/fthora-hard-chromatic-di.svg","webpack:///./src/components/FileMenuBar.vue?813b","webpack:///./src/assets/icons/agogi-argi.svg","webpack:///./src/assets/icons/time-tripli.svg","webpack:///./src/components/NeumeBoxSyllablePrint.vue?923a","webpack:///./src/assets/icons/fthora-general-sharp.svg","webpack:///./src/assets/icons/time-klasma.svg","webpack:///./src/components/ModalDialog.vue?341c","webpack:///./src/assets/icons/note-pa.svg","webpack:///./src/assets/icons/line-break.svg","webpack:///./src/components/TextBox.vue?315e","webpack:///./src/assets/icons/time-triargon.svg","webpack:///./src/assets/icons/fthora-diatonic-ke.svg","webpack:///./src/components/NeumeBoxMartyriaPrint.vue?18b2","webpack:///./src/assets/icons/ison-zo.svg","webpack:///./src/assets/icons/fthora-general-flat.svg","webpack:///./src/assets/icons/note-zo.svg","webpack:///./src/assets/icons/measure-number-4.svg","webpack:///./src/assets/icons/measure-number-7.svg","webpack:///./src/assets/icons/time-digorgon-dotted-left-above.svg","webpack:///./src/assets/icons/drop-cap.svg","webpack:///./src/assets/icons/fthora-enharmonic.svg","webpack:///./src/assets/icons/time-trigorgon-dotted-right.svg","webpack:///./src/assets/icons/alteration-diesis4.svg","webpack:///./src/assets/icons/fthora-hard-chromatic-pa.svg","webpack:///./src/components/FileMenuItem.vue?b2a8","webpack:///./src/assets/icons/quality-omalon.svg","webpack:///./src/assets/icons/time-digorgon-dotted-left-below.svg","webpack:///./src/assets/icons/ison-di.svg","webpack:///./src/components/Editor.vue?a286","webpack:///./src/assets/icons/alteration-diesis6.svg","webpack:///./src/App.vue?c83d","webpack:///./src/App.vue","webpack:///./src/ipc/ipcChannels.ts","webpack:///./src/App.vue?198c","webpack:///./src/App.vue?315a","webpack:///./src/eventBus.ts","webpack:///./src/ipc/ipcListeners.ts","webpack:///./src/models/Neumes.ts","webpack:///./src/ipc/browserIpcListeners.ts","webpack:///./src/views/Home.vue?6be7","webpack:///./src/components/Editor.vue?3793","webpack:///./src/services/TextMeasurementService.ts","webpack:///./src/utils/Unit.ts","webpack:///./src/models/Scales.ts","webpack:///./src/models/NeumeReplacements.ts","webpack:///./src/models/Element.ts","webpack:///./src/models/EntryMode.ts","webpack:///./src/models/Header.ts","webpack:///./src/models/Headers.ts","webpack:///./src/models/PageSetup.ts","webpack:///./src/models/Staff.ts","webpack:///./src/models/Footer.ts","webpack:///./src/models/Footers.ts","webpack:///./src/models/Score.ts","webpack:///./src/services/history/commands/AddToCollectionCommand.ts","webpack:///./src/services/history/commands/RemoveFromCollectionCommand.ts","webpack:///./src/services/history/commands/ReplaceElementInCollectionCommand.ts","webpack:///./src/services/history/commands/UpdatePropertiesCommand.ts","webpack:///./src/services/history/CommandService.ts","webpack:///./src/models/save/v1/Neumes.ts","webpack:///./src/models/save/v1/Scales.ts","webpack:///./src/models/save/v1/Element.ts","webpack:///./src/models/Workspace.ts","webpack:///./src/models/save/v1/Footer.ts","webpack:///./src/models/save/v1/Footers.ts","webpack:///./src/models/save/v1/Header.ts","webpack:///./src/models/save/v1/Headers.ts","webpack:///./src/models/save/v1/PageSetup.ts","webpack:///./src/models/save/v1/Score.ts","webpack:///./src/services/SaveService.ts","webpack:///./src/services/NeumeMappingService.ts","webpack:///./src/models/NeumeValues.ts","webpack:///./src/models/Page.ts","webpack:///./src/services/LayoutService.ts","webpack:///./src/components/NeumeBoxSyllable.vue?42f7","webpack:///./src/components/Neume.vue?81a5","webpack:///./src/utils/withZoom.ts","webpack:///./src/components/Neume.vue","webpack:///./src/components/Neume.vue?ddf9","webpack:///./src/components/Neume.vue?7cdc","webpack:///./src/components/NeumeBoxSyllable.vue","webpack:///./src/components/NeumeBoxSyllable.vue?842b","webpack:///./src/components/NeumeBoxSyllable.vue?ac7b","webpack:///./src/components/NeumeBoxSyllablePrint.vue?a92f","webpack:///./src/services/FontService.ts","webpack:///./src/components/NeumeBoxSyllablePrint.vue","webpack:///./src/components/NeumeBoxSyllablePrint.vue?5a17","webpack:///./src/components/NeumeBoxSyllablePrint.vue?f743","webpack:///./src/components/NeumeBoxMartyria.vue?8f25","webpack:///./src/components/NeumeBoxMartyria.vue","webpack:///./src/components/NeumeBoxMartyria.vue?b5ed","webpack:///./src/components/NeumeBoxMartyria.vue?00c2","webpack:///./src/components/NeumeBoxMartyriaPrint.vue?b495","webpack:///./src/components/NeumeBoxMartyriaPrint.vue","webpack:///./src/components/NeumeBoxMartyriaPrint.vue?016d","webpack:///./src/components/NeumeBoxMartyriaPrint.vue?b16c","webpack:///./src/components/NeumeBoxTempo.vue?8962","webpack:///./src/components/NeumeBoxTempo.vue","webpack:///./src/components/NeumeBoxTempo.vue?70b3","webpack:///./src/components/NeumeBoxTempo.vue?8244","webpack:///./src/components/NeumeSelector.vue?b006","webpack:///./src/components/NeumeSelector.vue","webpack:///./src/components/NeumeSelector.vue?c0cd","webpack:///./src/components/NeumeSelector.vue?c4b4","webpack:///./src/components/ContentEditable.vue?0224","webpack:///./src/components/ContentEditable.vue","webpack:///./src/components/ContentEditable.vue?e685","webpack:///./src/components/ContentEditable.vue?e4ba","webpack:///./src/components/TextBox.vue?533b","webpack:///./src/utils/replaceTokens.ts","webpack:///./src/utils/getFontFamilyWithFallback.ts","webpack:///./src/components/TextBox.vue","webpack:///./src/components/TextBox.vue?b4e5","webpack:///./src/components/TextBox.vue?fd2f","webpack:///./src/components/DropCap.vue?39ad","webpack:///./src/components/DropCap.vue","webpack:///./src/components/DropCap.vue?dbf8","webpack:///./src/components/DropCap.vue?a980","webpack:///./src/components/ModeKey.vue?f160","webpack:///./src/components/ModeKey.vue","webpack:///./src/components/ModeKey.vue?1621","webpack:///./src/components/ModeKey.vue?6939","webpack:///./src/components/ModeKeyPrint.vue?37dc","webpack:///./src/components/ModeKeyPrint.vue","webpack:///./src/components/ModeKeyPrint.vue?8f3c","webpack:///./src/components/ModeKeyPrint.vue?e84f","webpack:///./src/components/TextBoxToolbar.vue?627d","webpack:///./src/components/TextBoxToolbar.vue","webpack:///./src/components/TextBoxToolbar.vue?952d","webpack:///./src/components/TextBoxToolbar.vue?296a","webpack:///./src/components/LyricsToolbar.vue?d1e5","webpack:///./src/components/LyricsToolbar.vue","webpack:///./src/components/LyricsToolbar.vue?2416","webpack:///./src/components/LyricsToolbar.vue?6f39","webpack:///./src/components/ModeKeyToolbar.vue?df0f","webpack:///./src/components/ModeKeyToolbar.vue","webpack:///./src/components/ModeKeyToolbar.vue?21ac","webpack:///./src/components/ModeKeyToolbar.vue?3919","webpack:///./src/components/MainToolbar.vue?f9e5","webpack:///./src/components/MainToolbar.vue","webpack:///./src/components/MainToolbar.vue?622c","webpack:///./src/components/MainToolbar.vue?e0b1","webpack:///./src/components/NeumeToolbar.vue?9106","webpack:///./src/components/NeumeToolbar.vue","webpack:///./src/components/NeumeToolbar.vue?0dad","webpack:///./src/components/NeumeToolbar.vue?3c2d","webpack:///./src/components/MartyriaToolbar.vue?2cda","webpack:///./src/components/MartyriaToolbar.vue","webpack:///./src/components/MartyriaToolbar.vue?19db","webpack:///./src/components/MartyriaToolbar.vue?bead","webpack:///./src/components/ModeKeyDialog.vue?483a","webpack:///./src/models/ModeKeys.ts","webpack:///./src/components/ModalDialog.vue?7b77","webpack:///./src/components/ModalDialog.vue","webpack:///./src/components/ModalDialog.vue?7b72","webpack:///./src/components/ModalDialog.vue?dc2c","webpack:///./src/components/ModeKeyDialog.vue","webpack:///./src/components/ModeKeyDialog.vue?ea48","webpack:///./src/components/ModeKeyDialog.vue?07b4","webpack:///./src/components/PageSetupDialog.vue?ebaf","webpack:///./src/components/PageSetupDialog.vue","webpack:///./src/components/PageSetupDialog.vue?b691","webpack:///./src/components/PageSetupDialog.vue?866d","webpack:///./src/components/FileMenuBar.vue?4608","webpack:///./src/components/FileMenuBarItem.vue?6408","webpack:///./src/components/FileMenuBarItem.vue","webpack:///./src/components/FileMenuBarItem.vue?bee6","webpack:///./src/components/FileMenuBarItem.vue?792d","webpack:///./src/components/FileMenuItem.vue?c2f3","webpack:///./src/components/FileMenuItem.vue","webpack:///./src/components/FileMenuItem.vue?b622","webpack:///./src/components/FileMenuItem.vue?8eb3","webpack:///./src/components/FileMenuBar.vue","webpack:///./src/utils/TestFileType.ts","webpack:///./src/components/FileMenuBar.vue?35fd","webpack:///./src/components/FileMenuBar.vue?8e20","webpack:///./src/utils/TestFileGenerator.ts","webpack:///./src/utils/shallowEquals.ts","webpack:///./src/utils/getFileNameFromPath.ts","webpack:///./src/utils/getCursorPosition.ts","webpack:///./src/components/Editor.vue","webpack:///./src/components/Editor.vue?0ed8","webpack:///./src/components/Editor.vue?178b","webpack:///./src/services/ipc/IpcService.ts","webpack:///./src/services/ipc/BrowserIpcService.ts","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?73d4","webpack:///./src/views/Home.vue","webpack:///./src/router/index.ts","webpack:///./src/registerServiceWorker.ts","webpack:///./src/main.ts","webpack:///./src/assets/icons/time-gorgon.svg","webpack:///./src/assets/icons/agogi-argoteri.svg","webpack:///./src/assets/icons/agogi-gorgi.svg","webpack:///./src/components/ModeKeyPrint.vue?e1e2","webpack:///./src/components/FileMenuBarItem.vue?f61c","webpack:///./src/assets/icons/barline-short-single.svg","webpack:///./src/components/NeumeBoxSyllable.vue?9fbb","webpack:///./src/assets/icons/quality-heteron.svg","webpack:///./src/assets/icons/note-di.svg","webpack:///./src/assets/icons/note-vou.svg","webpack:///./src/assets/icons/time-trigorgon-dotted-left-above.svg","webpack:///./src/assets/icons/ison-ke.svg","webpack:///./src/assets/icons/time-trigorgon.svg","webpack:///./src/assets/icons/time-gorgon-dotted-left.svg","webpack:///./src/assets/icons/quality-heteron-connecting.svg","webpack:///./src/assets/icons/ison-ga.svg","webpack:///./src/assets/icons/martyria.svg","webpack:///./src/components/ContentEditable.vue?de4e","webpack:///./src/assets/icons/time-apli.svg","webpack:///./src/assets/icons/time-gorgon-dotted-right.svg","webpack:///./src/assets/icons/aligncenter.svg","webpack:///./src/assets/icons/alteration-diesis2.svg","webpack:///./src/assets/icons/quality-antikenoma.svg"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","on","refreshApp","$event","updateExists","_e","staticRenderFns","navigator","serviceWorker","document","addEventListener","onUpdateAvailable","once","refreshing","location","reload","event","registration","detail","waiting","postMessage","type","IpcMainChannels","IpcRendererChannels","component","EventBus","QuantitativeNeume","TimeNeume","GorgonNeume","VocalExpressionNeume","RootSign","Note","TempoSign","ModeSign","Fthora","Accidental","MeasureBar","MeasureNumber","NoteIndicator","Ison","channel","ipcRenderer","args","$emit","values","$on","send","FileMenuPrint","ipcService","showFileMenuBar","entryMode","zoom","zoomToFit","updateZoom","updateZoomToFit","addAutoMartyria","updateEntryMode","togglePageBreak","toggleLineBreak","addTempo","addDropCap","deleteSelectedElement","nativeOn","selectedLyrics","score","pageSetup","addQuantitativeNeume","ref","onFileMenuNewScore","_l","workspace","index","class","selected","selectedWorkspace","filePath","_s","getFileName","stopPropagation","closeWorkspace","page","pageIndex","directives","rawName","callback","isVisible","updatePageVisibility","intersection","pageVisibilityIntersection","expression","refInFor","style","printMode","selectedTextbox","getHeaderForPageIndex","selectedHeaderFooterElement","getTokenMetadata","updateTextBoxContent","line","lineIndex","element","getElementStyle","isSyllableElement","getElementIndex","isSelected","ctrlKey","shiftKey","altKey","metaKey","selectedElement","setSelectionRange","getLyricStyle","focusLyrics","lyrics","updateLyrics","isMelisma","full","isFullMelisma","getMelismaStyle","domProps","melismaText","isMartyriaElement","isTempoElement","isEmptyElement","getEmptyBoxStyle","isTextBoxElement","isModeKeyElement","openModeKeyDialog","arguments","isDropCapElement","updateDropCapContent","getFooterForPageIndex","selectedTextBoxElement","fonts","updateTextBoxFontSize","updateTextBoxFontFamily","updateTextBoxAlignment","updateTextBoxColor","updateTextBoxInline","updateTextBoxBold","updateTextBoxItalic","updateTextBoxUnderline","insertGorthmikon","insertPelastikon","updateModeKeyFontSize","updateModeKeyAlignment","updateModeKeyColor","updateNoteAccidental","updateNoteFthora","updateNoteGorgon","updateNoteTime","updateNoteExpression","updateNoteMeasureBar","updateNoteMeasureNumber","updateNoteNoteIndicator","updateNoteIson","updateNoteVareia","updateNoteVocalExpression","updateMartyriaFthora","updateMartyriaMeasureBar","updateMartyriaAlignRight","updateMartyriaAuto","updateMartyriaNote","updateMartyriaScale","updateModeKeyFromTemplate","closeModeKeyDialog","updatePageSetup","closePageSetupDialog","petastiNeumes","PetastiWithIson","Petasti","PetastiPlusOligon","PetastiPlusKentimaAbove","PetastiPlusHypsiliRight","PetastiPlusHypsiliLeft","PetastiPlusHypsiliPlusKentimaHorizontal","PetastiPlusHypsiliPlusKentimaVertical","PetastiPlusDoubleHypsili","PetastiPlusApostrophos","PetastiPlusElaphron","PetastiPlusElaphronPlusApostrophos","PetastiPlusHyporoe","PetastiPlusRunningElaphron","Oligon","OligonPlusApostrophos","OligonPlusApostrophosPlusKentemata","OligonPlusDoubleHypsili","OligonPlusHyporoePlusKentemata","OligonPlusElaphronPlusApostrophosPlusKentemata","OligonPlusElaphronPlusKentemata","OligonPlusHamiliPlusKentemata","OligonPlusHypsiliLeft","OligonPlusHypsiliPlusKentimaHorizontal","OligonPlusHypsiliPlusKentimaVertical","OligonPlusHypsiliRight","OligonPlusIsonPlusKentemata","OligonPlusKentemata","OligonPlusKentemataPlusHypsiliLeft","OligonPlusKentemataPlusHypsiliRight","OligonPlusKentima","OligonPlusKentimaAbove","OligonPlusKentimaBelow","OligonPlusRunningElaphronPlusKentemata","KentemataPlusOligon","text","font","canvas","createElement","context","getContext","metrics","measureText","width","actualBoundingBoxAscent","actualBoundingBoxDescent","fontBoundingBoxAscent","fontBoundingBoxDescent","Scale","ScaleNote","inches","pixels","mm","points","kentemataNeumes","Kentemata","bottomAllowedGorgonNeumes","Apostrophos","Elaphron","Hamili","bottomOnlyKlasmaNeumes","OligonPlusElaphron","OligonPlusElaphronPlusApostrophos","OligonPlusHamili","OligonPlusIson","topOnlyKlasmaNeumes","HamiliPlusApostrophos","HamiliPlusElaphron","HamiliPlusElaphronPlusApostrophos","DoubleHamili","ElaphronPlusApostrophos","RunningElaphron","gorgonReplacementMap","Map","Gorgon_Top","isPairedWith","replaceWith","Gorgon_Bottom","isNotPairedWith","GorgonDottedLeft","GorgonDottedRight","Digorgon","DigorgonDottedLeft1","DigorgonDottedLeft2","DigorgonDottedRight","Trigorgon","TrigorgonDottedLeft1","TrigorgonDottedLeft2","TrigorgonDottedRight","Argon","Hemiolion","Diargon","timeReplacementMap","Hapli","IsonPlusApostrophos","DoubleApostrophos","Dipli","Tripli","Klasma_Top","Hyporoe","Klasma_Bottom","vocalExpressionReplacementMap","Antikenoma","Heteron","Psifiston","Homalon","HomalonConnecting","Vareia","fthoraReplacementMap","quantitativeNeumeReplacementMap","getGorgonReplacements","neume","getTimeReplacements","getVocalExpressionReplacements","getFthoraReplacements","getQuantitativeReplacements","areVocalExpressionsEquivalent","neume1","neume2","areNeumesEquivalent","replacements1","replacements2","find","x","onlyTakesTopKlasma","includes","onlyTakesBottomKlasma","onlyTakesTopGorgon","ElementType","scaleNoteToNoteValueMap","VouLow","GaLow","ThiLow","KeLow","Zo","Ni","Pa","Vou","Ga","Thi","Ke","ZoHigh","NiHigh","PaHigh","VouHigh","GaHigh","ThiHigh","KeHigh","getScaleNoteValue","note","TextBoxAlignment","clone","NoteElement","assign","getClipboardProperties","measureBar","measureNumber","noteIndicator","ison","accidental","fthora","gorgonNeume","secondaryGorgonNeume","quantitativeNeume","timeNeume","vocalExpressionNeume","vareia","_quantitativeNeume","replaceNeumes","_secondaryGorgonNeume","_timeNeume","_gorgonNeume","_vocalExpressionNeume","_accidental","_fthora","replaceQuantitativeNeumes","replaceGorgons","replaceTimeNeumes","replaceVocalExpressions","replaceFthora","replacements","replacement","isPairedWithVocalExpression","isNotPairedWithVocalExpression","Martyria","Alpha","Diatonic","MartyriaElement","auto","rootSign","alignRight","Tempo","Moderate","TempoElement","Empty","EmptyElement","EntryMode","TextBox","Left","TextBoxElement","alignment","color","content","fontSize","fontFamily","ModeKey","Center","fromPt","getFontHeight","ModeKeyElement","templateId","scale","scaleNote","martyria","fthoraAboveNote","fthora2","fthoraAboveNote2","fthoraAboveQuantitativeNeumeRight","note2","quantitativeNeumeAboveNote","quantitativeNeumeAboveNote2","quantitativeNeumeRight","template","id","DropCap","DropCapElement","pageSizes","fromInch","height","pageWidth","leftMargin","rightMargin","pageHeight","topMargin","bottomMargin","pageNumber","header","headerDifferentFirstPage","headers","firstPage","headerDifferentOddEven","even","odd","default","footer","footers","undefined","insertAtIndex","collection","elements","added","indexOf","execute","replacedElement","replaceAtIndex","previousValues","updateProperties","newValues","keys","target","notify","commandHistory","SetCanUndo","canUndo","SetCanRedo","canRedo","command","batch","batchId","nextBatchId","undo","redo","Auto","ScoreVersion","version","Error","startsWith","LoadScore_v1","staff","dropCapDefaultColor","dropCapDefaultFontFamily","dropCapDefaultFontSize","lineHeight","lyricsDefaultColor","lyricsDefaultFontFamily","lyricsDefaultFontSize","lyricsVerticalOffset","martyriaDefaultColor","tempoDefaultColor","modeKeyDefaultColor","neumeDefaultColor","neumeDefaultFontFamily","neumeDefaultFontSize","neumeDefaultSpacing","headerMargin","footerMargin","showHeader","showFooter","accidentalDefaultColor","fthoraDefaultColor","heteronDefaultColor","gorgonDefaultColor","measureBarDefaultColor","measureNumberDefaultColor","noteIndicatorDefaultColor","isonDefaultColor","pageSize","pageSizeUnit","landscape","hyphenSpacing","SaveHeader","SaveFooter","e","elementType","SaveDropCap","SaveMartyria","SaveTempo","SaveNote","SaveTextBox","SaveModeKey","console","warn","lineBreak","pageBreak","h","f","isMelismaStart","isHyphen","inline","bold","italic","underline","LoadPageSetup_v1","LoadHeader_v1","LoadFooter_v1","LoadDropCap_v1","LoadMartyria_v1","LoadTempo_v1","LoadNote_v1","LoadTextBox_v1","LoadModeKey_v1","glyphNameToCodepointMap","glyphnames","codepoint","Number","substring","set","String","fromCodePoint","mapNeumeToSbmufl","glyphName","salt","neumeToSbmuflGlyphMap","Kentima","Cross","VareiaDotted","GorgonSecondary","DigorgonSecondary","TrigorgonSecondary","GorgonDottedLeftSecondary","GorgonDottedRightSecondary","DigorgonDottedLeft1Secondary","DigorgonDottedRightSecondary","TrigorgonDottedLeft1Secondary","TrigorgonDottedRightSecondary","DiatonicNiLow_Top","DiatonicPa_Top","DiatonicVou_Top","DiatonicGa_Top","DiatonicThi_Top","DiatonicKe_Top","DiatonicZo_Top","DiatonicNiHigh_Top","HardChromaticPa_Top","HardChromaticThi_Top","SoftChromaticThi_Top","SoftChromaticPa_Top","Enharmonic_Top","Zygos_Top","Kliton_Top","Spathi_Top","GeneralSharp_Top","GeneralFlat_Top","DiatonicNiLow_Bottom","DiatonicPa_Bottom","DiatonicThi_Bottom","DiatonicKe_Bottom","DiatonicNiHigh_Bottom","HardChromaticPa_Bottom","HardChromaticThi_Bottom","SoftChromaticThi_Bottom","SoftChromaticPa_Bottom","Enharmonic_Bottom","Zygos_Bottom","Kliton_Bottom","GeneralSharp_Bottom","GeneralFlat_Bottom","Sharp_2_Left","Sharp_4_Left","Sharp_6_Left","Flat_2_Right","Flat_4_Right","Flat_6_Right","VerySlow","Slower","Slow","Medium","Quick","Quicker","VeryQuick","HeteronConnecting","Delta","Legetos","Nana","Squiggle","SquiggleLow","Tilt","TiltLow","SoftChromaticSquiggle","SoftChromaticSquiggleLow","Zygos","DeltaDotted","AlphaDotted","SoftChromaticPaRootSign","SoftChromaticPaRootSignLow","AlphaLow","DeltaLow","NanaLow","LegetosLow","Ekhos","Plagal","First","Second","Third","Fourth","FirstCapital","SecondCapital","ThirdCapital","FourthCapital","Varys","AlphaWithDeltaHat","AlphaWithHypsili","SoftChromatic6","SoftChromatic2","VarysZo","DeltaWithDeltaHat","DeltaWithHypsili","NanaOld","OligonPlusHypsili","MeasureBarRight","MeasureBarTop","Two","Three","Four","Five","Six","Seven","Eight","Unison","neumeValueMap","getNeumeValue","lines","isEmpty","textWidthCache","neumeWidthCache","forEach","calculateMartyrias","pages","currentPageHeightPx","currentLineWidthPx","lastLineHeightPx","lastElementWasLineBreak","lastElementWasPageBreak","neumeHeight","lyricHeight","vareiaMapping","getMapping","vareiaWidth","getTextWidth","elaphronMapping","elaphronWidth","runningElaphronMapping","runningElaphronWidth","processHeader","processFooter","elementWidthPx","currentPageNumber","getHeaderForPage","getFooterForPage","headerHeightPx","footerHeightPx","extraHeaderHeightPx","Math","max","extraFooterHeightPx","innerPageHeight","LayoutService","processTextBoxElement","innerPageWidth","noteElement","neumeWidth","getNeumeWidthFromCache","lyricsWidth","getTextWidthFromCache","lyricsHorizontalOffset","offset","measureBarMapping","martyriaElement","mappingNote","error","mappingRoot","mappingMeasureBar","padding","tempoElement","temoMapping","dropCapElement","dropCapFontFamily","dropCapFontSize","emptyElement","some","textbox","y","distanceFromTopToBottomOfLyrics","dropCapFont","fontHeight","fountBoundingBoxDescent","getFontBoundingBoxDescent","adjustment","justifyLines","addMelismas","textBoxElement","split","lineCount","ceil","currentWidthPx","map","reduce","sum","extraSpace","spaceToAdd","entries","elementIndex","widthOfUnderscore","widthOfHyphen","widthOfSpace","noteElements","filter","isIntermediateMelismaAtStartOfLine","melismaWidth","finalElement","nextElement","start","end","nextNoteElement","numberOfHyphensNeeded","floor","numberOfSpacesNeeded","numberOfSpacesBetweenHyphens","nextElementIsRunningElaphron","numberOfUnderScoresNeeded","currentNote","currentScale","currentShift","fthoraIsValid","getScaleFromFthora","getShift","modeKey","reverseNoteMap","has","noteMap","currentScaleNote","HardChromatic","SoftChromatic","diatonicRootSignMap","zygosRootSignMap","Kliton","klitonRootSignMap","Spathi","spathiRootSignMap","EnharmonicGa","enharmonicGaRootSignMap","EnharmonicVou","enharmonicVouRootSignMap","EnharmonicVouHigh","enharmonicVouHighRootSignMap","EnharmonicZoHigh","enharmonicZoRootSignMap","lowRootSignMap","highRootSignMap","fthoraNote","cache","neumeMapping","withZoom","unit","mapping","fontFeatureSettings","left","top","components","Neume","hasVocalExpressionNeume","hasHeteron","glyph","glyphAdvanceWidths","base","mark","markAnchorName","glyphsWithAnchors","markAnchor","baseAnchor","fontService","getOffset","position","getMarkOffset","vareiaGlyphName","getAdvanceWidth","openHyporoeMenu","selectedHyporoe","menuItem","gorgon","showHyporoeMenu","onHyporoeMouseUp","removeEventListener","SyllableNeumeBox","contentEditable","onBlur","editable","plaintextOnly","$el","htmlElement","innerText","selectAll","focus","execCommand","blur","textBoxClass","editMode","updateContent","replaceTokens","metadata","toString","Right","replace","numberOfPages","fileName","getFontFamilyWithFallback","family","fallback","$refs","textAlign","textElement","ContentEditable","staticStyle","markNeume","baseNeume","modifiers","_m","preventDefault","toPt","valueRounded","round","min","$forceUpdate","Insert","Edit","openTempoMenu","selectedTempoNeume","showZoomMenu","zoomDisplay","option","toFixed","onTempoMouseUp","valueAsNumber","parseInt","isNaN","showTempoMenu","setKlasma","openTimeMenu","selectedTimeNeume","openGorgonMenu","selectedGorgon","openDigorgonMenu","openTrigorgonMenu","setVocalExpression","openFlatMenu","selectedFlat","openSharpMenu","selectedSharp","setGorgonNeume","openBarLineMenu","selectedBarLine","openMeasureNumberMenu","selectedMeasureNumber","openNoteIndicatorMenu","selectedNoteIndicator","openIsonMenu","selectedIson","setFthora","onFlatMouseUp","onSharpMouseUp","onGorgonMouseUp","onDigorgonMouseUp","onTrigorgonMouseUp","onTimeMouseUp","onBarLineMouseUp","onMeasureNumberMouseUp","onNoteIndicatorMouseUp","onIsonMouseUp","neumes","equivalent","showFlatMenu","setAccidental","showSharpMenu","showGorgonMenu","showDigorgonMenu","showTrigorgonMenu","showTimeMenu","setTimeNeume","showBarLineMenu","setMeasureBar","showMeasureNumberMenu","setMeasureNumber","showNoteIndicatorMenu","setNoteIndicator","showIsonMenu","setIson","checked","displayName","getNoteDisplayName","getScaleDisplayName","selectedMode","selectMode","selectedModeKey","updateModeKey","modeKeyTemplates","_t","onKeyDown","createFromTemplate","code","modeKeyTemplatesForSelectedMode","ModalDialog","marginUnitLabel","marginStep","updateTopMargin","updateBottomMargin","updateLeftMargin","updateRightMargin","updateHeaderMargin","updateFooterMargin","_q","$$selectedVal","Array","options","val","_value","multiple","size","form","$set","spacingStep","neumeSpacing","updateNeumeSpacing","updateLyricsVerticalOffset","updateLineHeight","updateHyphenSpacing","isArray","_i","$$a","$$el","$$c","$$v","$$i","concat","resetToDefaults","updatePageSize","toMm","toInch","fromMm","toDisplayUnit","toStorageUnit","isMenuOpen","selectedMenu","toggleMenu","onClickNew","onClickOpen","onClickSave","onClickPageSetup","onClickUndo","onClickRedo","onClickCut","onClickCopy","onClickPaste","onClickAddDropCap","onClickAddTextBox","onClickAddInlineTextBox","onClickAddModeKey","onClickAddHeader","onClickAddFooter","onClickGuide","onClickRequestFeature","onClickReportIssue","onClickAbout","isChrome","accept","onSelectFile","currentTarget","label","chrome","file","FileMenuNewScore","fileSelector","click","FileMenuSaveAs","FileMenuPageSetup","files","endsWith","loadAsync","zip","async","FileMenuOpenScore","success","reader","FileReader","onload","readAsText","FileMenuCut","FileMenuCopy","FileMenuPaste","FileMenuUndo","FileMenuRedo","FileMenuInsertTextBox","FileMenuInsertModeKey","FileMenuInsertDropCap","FileMenuInsertHeader","FileMenuInsertFooter","alert","open","FileMenuBarItem","FileMenuItem","TestFileType","FthoraTop","generateTestFile_Fthora","FthoraBottom","Gorgon","generateTestFile_Gorgon","Klasma","generateTestFile_Klasma","generateTestFile_Hapli","Accidentals","generateTestFile_Accidentals","Expressions","generateTestFile_Expressions","Measures","generateTestFile_Measures","NoteIndicators","generateTestFile_NoteIndicators","generateTestFile_Isons","generateTestFile_ModeKey","Random","generateTestFile_Random","counter","q","random","shallowEquals","object1","object2","keys1","keys2","getFileNameFromPath","path","fileNameWithExtension","lastIndexOf","getCursorPosition","selection","getSelection","range","getRangeAt","startOffset","endOffset","IS_ELECTRON","keydownThrottleIntervalMs","moveToPreviousLyricBox","moveToNextLyricBox","moveLeft","moveRight","moveSelectionLeft","moveSelectionRight","deletePreviousElement","onFileMenuUndo","onFileMenuRedo","onCutScoreElements","onCopyScoreElements","onPasteScoreElements","onWindowResize","selectedWorkspaceValue","pageBackgroundElement","scrollLeft","scrollTop","commandService","save","nextTick","scrollTo","selectionRange","hasUnsavedChanges","minWidth","maxWidth","minHeight","maxHeight","bottom","margin","root","rootMargin","modeKeyDialogIsOpen","pageSetupDialogIsOpen","documentElement","setProperty","title","windowTitle","paddingLeft","untitledIndex","unsavedChangesMarker","tempFileName","currentFilePath","fontLoader","loadSystemFontsPromise","getSystemFonts","then","Promise","all","load","ready","onKeydown","onWindowResizeThrottled","CloseApplication","onCloseApplication","onFileMenuOpenScore","onFileMenuPrint","FileMenuSave","onFileMenuSave","onFileMenuSaveAs","onFileMenuPageSetup","FileMenuExportAsPdf","onFileMenuExportAsPdf","onFileMenuCut","onFileMenuCopy","onFileMenuPaste","onFileMenuInsertTextBox","onFileMenuInsertModeKey","onFileMenuInsertDropCap","onFileMenuInsertHeader","onFileMenuInsertFooter","FileMenuGenerateTestFile","onFileMenuGenerateTestFile","$off","selectedElementIndex","isLastElement","addScoreElement","updateNote","switchToSyllable","selectedElementAsNote","navigableElements","switchToMartyria","updateTempo","switchToTempo","scoreElementCommandFactory","newElement","replaceScoreElement","oldElement","activeElement","HTMLInputElement","HTMLTextAreaElement","HTMLElement","isContentEditable","performZoomToFit","isTextInputFocused","dialogOpen","onFileMenuUndoThrottled","onFileMenuRedoThrottled","onCutScoreElementsThrottled","onCopyScoreElementsThrottled","onPasteScoreElementsThrottled","onKeydownLyrics","onKeydownDropCap","onKeydownNeume","handled","moveSelectionLeftThrottled","moveSelectionRightThrottled","moveLeftThrottled","moveRightThrottled","deletePreviousElementThrottled","deleteSelectedElementThrottled","moveToNextLyricBoxThrottled","moveToPreviousLyricBoxThrottled","getLyricLength","getNextLyricBoxIndex","elementsToCut","clipboard","executeAsBatch","currentIndex","removeScoreElement","onPasteScoreElementsInsert","onPasteScoreElementsAuto","onPasteScoreElementsEdit","newElements","addScoreElements","at","commands","clipboardElement","currentElement","noteElementCommandFactory","tempoCommandFactory","martyriaCommandFactory","dropCapCommandFactory","modeKeyCommandFactory","textBoxCommandFactory","getInnerText","nextIndex","markUnsavedChanges","visiblePages","_","processPages","isBrowser","workspaceLocalStorage","JSON","stringify","SaveScoreToJson","localStorage","setItem","isDevelopment","removeItem","localStorageWorkspace","parse","getItem","LoadScoreFromJson","workspaces","openWorkspaceFromArgv","openWorkspaceResults","openScore","getTempFilename","createDefaultScore","scoreString","shouldClose","isShowMessageBoxSupported","showMessageBox","message","buttons","dialogResult","response","confirm","checkboxChecked","saveWorkspace","saveWorkspaceAs","saveResult","exitApplication","unsavedWorkspaces","sanitizedLyrics","keyHelper","updateTextBox","updateMartyria","sanitizedContent","elementsToDelete","pageSetupCommandFactory","computedStyle","getComputedStyle","availableWidth","clientWidth","parseFloat","paddingRight","tabContainerElement","scrollWidth","blurActiveElement","printWorkspace","focusElement","exportWorkspaceAsPdf","createDefaultModeKey","testFileType","unshift","generateTestFile","defaultTemplate","existingWorkspace","SyllableNeumeBoxPrint","MartyriaNeumeBox","MartyriaNeumeBoxPrint","TempoNeumeBox","NeumeSelector","ModeKeyPrint","TextBoxToolbar","LyricsToolbar","ModeKeyToolbar","NeumeToolbar","MartyriaToolbar","MainToolbar","ModeKeyDialog","PageSetupDialog","FileMenuBar","invoke","SaveWorkspace","SaveWorkspaceAs","ExportWorkspaceAsPdf","PrintWorkspace","OpenWorkspaceFromArgv","ShowMessageBox","GetSystemFonts","ExitApplication","doSave","resolve","a","generateAsync","compression","Blob","downloadFileName","href","URL","createObjectURL","download","Editor","created","use","routes","Home","router","log","registered","cached","updatefound","updated","dispatchEvent","CustomEvent","offline","config","productionTip","render","App","$mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,mBAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,gECvJTW,EAAOD,QAAU,IAA0B,iC,oCCA3C,W,uBCAAC,EAAOD,QAAU,IAA0B,uC,oCCA3C,W,uBCAAC,EAAOD,QAAU,IAA0B,+B,oCCA3C,W,uBCAAC,EAAOD,QAAU,IAA0B,+C,gDCA3CC,EAAOD,QAAU,IAA0B,uC,gDCA3CC,EAAOD,QAAU,IAA0B,2B,uBCA3CC,EAAOD,QAAU,IAA0B,kC,qBCA3CC,EAAOD,QAAU,IAA0B,qC,qBCA3CC,EAAOD,QAAU,IAA0B,8B,4CCA3CC,EAAOD,QAAU,IAA0B,kC,uBCA3CC,EAAOD,QAAU,IAA0B,4C,uBCA3CC,EAAOD,QAAU,IAA0B,4B,uBCA3CC,EAAOD,QAAU,IAA0B,mC,uBCA3CC,EAAOD,QAAU,IAA0B,mC,8CCA3CC,EAAOD,QAAU,IAA0B,kC,4CCA3CC,EAAOD,QAAU,IAA0B,iC,kCCA3C,W,uBCAAC,EAAOD,QAAU,IAA0B,+B,uBCA3CC,EAAOD,QAAU,IAA0B,2C,uscCA3C,W,uBCAAC,EAAOD,QAAU,IAA0B,4B,uBCA3CC,EAAOD,QAAU,IAA0B,gC,oCCA3C,W,uBCAAC,EAAOD,QAAU,IAA0B,uC,oCCA3C,W,uBCAAC,EAAOD,QAAU,IAA0B,qC,qBCA3CC,EAAOD,QAAU,IAA0B,6B,uBCA3CC,EAAOD,QAAU,IAA0B,6C,qBCA3CC,EAAOD,QAAU,IAA0B,qC,uBCA3CC,EAAOD,QAAU,IAA0B,4B,gDCA3CC,EAAOD,QAAU,IAA0B,qD,uBCA3CC,EAAOD,QAAU,IAA0B,+B,uBCA3CC,EAAOD,QAAU,IAA0B,qC,oCCA3C,W,qBCAAC,EAAOD,QAAU,IAA0B,+B,uBCA3CC,EAAOD,QAAU,IAA0B,uC,4CCA3CC,EAAOD,QAAU,IAA0B,8C,uBCA3CC,EAAOD,QAAU,IAA0B,qC,uBCA3CC,EAAOD,QAAU,IAA0B,iC,uBCA3CC,EAAOD,QAAU,IAA0B,qC,oCCA3C,W,uBCAAC,EAAOD,QAAU,IAA0B,oC,uBCA3CC,EAAOD,QAAU,IAA0B,qC,8CCA3CC,EAAOD,QAAU,IAA0B,oC,oCCA3C,W,2DCAA,W,qBCAAC,EAAOD,QAAU,IAA0B,uC,uBCA3CC,EAAOD,QAAU,IAA0B,gC,oCCA3C,W,uBCAAC,EAAOD,QAAU,IAA0B,gC,8CCA3CC,EAAOD,QAAU,IAA0B,wC,uBCA3CC,EAAOD,QAAU,IAA0B,gC,qBCA3CC,EAAOD,QAAU,IAA0B,uC,kCCA3C,W,uBCAAC,EAAOD,QAAU,IAA0B,+B,qBCA3CC,EAAOD,QAAU,IAA0B,sC,uBCA3CC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QX,EAAI6K,sBAAsB7K,EAAIa,KAAMb,EAAyB,sBAAEI,EAAG,kBAAkB,CAACE,MAAM,CAAC,UAAYN,EAAIwE,MAAMC,UAAU,MAAQzE,EAAI6I,OAAOpI,GAAG,CAAC,OAAS,SAASE,GAAQ,OAAOX,EAAI8K,gBAAgBnK,IAAS,MAAQX,EAAI+K,wBAAwB/K,EAAIa,MAAM,IACxgJ,EAAkB,G,iQH3BtB,SAAYqB,GACV,iBAEA,qBACA,qDACA,qDACA,qDACA,mDACA,qFACA,iFACA,uDAEA,uCACA,uBACA,2CACA,uDACA,uDACA,qDACA,uFACA,mFACA,yDAEA,+BACA,yBACA,uDACA,qBACA,mDACA,6CACA,2EACA,iCAEA,qDACA,+CACA,6EAEA,+CACA,+CACA,+DACA,6EACA,qEACA,uEACA,qGACA,mEAEA,uCACA,uBACA,6DACA,6CAEA,qCACA,mDACA,6CACA,2EACA,yCAEA,uBACA,2CACA,2BAEA,2CACA,qFACA,+CACA,6EACA,+EAEA,iCACA,oBAlEF,CAAYA,MAAiB,KAqE7B,SAAYC,GACV,6BACA,mCAEA,mBACA,mBACA,qBANF,CAAYA,MAAS,KASrB,SAAYC,GACV,6BACA,mCACA,yBACA,2BAEA,yCACA,2CAEA,+CACA,+CACA,+CAEA,iDACA,iDACA,iDAEA,uCACA,2DACA,6DAEA,2CACA,iEACA,iEAEA,6CACA,mEACA,mEAEA,mBACA,2BACA,uBA/BF,CAAYA,MAAW,KAkCvB,SAAYC,GACV,qBACA,2CACA,uBACA,6BACA,2BACA,uBACA,2CAPF,CAAYA,MAAoB,KAUhC,SAAYC,GACV,mBACA,mBACA,uBACA,iBACA,iBACA,uBACA,gBACA,yBACA,+BACA,mBACA,mDACA,yDACA,+BACA,+BACA,uDACA,6DACA,uBACA,yBACA,yBACA,6BApBF,CAAYA,MAAQ,KAuBpB,SAAYC,GACV,qBACA,mBACA,qBACA,mBACA,aACA,aACA,aACA,eACA,aACA,eACA,aACA,qBACA,qBACA,qBACA,uBACA,qBACA,uBACA,qBAlBF,CAAYA,MAAI,KAqBhB,SAAYC,GACV,yBACA,qBACA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2BAEA,yCACA,2CAEA,+CACA,+CACA,+CAEA,iDACA,iDACA,iDAEA,uCACA,2DACA,6DAEA,2CACA,iEACA,iEAEA,6CACA,mEACA,mEAEA,mBACA,2BACA,uBA/BF,CAAY,QAAW,KAkCvB,SAAYC,GACV,qBACA,2CACA,uBACA,6BACA,2BACA,uBACA,2CAPF,CAAY,QAAoB,KAUhC,SAAYC,GACV,mBACA,mBACA,uBACA,iBACA,iBACA,uBACA,gBACA,yBACA,+BACA,mBACA,mDACA,yDACA,+BACA,+BACA,uDACA,6DACA,uBACA,yBACA,yBACA,6BApBF,CAAY,QAAQ,KAuBpB,SAAYC,GACV,qBACA,mBACA,qBACA,mBACA,aACA,aACA,aACA,eACA,aACA,eACA,aACA,qBACA,qBACA,qBACA,uBACA,qBACA,uBACA,qBAlBF,CAAY,QAAI,KAqBhB,SAAYC,GACV,yBACA,qBACA,iBACA,qBACA,yBACA,mBACA,uBACA,2BARF,CAAY,QAAS,KAWrB,SAAYC,GACV,sBACA,sBACA,wBACA,sBACA,wBACA,sBACA,sBACA,4BACA,8BACA,4BACA,0CACA,8BACA,4CACA,4BACA,0CACA,8BACA,4CACA,4BACA,4BACA,oDACA,kDACA,8CACA,8CACA,0BACA,gCACA,4BACA,oDACA,kDACA,gCACA,gCACA,gEACA,kCACA,oDACA,oDAlCF,CAAY,QAAQ,KAqCpB,SAAYC,GACV,2CACA,qCACA,uCACA,qCACA,uCACA,qCACA,qCACA,6CACA,+CACA,iDACA,+CACA,iDACA,qCACA,2BACA,6BACA,6BAEA,iDACA,2CACA,6CACA,2CACA,mDACA,qDACA,uDACA,qDACA,uDACA,2CACA,iCACA,mCAEA,yCACA,+CAEA,uCACA,6CAnCF,CAAY,QAAM,KAsClB,SAAYC,GACV,iCACA,iCACA,iCAEA,iCACA,iCACA,iCAPF,CAAY,QAAU,KAUtB,SAAYC,GACVA,EAAA,qCACAA,EAAA,iCAFF,CAAY,QAAU,KAKtB,SAAYC,GACV,eACA,mBACA,iBACA,iBACA,eACA,mBACA,mBAPF,CAAY,QAAa,KAU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","file":"js/app.4d83c296.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/neanes-web-app/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/agogi-metria.9fd882df.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeumeSelector.vue?vue&type=style&index=0&id=dfcfda20&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/alteration-yfesis4.d40f1a7a.svg\";","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/page-break.a6395c88.svg\";","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&id=02d3e55c&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/time-digorgon-dotted-right.633a6105.svg\";","module.exports = __webpack_public_path__ + \"img/fthora-diatonic-ga.ac229885.svg\";","module.exports = __webpack_public_path__ + \"img/delete.02ee77e7.svg\";","module.exports = __webpack_public_path__ + \"img/time-digorgon.f113bef0.svg\";","module.exports = __webpack_public_path__ + \"img/measure-number-5.bf80317e.svg\";","module.exports = __webpack_public_path__ + \"img/alignleft.eec9e4cf.svg\";","module.exports = __webpack_public_path__ + \"img/fthora-kliton.11f486b9.svg\";","module.exports = __webpack_public_path__ + \"img/fthora-diatonic-ni-high.2ec8f652.svg\";","module.exports = __webpack_public_path__ + \"img/note-ga.6156ad91.svg\";","module.exports = __webpack_public_path__ + \"img/quality-vareia.5af98217.svg\";","module.exports = __webpack_public_path__ + \"img/barline-single.6e21ade5.svg\";","module.exports = __webpack_public_path__ + \"img/fthora-spathi.49b6aca2.svg\";","module.exports = __webpack_public_path__ + \"img/time-diargon.203fd44c.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModeKey.vue?vue&type=style&index=0&id=494ef422&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/agogi-mesi.0afaf213.svg\";","module.exports = __webpack_public_path__ + \"img/fthora-diatonic-ni-low.d1d2b2f7.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainToolbar.vue?vue&type=style&index=0&id=2f3de032&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/note-ke.524cdbc5.svg\";","module.exports = __webpack_public_path__ + \"img/ison-ke-low.b538abaa.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LyricsToolbar.vue?vue&type=style&index=0&id=6892978a&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/alteration-yfesis2.ccf152e1.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageSetupDialog.vue?vue&type=style&index=0&id=3795c613&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/measure-number-3.75ba72a8.svg\";","module.exports = __webpack_public_path__ + \"img/ison-vou.0bbfe0ed.svg\";","module.exports = __webpack_public_path__ + \"img/fthora-soft-chromatic-ke.922969cc.svg\";","module.exports = __webpack_public_path__ + \"img/measure-number-6.7c4f7113.svg\";","module.exports = __webpack_public_path__ + \"img/note-ni.e8d15229.svg\";","module.exports = __webpack_public_path__ + \"img/time-trigorgon-dotted-left-below.7c4b3fdf.svg\";","module.exports = __webpack_public_path__ + \"img/time-dipli.296736ac.svg\";","module.exports = __webpack_public_path__ + \"img/letterPelastikon.e3c997a7.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextBoxToolbar.vue?vue&type=style&index=0&id=de462840&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/time-argon.3bd7ec0e.svg\";","module.exports = __webpack_public_path__ + \"img/fthora-diatonic-zo.9af97654.svg\";","module.exports = __webpack_public_path__ + \"img/quality-omalon-connecting.7344eb26.svg\";","module.exports = __webpack_public_path__ + \"img/measure-number-2.5efbe25f.svg\";","module.exports = __webpack_public_path__ + \"img/ison-zo-high.060066e5.svg\";","module.exports = __webpack_public_path__ + \"img/measure-number-8.38572964.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MartyriaToolbar.vue?vue&type=style&index=0&id=5f9d1e89&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/agogi-gorgoteri.89341c51.svg\";","module.exports = __webpack_public_path__ + \"img/letterGorthmikon.30fafd1b.svg\";","module.exports = __webpack_public_path__ + \"img/agogi-poli-argi.4ca84a8c.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeumeToolbar.vue?vue&type=style&index=0&id=5bb7a049&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModeKeyDialog.vue?vue&type=style&index=0&id=502720fc&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/fthora-diatonic-di.433a9082.svg\";","module.exports = __webpack_public_path__ + \"img/ison-di-low.55226d43.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Neume.vue?vue&type=style&index=0&id=193b0df2&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/alignright2.10559db5.svg\";","module.exports = __webpack_public_path__ + \"img/fthora-diatonic-vou.30189dfc.svg\";","module.exports = __webpack_public_path__ + \"img/ison-unison.bdc25579.svg\";","module.exports = __webpack_public_path__ + \"img/alteration-yfesis6.ef5fe5cb.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=352f22f7&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/alignright.718c651a.svg\";","module.exports = __webpack_public_path__ + \"img/quality-psifiston.e9725060.svg\";","module.exports = __webpack_public_path__ + \"img/fthora-zygos.f71acccb.svg\";","module.exports = __webpack_public_path__ + \"img/ison-ni.d775c395.svg\";","module.exports = __webpack_public_path__ + \"img/agogi-poli-gorgi.291b83cc.svg\";","module.exports = __webpack_public_path__ + \"img/fthora-soft-chromatic-di.3f0acad6.svg\";","module.exports = __webpack_public_path__ + \"img/ison-pa.f3ac594f.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModeKeyToolbar.vue?vue&type=style&index=0&id=24bc3a00&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/fthora-diatonic-pa.3a844b71.svg\";","module.exports = __webpack_public_path__ + \"img/fthora-hard-chromatic-di.e179d446.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileMenuBar.vue?vue&type=style&index=0&id=be79c866&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/agogi-argi.834f8b9b.svg\";","module.exports = __webpack_public_path__ + \"img/time-tripli.7860dc7a.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeumeBoxSyllablePrint.vue?vue&type=style&index=0&id=a50c4a7a&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/fthora-general-sharp.d5ad4376.svg\";","module.exports = __webpack_public_path__ + \"img/time-klasma.5ba3065a.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalDialog.vue?vue&type=style&index=0&id=4b30b77b&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/note-pa.1dd55f6a.svg\";","module.exports = __webpack_public_path__ + \"img/line-break.038293bc.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextBox.vue?vue&type=style&index=0&id=f3c80b62&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/time-triargon.c0ff942f.svg\";","module.exports = __webpack_public_path__ + \"img/fthora-diatonic-ke.b410a50d.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeumeBoxMartyriaPrint.vue?vue&type=style&index=0&id=260bf202&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/ison-zo.7da6ba53.svg\";","module.exports = __webpack_public_path__ + \"img/fthora-general-flat.3e4b75c3.svg\";","module.exports = __webpack_public_path__ + \"img/note-zo.e1df7fd6.svg\";","module.exports = __webpack_public_path__ + \"img/measure-number-4.b9e58692.svg\";","module.exports = __webpack_public_path__ + \"img/measure-number-7.240c1d4b.svg\";","module.exports = __webpack_public_path__ + \"img/time-digorgon-dotted-left-above.91480c73.svg\";","module.exports = __webpack_public_path__ + \"img/drop-cap.5d7af210.svg\";","module.exports = __webpack_public_path__ + \"img/fthora-enharmonic.66e7a8c0.svg\";","module.exports = __webpack_public_path__ + \"img/time-trigorgon-dotted-right.7c6faeb1.svg\";","module.exports = __webpack_public_path__ + \"img/alteration-diesis4.1df14e19.svg\";","module.exports = __webpack_public_path__ + \"img/fthora-hard-chromatic-pa.41078d95.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileMenuItem.vue?vue&type=style&index=0&id=cca86baa&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/quality-omalon.1c56b987.svg\";","module.exports = __webpack_public_path__ + \"img/time-digorgon-dotted-left-below.7efed75f.svg\";","module.exports = __webpack_public_path__ + \"img/ison-di.b03a6616.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=0&id=474cb5ab&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/alteration-diesis6.a829b03e.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view'),(_vm.updateExists)?_c('div',{staticClass:\"update-notification\"},[_vm._v(\" An update is available. \"),_c('button',{staticClass:\"ok\",on:{\"click\":_vm.refreshApp}},[_vm._v(\"Update\")]),_c('button',{staticClass:\"cancel\",on:{\"click\":function($event){_vm.updateExists = false}}},[_vm._v(\"Not now\")])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\n\n@Component\nexport default class MartyriaToolbar extends Vue {\n  registration: ServiceWorkerRegistration | null = null;\n  updateExists: boolean = false;\n\n  created() {\n    if (navigator.serviceWorker) {\n      document.addEventListener(\n        'swUpdated',\n        this.onUpdateAvailable as EventListener,\n        {\n          once: true,\n        },\n      );\n\n      let refreshing = false;\n\n      navigator.serviceWorker.addEventListener('controllerchange', () => {\n        if (!refreshing) {\n          window.location.reload();\n          refreshing = true;\n        }\n      });\n    }\n  }\n\n  onUpdateAvailable(event: CustomEvent) {\n    this.registration = event.detail;\n    this.updateExists = true;\n  }\n\n  refreshApp() {\n    this.updateExists = false;\n    if (this.registration && this.registration.waiting) {\n      this.registration.waiting.postMessage({ type: 'SKIP_WAITING' });\n    }\n  }\n}\n","import { PageSize } from '@/models/PageSetup';\nimport { Score } from '@/models/save/v1/Score';\n\nexport enum IpcMainChannels {\n  FileMenuNewScore = 'FileMenuNewScore',\n  FileMenuOpenScore = 'FileMenuOpenScore',\n  FileMenuPrint = 'FileMenuPrint',\n  FileMenuSave = 'FileMenuSave',\n  FileMenuSaveAs = 'FileMenuSaveAs',\n  FileMenuExportAsPdf = 'FileMenuExportAsPdf',\n\n  FileMenuPageSetup = 'FileMenuPageSetup',\n\n  FileMenuUndo = 'FileMenuUndo',\n  FileMenuRedo = 'FileMenuRedo',\n\n  FileMenuCut = 'FileMenuCut',\n  FileMenuCopy = 'FileMenuCopy',\n  FileMenuPaste = 'FileMenuPaste',\n\n  FileMenuInsertTextBox = 'FileMenuInsertTextBox',\n  FileMenuInsertModeKey = 'FileMenuInsertModeKey',\n  FileMenuInsertDropCap = 'FileMenuInsertDropCap',\n\n  FileMenuInsertHeader = 'FileMenuInsertHeader',\n  FileMenuInsertFooter = 'FileMenuInsertFooter',\n\n  FileMenuGenerateTestFile = 'GenerateTestFile',\n\n  CloseApplication = 'CloseApplication',\n}\n\nexport enum IpcRendererChannels {\n  SetCanUndo = 'SetCanUndo',\n  SetCanRedo = 'SetCanRedo',\n\n  ShowMessageBox = 'ShowMessageBox',\n\n  SaveWorkspace = 'SaveWorkspace',\n  SaveWorkspaceAs = 'SaveWorkspaceAs',\n  ExportWorkspaceAsPdf = 'ExportWorkspaceAsPdf',\n  PrintWorkspace = 'PrintWorkspace',\n  OpenWorkspaceFromArgv = 'OpenWorkspaceFromArgv',\n\n  GetSystemFonts = 'GetSystemFonts',\n\n  ExitApplication = 'ExitApplication',\n}\n\nexport interface FileMenuOpenScoreArgs {\n  data: string;\n  filePath: string;\n  success: boolean;\n}\n\nexport interface ShowMessageBoxArgs {\n  type?: 'none' | 'info' | 'error' | 'question' | 'warning';\n  title?: string;\n  message: string;\n  detail?: string;\n  buttons?: string[];\n}\n\nexport interface ShowMessageBoxReplyArgs {\n  /**\n   * The index of the clicked button.\n   */\n  response: number;\n  /**\n   * The checked state of the checkbox if `checkboxLabel` was set. Otherwise `false`.\n   */\n  checkboxChecked: boolean;\n}\n\nexport interface FileMenuInsertTextboxArgs {\n  inline: boolean;\n}\n\nexport interface SaveWorkspaceArgs {\n  filePath: string;\n  data: Score;\n}\n\nexport interface SaveWorkspaceAsArgs {\n  filePath: string | null;\n  tempFileName: string;\n  data: Score;\n}\n\nexport interface SaveWorkspaceAsReplyArgs {\n  filePath: string;\n  success: boolean;\n}\n\nexport interface SaveWorkspaceReplyArgs {\n  success: boolean;\n}\n\nexport interface ExportWorkspaceAsPdfArgs {\n  filePath: string | null;\n  tempFileName: string;\n  pageSize: PageSize;\n  landscape: boolean;\n}\n\nexport interface PrintWorkspaceArgs {\n  pageSize: PageSize;\n  landscape: boolean;\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--15-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--15-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--15-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--15-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=02d3e55c&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./App.vue?vue&type=style&index=1&id=02d3e55c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02d3e55c\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nexport const EventBus = new Vue();\n","import { EventBus } from '@/eventBus';\nimport { IpcMainChannels, IpcRendererChannels } from './ipcChannels';\n\n/**\n * This file abstracts the Electron IPC Renderer from the rest of the app.\n * For example, if running as a normal web site, a file menu could be\n * implemented that uses the Event Bus to send the same events.\n */\nexport const initializeIpcListeners = () => {\n  for (let channel of Object.values(IpcMainChannels)) {\n    window.ipcRenderer.on(channel, (...args) => {\n      EventBus.$emit(channel, ...args);\n    });\n  }\n\n  for (let channel of Object.values(IpcRendererChannels)) {\n    EventBus.$on(channel, (...args: any[]) => {\n      window.ipcRenderer.send(channel, ...args);\n    });\n  }\n};\n","export enum QuantitativeNeume {\n  Ison = 'Ison',\n\n  Oligon = 'Oligon',\n  OligonPlusKentimaBelow = 'OligonPlusKentimaBelow',\n  OligonPlusKentimaAbove = 'OligonPlusKentimaAbove',\n  OligonPlusHypsiliRight = 'OligonPlusHypsiliRight',\n  OligonPlusHypsiliLeft = 'OligonPlusHypsiliLeft',\n  OligonPlusHypsiliPlusKentimaHorizontal = 'OligonPlusHypsiliPlusKentimaHorizontal',\n  OligonPlusHypsiliPlusKentimaVertical = 'OligonPlusHypsiliPlusKentimaVertical',\n  OligonPlusDoubleHypsili = 'OligonPlusDoubleHypsili',\n\n  PetastiWithIson = 'PetastiWithIson',\n  Petasti = 'Petasti',\n  PetastiPlusOligon = 'PetastiPlusOligon',\n  PetastiPlusKentimaAbove = 'PetastiPlusKentimaAbove',\n  PetastiPlusHypsiliRight = 'PetastiPlusHypsiliRight',\n  PetastiPlusHypsiliLeft = 'PetastiPlusHypsiliLeft',\n  PetastiPlusHypsiliPlusKentimaHorizontal = 'PetastiPlusHypsiliPlusKentimaHorizontal',\n  PetastiPlusHypsiliPlusKentimaVertical = 'PetastiPlusHypsiliPlusKentimaVertical',\n  PetastiPlusDoubleHypsili = 'PetastiPlusDoubleHypsili',\n\n  Apostrophos = 'Apostrophos',\n  Elaphron = 'Elaphron',\n  ElaphronPlusApostrophos = 'ElaphronPlusApostrophos',\n  Hamili = 'Hamili',\n  HamiliPlusApostrophos = 'HamiliPlusApostrophos',\n  HamiliPlusElaphron = 'HamiliPlusElaphron',\n  HamiliPlusElaphronPlusApostrophos = 'HamiliPlusElaphronPlusApostrophos',\n  DoubleHamili = 'DoubleHamili',\n\n  PetastiPlusApostrophos = 'PetastiPlusApostrophos',\n  PetastiPlusElaphron = 'PetastiPlusElaphron',\n  PetastiPlusElaphronPlusApostrophos = 'PetastiPlusElaphronPlusApostrophos',\n\n  OligonPlusKentemata = 'OligonPlusKentemata',\n  KentemataPlusOligon = 'KentemataPlusOligon',\n  OligonPlusIsonPlusKentemata = 'OligonPlusIsonPlusKentemata',\n  OligonPlusApostrophosPlusKentemata = 'OligonPlusApostrophosPlusKentemata',\n  OligonPlusHyporoePlusKentemata = 'OligonPlusHyporoePlusKentemata',\n  OligonPlusElaphronPlusKentemata = 'OligonPlusElaphronPlusKentemata',\n  OligonPlusElaphronPlusApostrophosPlusKentemata = 'OligonPlusElaphronPlusApostrophosPlusKentemata',\n  OligonPlusHamiliPlusKentemata = 'OligonPlusHamiliPlusKentemata',\n\n  RunningElaphron = 'RunningElaphron',\n  Hyporoe = 'Hyporoe',\n  PetastiPlusRunningElaphron = 'PetastiPlusRunningElaphron',\n  PetastiPlusHyporoe = 'PetastiPlusHyporoe',\n\n  OligonPlusIson = 'OligonPlusIson',\n  OligonPlusApostrophos = 'OligonPlusApostrophos',\n  OligonPlusElaphron = 'OligonPlusElaphron',\n  OligonPlusElaphronPlusApostrophos = 'OligonPlusElaphronPlusApostrophos',\n  OligonPlusHamili = 'OligonPlusHamili',\n\n  Kentima = 'Kentima',\n  OligonPlusKentima = 'OligonPlusKentima',\n  Kentemata = 'Kentemata',\n\n  DoubleApostrophos = 'DoubleApostrophos',\n  OligonPlusRunningElaphronPlusKentemata = 'OligonPlusRunningElaphronPlusKentemata',\n  IsonPlusApostrophos = 'IsonPlusApostrophos',\n  OligonPlusKentemataPlusHypsiliLeft = 'OligonPlusKentemataPlusHypsiliLeft',\n  OligonPlusKentemataPlusHypsiliRight = 'OligonPlusKentemataPlusHypsiliRight',\n\n  VareiaDotted = 'VareiaDotted',\n  Cross = 'Cross',\n}\n\nexport enum TimeNeume {\n  Klasma_Top = 'Klasma_Top',\n  Klasma_Bottom = 'Klasma_Bottom',\n\n  Hapli = 'Hapli',\n  Dipli = 'Dipli',\n  Tripli = 'Tripli',\n}\n\nexport enum GorgonNeume {\n  Gorgon_Top = 'Gorgon_Top',\n  Gorgon_Bottom = 'Gorgon_Bottom',\n  Digorgon = 'Digorgon',\n  Trigorgon = 'Trigorgon',\n\n  GorgonDottedLeft = 'GorgonDottedLeft',\n  GorgonDottedRight = 'GorgonDottedRight',\n\n  DigorgonDottedLeft1 = 'DigorgonDottedLeft1',\n  DigorgonDottedLeft2 = 'DigorgonDottedLeft2',\n  DigorgonDottedRight = 'DigorgonDottedRight',\n\n  TrigorgonDottedLeft1 = 'TrigorgonDottedLeft1',\n  TrigorgonDottedLeft2 = 'TrigorgonDottedLeft2',\n  TrigorgonDottedRight = 'TrigorgonDottedRight',\n\n  GorgonSecondary = 'GorgonSecondary',\n  GorgonDottedLeftSecondary = 'GorgonDottedLeftSecondary',\n  GorgonDottedRightSecondary = 'GorgonDottedRightSecondary',\n\n  DigorgonSecondary = 'DigorgonSecondary',\n  DigorgonDottedLeft1Secondary = 'DigorgonDottedLeft1Secondary',\n  DigorgonDottedRightSecondary = 'DigorgonDottedRightSecondary',\n\n  TrigorgonSecondary = 'TrigorgonSecondary',\n  TrigorgonDottedLeft1Secondary = 'TrigorgonDottedLeft1Secondary',\n  TrigorgonDottedRightSecondary = 'TrigorgonDottedRightSecondary',\n\n  Argon = 'Argon',\n  Hemiolion = 'Hemiolion',\n  Diargon = 'Diargon',\n}\n\nexport enum VocalExpressionNeume {\n  Vareia = 'Vareia',\n  HomalonConnecting = 'HomalonConnecting',\n  Homalon = 'Homalon',\n  Antikenoma = 'Antikenoma',\n  Psifiston = 'Psifiston',\n  Heteron = 'Heteron',\n  HeteronConnecting = 'HeteronConnecting',\n}\n\nexport enum RootSign {\n  Delta = 'Delta',\n  Alpha = 'Alpha',\n  Legetos = 'Legetos',\n  Nana = 'Nana',\n  Tilt = 'Tilt',\n  TiltLow = 'TiltLow',\n  Zo = 'Varys',\n  Squiggle = 'Squiggle',\n  SquiggleLow = 'SquiggleLow',\n  Zygos = 'Zygos',\n  SoftChromaticSquiggle = 'SoftChromaticSquiggle',\n  SoftChromaticSquiggleLow = 'SoftChromaticSquiggleLow',\n  DeltaDotted = 'DeltaDotted',\n  AlphaDotted = 'AlphaDotted',\n  SoftChromaticPaRootSign = 'SoftChromaticPaRootSign',\n  SoftChromaticPaRootSignLow = 'SoftChromaticPaRootSignLow',\n  NanaLow = 'NanaLow',\n  DeltaLow = 'DeltaLow',\n  AlphaLow = 'AlphaLow',\n  LegetosLow = 'LegetosLow',\n}\n\nexport enum Note {\n  VouLow = 'VouLow',\n  GaLow = 'GaLow',\n  ThiLow = 'ThiLow',\n  KeLow = 'KeLow',\n  Zo = 'Zo',\n  Ni = 'Ni',\n  Pa = 'Pa',\n  Vou = 'Vou',\n  Ga = 'Ga',\n  Thi = 'Thi',\n  Ke = 'Ke',\n  ZoHigh = 'ZoHigh',\n  NiHigh = 'NiHigh',\n  PaHigh = 'PaHigh',\n  VouHigh = 'VouHigh',\n  GaHigh = 'GaHigh',\n  ThiHigh = 'ThiHigh',\n  KeHigh = 'KeHigh',\n}\n\nexport enum TempoSign {\n  VerySlow = 'VerySlow',\n  Slower = 'Slower',\n  Slow = 'Slow',\n  Medium = 'Medium',\n  Moderate = 'Moderate',\n  Quick = 'Quick',\n  Quicker = 'Quicker',\n  VeryQuick = 'VeryQuick',\n}\n\nexport enum ModeSign {\n  Ni = 'ModeSign.Ni',\n  Pa = 'ModeSign.Pa',\n  Vou = 'ModeSign.Vou',\n  Ga = 'ModeSign.Ga',\n  Thi = 'ModeSign.Thi',\n  Ke = 'ModeSign.Ke',\n  Zo = 'ModeSign.Zo',\n  Ekhos = 'ModeSign.Ekhos',\n  Plagal = 'ModeSign.Plagal',\n  First = 'ModeSign.First',\n  FirstCapital = 'ModeSign.FirstCapital',\n  Second = 'ModeSign.Second',\n  SecondCapital = 'ModeSign.SecondCapital',\n  Third = 'ModeSign.Third',\n  ThirdCapital = 'ModeSign.ThirdCapital',\n  Fourth = 'ModeSign.Fourth',\n  FourthCapital = 'ModeSign.FourthCapital',\n  Varys = 'ModeSign.Varys',\n  Alpha = 'ModeSign.Alpha',\n  AlphaWithDeltaHat = 'ModeSign.AlphaWithDeltaHat',\n  AlphaWithHypsili = 'ModeSign.AlphaWithHypsili',\n  SoftChromatic2 = 'ModeSign.SoftChromatic2',\n  SoftChromatic6 = 'ModeSign.SoftChromatic6',\n  Nana = 'ModeSign.Nana',\n  VarysZo = 'ModeSign.VarysZo',\n  Delta = 'ModeSign.Delta',\n  DeltaWithDeltaHat = 'ModeSign.DeltaWithDeltaHat',\n  DeltaWithHypsili = 'ModeSign.DeltaWithHypsili',\n  NanaOld = 'ModeSign.NanaOld',\n  Legetos = 'ModeSign.Legetos',\n  ElaphronPlusApostrophos = 'ModeSign.ElaphronPlusApostrophos',\n  Elaphron = 'ModeSign.Elaphron',\n  OligonPlusKentima = 'ModeSign.OligonPlusKentima',\n  OligonPlusHypsili = 'ModeSign.OligonPlusHypsili',\n}\n\nexport enum Fthora {\n  DiatonicNiLow_Top = 'DiatonicNiLow_Top',\n  DiatonicPa_Top = 'DiatonicPa_Top',\n  DiatonicVou_Top = 'DiatonicVou_Top',\n  DiatonicGa_Top = 'DiatonicGa_Top',\n  DiatonicThi_Top = 'DiatonicThi_Top',\n  DiatonicKe_Top = 'DiatonicKe_Top',\n  DiatonicZo_Top = 'DiatonicZo_Top',\n  DiatonicNiHigh_Top = 'DiatonicNiHigh_Top',\n  HardChromaticPa_Top = 'HardChromaticPa_Top',\n  HardChromaticThi_Top = 'HardChromaticThi_Top',\n  SoftChromaticPa_Top = 'SoftChromaticPa_Top',\n  SoftChromaticThi_Top = 'SoftChromaticThi_Top',\n  Enharmonic_Top = 'Enharmonic_Top',\n  Zygos_Top = 'Zygos_Top',\n  Kliton_Top = 'Kliton_Top',\n  Spathi_Top = 'Spathi_Top',\n\n  DiatonicNiLow_Bottom = 'DiatonicNiLow_Bottom',\n  DiatonicPa_Bottom = 'DiatonicPa_Bottom',\n  DiatonicThi_Bottom = 'DiatonicThi_Bottom',\n  DiatonicKe_Bottom = 'DiatonicKe_Bottom',\n  DiatonicNiHigh_Bottom = 'DiatonicNiHigh_Bottom',\n  HardChromaticPa_Bottom = 'HardChromaticPa_Bottom',\n  HardChromaticThi_Bottom = 'HardChromaticThi_Bottom',\n  SoftChromaticPa_Bottom = 'SoftChromaticPa_Bottom',\n  SoftChromaticThi_Bottom = 'SoftChromaticThi_Bottom',\n  Enharmonic_Bottom = 'Enharmonic_Bottom',\n  Zygos_Bottom = 'Zygos_Bottom',\n  Kliton_Bottom = 'Kliton_Bottom',\n\n  GeneralSharp_Top = 'GeneralSharp_Top',\n  GeneralSharp_Bottom = 'GeneralSharp_Bottom',\n\n  GeneralFlat_Top = 'GeneralFlat_Top',\n  GeneralFlat_Bottom = 'GeneralFlat_Bottom',\n}\n\nexport enum Accidental {\n  Sharp_2_Left = 'Sharp_2_Left',\n  Sharp_4_Left = 'Sharp_4_Left',\n  Sharp_6_Left = 'Sharp_6_Left',\n\n  Flat_2_Right = 'Flat_2_Right',\n  Flat_4_Right = 'Flat_4_Right',\n  Flat_6_Right = 'Flat_6_Right',\n}\n\nexport enum MeasureBar {\n  MeasureBarRight = 'MeasureBarRight',\n  MeasureBarTop = 'MeasureBarTop',\n}\n\nexport enum MeasureNumber {\n  Two = 'Two',\n  Three = 'Three',\n  Four = 'Four',\n  Five = 'Five',\n  Six = 'Six',\n  Seven = 'Seven',\n  Eight = 'Eight',\n}\n\nexport enum NoteIndicator {\n  Ni = 'NoteIndicator.Ni',\n  Pa = 'NoteIndicator.Pa',\n  Vou = 'NoteIndicator.Vou',\n  Ga = 'NoteIndicator.Ga',\n  Thi = 'NoteIndicator.Thi',\n  Ke = 'NoteIndicator.Ke',\n  Zo = 'NoteIndicator.Zo',\n}\n\nexport enum Ison {\n  Unison = 'Ison.Unison',\n  ThiLow = 'Ison.ThiLow',\n  KeLow = 'Ison.KeLow',\n  Zo = 'Ison.Zo',\n  Ni = 'Ison.Ni',\n  Pa = 'Ison.Pa',\n  Vou = 'Ison.Vou',\n  Ga = 'Ison.Ga',\n  Thi = 'Ison.Thi',\n  Ke = 'Ison.Ke',\n  ZoHigh = 'Ison.ZoHigh',\n}\n\nexport type Neume =\n  | QuantitativeNeume\n  | TimeNeume\n  | GorgonNeume\n  | VocalExpressionNeume\n  | Fthora\n  | Accidental\n  | TempoSign\n  | Note\n  | RootSign\n  | ModeSign\n  | MeasureBar\n  | MeasureNumber\n  | NoteIndicator\n  | Ison;\n\nexport const petastiNeumes: ReadonlyArray<QuantitativeNeume> = [\n  QuantitativeNeume.PetastiWithIson,\n  QuantitativeNeume.Petasti,\n  QuantitativeNeume.PetastiPlusOligon,\n  QuantitativeNeume.PetastiPlusKentimaAbove,\n  QuantitativeNeume.PetastiPlusHypsiliRight,\n  QuantitativeNeume.PetastiPlusHypsiliLeft,\n  QuantitativeNeume.PetastiPlusHypsiliPlusKentimaHorizontal,\n  QuantitativeNeume.PetastiPlusHypsiliPlusKentimaVertical,\n  QuantitativeNeume.PetastiPlusDoubleHypsili,\n  QuantitativeNeume.PetastiPlusApostrophos,\n  QuantitativeNeume.PetastiPlusElaphron,\n  QuantitativeNeume.PetastiPlusElaphronPlusApostrophos,\n  QuantitativeNeume.PetastiPlusHyporoe,\n  QuantitativeNeume.PetastiPlusRunningElaphron,\n];\n\nexport const oligonNeumes: ReadonlyArray<QuantitativeNeume> = [\n  QuantitativeNeume.Oligon,\n  QuantitativeNeume.OligonPlusApostrophos,\n  QuantitativeNeume.OligonPlusApostrophosPlusKentemata,\n  QuantitativeNeume.OligonPlusDoubleHypsili,\n  QuantitativeNeume.OligonPlusHyporoePlusKentemata,\n  QuantitativeNeume.OligonPlusElaphronPlusApostrophosPlusKentemata,\n  QuantitativeNeume.OligonPlusElaphronPlusKentemata,\n  QuantitativeNeume.OligonPlusHamiliPlusKentemata,\n  QuantitativeNeume.OligonPlusHypsiliLeft,\n  QuantitativeNeume.OligonPlusHypsiliPlusKentimaHorizontal,\n  QuantitativeNeume.OligonPlusHypsiliPlusKentimaVertical,\n  QuantitativeNeume.OligonPlusHypsiliRight,\n  QuantitativeNeume.OligonPlusIsonPlusKentemata,\n  QuantitativeNeume.OligonPlusKentemata,\n  QuantitativeNeume.OligonPlusKentemataPlusHypsiliLeft,\n  QuantitativeNeume.OligonPlusKentemataPlusHypsiliRight,\n  QuantitativeNeume.OligonPlusKentima,\n  QuantitativeNeume.OligonPlusKentimaAbove,\n  QuantitativeNeume.OligonPlusKentimaBelow,\n  QuantitativeNeume.OligonPlusRunningElaphronPlusKentemata,\n  QuantitativeNeume.KentemataPlusOligon,\n  QuantitativeNeume.PetastiPlusOligon,\n];\n","import { EventBus } from '@/eventBus';\nimport { IpcMainChannels, IpcRendererChannels } from './ipcChannels';\n\nexport const initalizeBrowserIpcListeners = () => {\n  // If using the browser, then we need to hook into the beforeprint event\n  // to handle printing\n  window.addEventListener('beforeprint', () =>\n    EventBus.$emit(IpcMainChannels.FileMenuPrint),\n  );\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('Editor',{attrs:{\"ipcService\":_vm.ipcService,\"showFileMenuBar\":_vm.showFileMenuBar}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"editor\"},[(_vm.showFileMenuBar)?_c('FileMenuBar'):_vm._e(),_c('MainToolbar',{attrs:{\"entryMode\":_vm.entryMode,\"zoom\":_vm.zoom,\"zoomToFit\":_vm.zoomToFit},on:{\"update:zoom\":_vm.updateZoom,\"update:zoomToFit\":_vm.updateZoomToFit,\"add-auto-martyria\":_vm.addAutoMartyria,\"update:entryMode\":_vm.updateEntryMode,\"toggle-page-break\":_vm.togglePageBreak,\"toggle-line-break\":_vm.toggleLineBreak,\"add-tempo\":_vm.addTempo,\"add-drop-cap\":_vm.addDropCap,\"delete-selected-element\":_vm.deleteSelectedElement},nativeOn:{\"click\":function($event){_vm.selectedLyrics = null}}}),_c('div',{staticClass:\"content\"},[_c('NeumeSelector',{staticClass:\"neume-selector\",attrs:{\"pageSetup\":_vm.score.pageSetup},on:{\"select-quantitative-neume\":_vm.addQuantitativeNeume}}),_c('div',{staticClass:\"page-container\"},[_c('div',{ref:\"workspace-tab-container\",staticClass:\"workspace-tab-container\"},[_c('div',{staticClass:\"workspace-tab-new-button\",on:{\"click\":_vm.onFileMenuNewScore}},[_vm._v(\" + \")]),_vm._l((_vm.workspaces),function(workspace,index){return _c('div',{key:(index + \"-\" + (workspace.filePath)),staticClass:\"workspace-tab\",class:{ selected: workspace == _vm.selectedWorkspace },attrs:{\"title\":workspace.filePath},on:{\"click\":function($event){_vm.selectedWorkspace = workspace}}},[_c('div',{staticClass:\"workspace-tab-label\"},[_vm._v(\" \"+_vm._s(_vm.getFileName(workspace))+\" \")]),_c('div',{staticClass:\"workspace-tab-close-btn\",on:{\"click\":function($event){$event.stopPropagation();return _vm.closeWorkspace(workspace)}}},[_vm._v(\" X \")])])})],2),_c('div',{ref:\"page-background\",staticClass:\"page-background\"},_vm._l((_vm.filteredPages),function(page,pageIndex){return _c('div',{directives:[{name:\"observe-visibility\",rawName:\"v-observe-visibility\",value:({\n            callback: function (isVisible) { return _vm.updatePageVisibility(page, isVisible); },\n            intersection: _vm.pageVisibilityIntersection,\n          }),expression:\"{\\n            callback: (isVisible) => updatePageVisibility(page, isVisible),\\n            intersection: pageVisibilityIntersection,\\n          }\"}],key:(\"page-\" + pageIndex),ref:(\"page-\" + pageIndex),refInFor:true,staticClass:\"page\",style:(_vm.pageStyle)},[(page.isVisible || _vm.printMode)?[(_vm.score.pageSetup.showHeader)?[_c('TextBox',{ref:(\"header-\" + pageIndex),refInFor:true,staticClass:\"element-box\",class:[\n                  {\n                    selectedTextbox:\n                      _vm.getHeaderForPageIndex(pageIndex) ==\n                      _vm.selectedHeaderFooterElement,\n                  } ],style:(_vm.headerStyle),attrs:{\"element\":_vm.getHeaderForPageIndex(pageIndex),\"pageSetup\":_vm.score.pageSetup,\"editMode\":_vm.getHeaderForPageIndex(pageIndex) ==\n                  _vm.selectedHeaderFooterElement,\"metadata\":_vm.getTokenMetadata(pageIndex)},on:{\"update:content\":function($event){_vm.updateTextBoxContent(\n                    _vm.getHeaderForPageIndex(pageIndex),\n                    $event\n                  )}},nativeOn:{\"click\":function($event){_vm.selectedHeaderFooterElement =\n                    _vm.getHeaderForPageIndex(pageIndex)}}})]:_vm._e(),_vm._l((page.lines),function(line,lineIndex){return _c('div',{key:(\"line-\" + pageIndex + \"-\" + lineIndex),ref:(\"line-\" + lineIndex),refInFor:true,staticClass:\"line\"},_vm._l((line.elements),function(element,index){return _c('div',{key:(\"lineElement-\" + pageIndex + \"-\" + lineIndex + \"-\" + index),staticClass:\"element-box\",style:(_vm.getElementStyle(element))},[(_vm.isSyllableElement(element))?[_c('div',{ref:(\"element-\" + (_vm.getElementIndex(element))),refInFor:true,staticClass:\"neume-box\"},[(element.pageBreak)?_c('span',{staticClass:\"page-break\"},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/page-break.svg\")}})]):_vm._e(),(element.lineBreak)?_c('span',{staticClass:\"line-break\"},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/line-break.svg\")}})]):_vm._e(),_c('SyllableNeumeBox',{staticClass:\"syllable-box no-print\",class:[{ selected: _vm.isSelected(element) }],attrs:{\"note\":element,\"pageSetup\":_vm.score.pageSetup},nativeOn:{\"click\":[function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }_vm.selectedElement = element},function($event){if(!$event.shiftKey){ return null; }if($event.ctrlKey||$event.altKey||$event.metaKey){ return null; }return _vm.setSelectionRange(element)}]}}),(_vm.printMode)?_c('SyllableNeumeBoxPrint',{staticClass:\"syllable-box print-only\",attrs:{\"note\":element,\"pageSetup\":_vm.score.pageSetup}}):_vm._e(),_c('div',{key:(\"lyrics-\" + (_vm.getElementIndex(element)) + \"-\" + (element.keyHelper)),staticClass:\"lyrics-container\",style:(_vm.getLyricStyle(element)),on:{\"click\":function($event){_vm.focusLyrics(_vm.getElementIndex(element))}}},[_c('ContentEditable',{ref:(\"lyrics-\" + (_vm.getElementIndex(element))),refInFor:true,staticClass:\"lyrics\",attrs:{\"content\":element.lyrics},on:{\"blur\":function($event){_vm.updateLyrics(element, $event);\n                          _vm.selectedLyrics = null;}},nativeOn:{\"focus\":function($event){_vm.selectedLyrics = element}}}),(_vm.isMelisma(element))?[_c('div',{staticClass:\"melisma\",class:{ full: element.isFullMelisma },style:(_vm.getMelismaStyle(element)),domProps:{\"textContent\":_vm._s(element.melismaText)}})]:_vm._e()],2)],1)]:_vm._e(),(_vm.isMartyriaElement(element))?[_c('div',{staticClass:\"neume-box\"},[(element.pageBreak)?_c('span',{staticClass:\"page-break\"},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/page-break.svg\")}})]):_vm._e(),(element.lineBreak)?_c('span',{staticClass:\"line-break\"},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/line-break.svg\")}})]):_vm._e(),_c('MartyriaNeumeBox',{ref:(\"element-\" + (_vm.getElementIndex(element))),refInFor:true,staticClass:\"marytria-neume-box no-print\",class:[{ selected: _vm.isSelected(element) }],attrs:{\"neume\":element,\"pageSetup\":_vm.score.pageSetup},nativeOn:{\"click\":function($event){_vm.selectedElement = element}}}),(_vm.printMode)?_c('MartyriaNeumeBoxPrint',{staticClass:\"marytria-neume-box print-only\",attrs:{\"neume\":element,\"pageSetup\":_vm.score.pageSetup}}):_vm._e(),_c('div',{staticClass:\"lyrics\"})],1)]:_vm._e(),(_vm.isTempoElement(element))?[_c('div',{ref:(\"element-\" + (_vm.getElementIndex(element))),refInFor:true,staticClass:\"neume-box\"},[(element.pageBreak)?_c('span',{staticClass:\"page-break\"},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/page-break.svg\")}})]):_vm._e(),(element.lineBreak)?_c('span',{staticClass:\"line-break\"},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/line-break.svg\")}})]):_vm._e(),_c('TempoNeumeBox',{staticClass:\"tempo-neume-box\",class:[{ selected: _vm.isSelected(element) }],attrs:{\"neume\":element,\"pageSetup\":_vm.score.pageSetup},nativeOn:{\"click\":function($event){_vm.selectedElement = element}}}),_c('div',{staticClass:\"lyrics\"})],1)]:_vm._e(),(_vm.isEmptyElement(element))?[_c('div',{ref:(\"element-\" + (_vm.getElementIndex(element))),refInFor:true,staticClass:\"neume-box\"},[(element.pageBreak)?_c('span',{staticClass:\"page-break\"},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/page-break.svg\")}})]):_vm._e(),(element.lineBreak)?_c('span',{staticClass:\"line-break\"},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/line-break.svg\")}})]):_vm._e(),_c('div',{staticClass:\"empty-neume-box\",class:[{ selected: _vm.isSelected(element) }],style:(_vm.getEmptyBoxStyle(element)),on:{\"click\":function($event){_vm.selectedElement = element}}}),_c('div',{staticClass:\"lyrics\"})])]:_vm._e(),(_vm.isTextBoxElement(element))?[(element.pageBreak)?_c('span',{staticClass:\"page-break-2\"},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/page-break.svg\")}})]):_vm._e(),(element.lineBreak)?_c('span',{staticClass:\"line-break-2\"},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/line-break.svg\")}})]):_vm._e(),_c('TextBox',{ref:(\"element-\" + (_vm.getElementIndex(element))),refInFor:true,class:[\n                      { selectedTextbox: element === _vm.selectedElement } ],attrs:{\"element\":element,\"pageSetup\":_vm.score.pageSetup,\"editMode\":true,\"metadata\":_vm.getTokenMetadata(pageIndex)},on:{\"update:content\":function($event){return _vm.updateTextBoxContent(element, $event)}},nativeOn:{\"click\":function($event){_vm.selectedElement = element}}})]:_vm._e(),(_vm.isModeKeyElement(element))?[(element.pageBreak)?_c('span',{staticClass:\"page-break-2\"},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/page-break.svg\")}})]):_vm._e(),(element.lineBreak)?_c('span',{staticClass:\"line-break-2\"},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/line-break.svg\")}})]):_vm._e(),_c('ModeKey',{ref:(\"element-\" + (_vm.getElementIndex(element))),refInFor:true,staticClass:\"no-print\",class:[\n                      { selectedTextbox: element === _vm.selectedElement } ],attrs:{\"element\":element,\"pageSetup\":_vm.score.pageSetup},nativeOn:{\"click\":function($event){_vm.selectedElement = element},\"dblclick\":function($event){return _vm.openModeKeyDialog.apply(null, arguments)}}}),(_vm.printMode)?_c('ModeKeyPrint',{staticClass:\"print-only\",attrs:{\"element\":element,\"pageSetup\":_vm.score.pageSetup}}):_vm._e()]:_vm._e(),(_vm.isDropCapElement(element))?[(element.pageBreak)?_c('span',{staticClass:\"page-break\"},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/page-break.svg\")}})]):_vm._e(),(element.lineBreak)?_c('span',{staticClass:\"line-break\"},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/line-break.svg\")}})]):_vm._e(),_c('DropCap',{key:(\"drop-cap-\" + (_vm.getElementIndex(element)) + \"-\" + (element.keyHelper)),ref:(\"element-\" + (_vm.getElementIndex(element))),refInFor:true,attrs:{\"element\":element,\"pageSetup\":_vm.score.pageSetup},on:{\"update:content\":function($event){return _vm.updateDropCapContent(_vm.selectedElement, $event)}},nativeOn:{\"click\":function($event){_vm.selectedElement = element}}})]:_vm._e()],2)}),0)}),(_vm.score.pageSetup.showFooter)?[_c('TextBox',{ref:(\"footer-\" + pageIndex),refInFor:true,staticClass:\"element-box\",class:[\n                  {\n                    selectedTextbox:\n                      _vm.getFooterForPageIndex(pageIndex) ==\n                      _vm.selectedHeaderFooterElement,\n                  } ],style:(_vm.footerStyle),attrs:{\"element\":_vm.getFooterForPageIndex(pageIndex),\"pageSetup\":_vm.score.pageSetup,\"editMode\":_vm.getFooterForPageIndex(pageIndex) ==\n                  _vm.selectedHeaderFooterElement,\"metadata\":_vm.getTokenMetadata(pageIndex)},on:{\"update:content\":function($event){_vm.updateTextBoxContent(\n                    _vm.getFooterForPageIndex(pageIndex),\n                    $event\n                  )}},nativeOn:{\"click\":function($event){_vm.selectedHeaderFooterElement =\n                    _vm.getFooterForPageIndex(pageIndex)}}})]:_vm._e()]:_vm._e()],2)}),0)])],1),(_vm.selectedTextBoxElement)?[_c('TextBoxToolbar',{attrs:{\"element\":_vm.selectedTextBoxElement,\"fonts\":_vm.fonts},on:{\"update:fontSize\":function($event){return _vm.updateTextBoxFontSize(_vm.selectedTextBoxElement, $event)},\"update:fontFamily\":function($event){return _vm.updateTextBoxFontFamily(_vm.selectedTextBoxElement, $event)},\"update:alignment\":function($event){return _vm.updateTextBoxAlignment(_vm.selectedTextBoxElement, $event)},\"update:color\":function($event){return _vm.updateTextBoxColor(_vm.selectedTextBoxElement, $event)},\"update:inline\":function($event){return _vm.updateTextBoxInline(_vm.selectedTextBoxElement, $event)},\"update:bold\":function($event){return _vm.updateTextBoxBold(_vm.selectedTextBoxElement, $event)},\"update:italic\":function($event){return _vm.updateTextBoxItalic(_vm.selectedTextBoxElement, $event)},\"update:underline\":function($event){return _vm.updateTextBoxUnderline(_vm.selectedTextBoxElement, $event)},\"insert:gorthmikon\":_vm.insertGorthmikon,\"insert:pelastikon\":_vm.insertPelastikon}})]:_vm._e(),(_vm.selectedLyrics != null)?[_c('LyricsToolbar',{attrs:{\"element\":_vm.selectedLyrics},on:{\"update:fontSize\":function($event){return _vm.updateTextBoxFontSize(_vm.selectedElement, $event)},\"update:fontFamily\":function($event){return _vm.updateTextBoxFontFamily(_vm.selectedElement, $event)},\"update:alignment\":function($event){return _vm.updateTextBoxAlignment(_vm.selectedElement, $event)},\"update:color\":function($event){return _vm.updateTextBoxColor(_vm.selectedElement, $event)},\"insert:gorthmikon\":_vm.insertGorthmikon,\"insert:pelastikon\":_vm.insertPelastikon}})]:_vm._e(),(_vm.selectedElement != null && _vm.isModeKeyElement(_vm.selectedElement))?[_c('ModeKeyToolbar',{attrs:{\"element\":_vm.selectedElement},on:{\"update:fontSize\":function($event){return _vm.updateModeKeyFontSize(_vm.selectedElement, $event)},\"update:alignment\":function($event){return _vm.updateModeKeyAlignment(_vm.selectedElement, $event)},\"update:color\":function($event){return _vm.updateModeKeyColor(_vm.selectedElement, $event)},\"open-mode-key-dialog\":_vm.openModeKeyDialog}})]:_vm._e(),(_vm.selectedElement != null && _vm.isSyllableElement(_vm.selectedElement))?[_c('NeumeToolbar',{attrs:{\"element\":_vm.selectedElement},on:{\"update:accidental\":function($event){return _vm.updateNoteAccidental(_vm.selectedElement, $event)},\"update:fthora\":function($event){return _vm.updateNoteFthora(_vm.selectedElement, $event)},\"update:gorgon\":function($event){return _vm.updateNoteGorgon(_vm.selectedElement, $event)},\"update:time\":function($event){return _vm.updateNoteTime(_vm.selectedElement, $event)},\"update:expression\":function($event){return _vm.updateNoteExpression(_vm.selectedElement, $event)},\"update:measureBar\":function($event){return _vm.updateNoteMeasureBar(_vm.selectedElement, $event)},\"update:measureNumber\":function($event){return _vm.updateNoteMeasureNumber(_vm.selectedElement, $event)},\"update:noteIndicator\":function($event){return _vm.updateNoteNoteIndicator(_vm.selectedElement, $event)},\"update:ison\":function($event){return _vm.updateNoteIson(_vm.selectedElement, $event)},\"update:vareia\":function($event){return _vm.updateNoteVareia(_vm.selectedElement, $event)},\"update:vocalExpression\":function($event){return _vm.updateNoteVocalExpression(_vm.selectedElement, $event)}}})]:_vm._e(),(_vm.selectedElement != null && _vm.isMartyriaElement(_vm.selectedElement))?[_c('MartyriaToolbar',{attrs:{\"element\":_vm.selectedElement},on:{\"update:fthora\":function($event){return _vm.updateMartyriaFthora(_vm.selectedElement, $event)},\"update:measureBar\":function($event){return _vm.updateMartyriaMeasureBar(_vm.selectedElement, $event)},\"update:alignRight\":function($event){return _vm.updateMartyriaAlignRight(_vm.selectedElement, $event)},\"update:auto\":function($event){return _vm.updateMartyriaAuto(_vm.selectedElement, $event)},\"update:note\":function($event){return _vm.updateMartyriaNote(_vm.selectedElement, $event)},\"update:scale\":function($event){return _vm.updateMartyriaScale(_vm.selectedElement, $event)}}})]:_vm._e(),(_vm.modeKeyDialogIsOpen)?_c('ModeKeyDialog',{attrs:{\"element\":_vm.selectedElement,\"pageSetup\":_vm.score.pageSetup},on:{\"update\":function($event){return _vm.updateModeKeyFromTemplate(_vm.selectedElement, $event)},\"close\":_vm.closeModeKeyDialog}}):_vm._e(),(_vm.pageSetupDialogIsOpen)?_c('PageSetupDialog',{attrs:{\"pageSetup\":_vm.score.pageSetup,\"fonts\":_vm.fonts},on:{\"update\":function($event){return _vm.updatePageSetup($event)},\"close\":_vm.closePageSetupDialog}}):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export class TextMeasurementService {\n  private static canvas: HTMLCanvasElement | null = null;\n\n  public static getTextWidth(text: string, font: string) {\n    let canvas = this.canvas || document.createElement('canvas');\n    let context = canvas.getContext('2d')!;\n    context.font = font;\n    let metrics = context.measureText(text);\n    return metrics.width;\n  }\n\n  public static getTextHeight(text: string, font: string) {\n    let canvas = this.canvas || document.createElement('canvas');\n    let context = canvas.getContext('2d')!;\n    context.font = font;\n    let metrics = context.measureText(text);\n    return metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\n  }\n\n  public static getFontHeight(font: string) {\n    let canvas = this.canvas || document.createElement('canvas');\n    let context = canvas.getContext('2d')!;\n    context.font = font;\n    let metrics = context.measureText('');\n    return metrics.fontBoundingBoxAscent + metrics.fontBoundingBoxDescent;\n  }\n\n  public static getFontBoundingBoxDescent(text: string, font: string) {\n    let canvas = this.canvas || document.createElement('canvas');\n    let context = canvas.getContext('2d')!;\n    context.font = font;\n    let metrics = context.measureText(text);\n    return metrics.fontBoundingBoxDescent;\n  }\n}\n","export class Unit {\n  public static fromInch(inches: number) {\n    return inches * 96;\n  }\n\n  public static toInch(pixels: number) {\n    return pixels / 96;\n  }\n\n  public static fromMm(mm: number) {\n    return (mm / 25.4) * 96;\n  }\n\n  public static toMm(pixels: number) {\n    return (pixels / 96) * 25.4;\n  }\n\n  public static fromPt(points: number) {\n    return (points * 96) / 72;\n  }\n\n  public static toPt(points: number) {\n    return (points * 72) / 96;\n  }\n}\n","export enum Scale {\n  Diatonic = 'Diatonic',\n  SoftChromatic = 'SoftChromatic',\n  HardChromatic = 'HardChromatic',\n  EnharmonicGa = 'EnharmonicGa',\n  EnharmonicZoHigh = 'EnharmonicZoHigh',\n  EnharmonicVou = 'EnharmonicVou',\n  EnharmonicVouHigh = 'EnharmonicVouHigh',\n  Zygos = 'Zygos',\n  Spathi = 'Spathi',\n  Kliton = 'Kliton',\n}\n\nexport enum ScaleNote {\n  VouLow = 'VouLow',\n  GaLow = 'GaLow',\n  ThiLow = 'ThiLow',\n  KeLow = 'KeLow',\n  Zo = 'Zo',\n  Ni = 'Ni',\n  Pa = 'Pa',\n  Vou = 'Vou',\n  Ga = 'Ga',\n  Thi = 'Thi',\n  Ke = 'Ke',\n  ZoHigh = 'ZoHigh',\n  NiHigh = 'NiHigh',\n  PaHigh = 'PaHigh',\n  VouHigh = 'VouHigh',\n  GaHigh = 'GaHigh',\n  ThiHigh = 'ThiHigh',\n  KeHigh = 'KeHigh',\n}\n\nconst scaleNoteToNoteValueMap = new Map<ScaleNote, number>([\n  [ScaleNote.VouLow, -6],\n  [ScaleNote.GaLow, -5],\n  [ScaleNote.ThiLow, -4],\n  [ScaleNote.KeLow, -3],\n  [ScaleNote.Zo, -2],\n  [ScaleNote.Ni, -1],\n  [ScaleNote.Pa, 0],\n  [ScaleNote.Vou, 1],\n  [ScaleNote.Ga, 2],\n  [ScaleNote.Thi, 3],\n  [ScaleNote.Ke, 4],\n  [ScaleNote.ZoHigh, 5],\n  [ScaleNote.NiHigh, 6],\n  [ScaleNote.PaHigh, 7],\n  [ScaleNote.VouHigh, 8],\n  [ScaleNote.GaHigh, 9],\n  [ScaleNote.ThiHigh, 10],\n  [ScaleNote.KeHigh, 11],\n]);\n\nexport const getScaleNoteValue = (note: ScaleNote) =>\n  scaleNoteToNoteValueMap.get(note)!;\n","import {\n  Neume,\n  TimeNeume,\n  QuantitativeNeume,\n  Fthora,\n  VocalExpressionNeume,\n  GorgonNeume,\n  petastiNeumes,\n} from '@/models/Neumes';\n\nexport interface NeumeReplacement<T> {\n  isPairedWith?: Neume[];\n  isNotPairedWith?: Neume[];\n  replaceWith: T | null;\n}\n\nexport interface QuantitativeNeumeReplacement<T> {\n  isPairedWithVocalExpression?: VocalExpressionNeume[];\n  isNotPairedWithVocalExpression?: VocalExpressionNeume[];\n  replaceWith: T;\n}\n\nconst kentemataNeumes: Neume[] = [\n  QuantitativeNeume.Kentemata,\n  QuantitativeNeume.OligonPlusKentemata,\n  QuantitativeNeume.OligonPlusHamiliPlusKentemata,\n  QuantitativeNeume.OligonPlusIsonPlusKentemata,\n  QuantitativeNeume.OligonPlusHyporoePlusKentemata,\n  QuantitativeNeume.OligonPlusElaphronPlusKentemata,\n  QuantitativeNeume.OligonPlusApostrophosPlusKentemata,\n  QuantitativeNeume.OligonPlusElaphronPlusApostrophosPlusKentemata,\n  QuantitativeNeume.OligonPlusKentemataPlusHypsiliLeft,\n  QuantitativeNeume.OligonPlusKentemataPlusHypsiliRight,\n  QuantitativeNeume.OligonPlusRunningElaphronPlusKentemata,\n];\n\nconst bottomAllowedGorgonNeumes: Neume[] = [\n  QuantitativeNeume.Apostrophos,\n  QuantitativeNeume.Ison,\n  QuantitativeNeume.Oligon,\n  QuantitativeNeume.Kentemata,\n  QuantitativeNeume.Elaphron,\n  QuantitativeNeume.Hamili,\n];\n\nconst bottomOnlyKlasmaNeumes: Neume[] = [\n  ...petastiNeumes,\n\n  QuantitativeNeume.OligonPlusDoubleHypsili,\n  QuantitativeNeume.OligonPlusApostrophos,\n  QuantitativeNeume.OligonPlusElaphron,\n  QuantitativeNeume.OligonPlusElaphronPlusApostrophos,\n  QuantitativeNeume.OligonPlusHamili,\n  QuantitativeNeume.OligonPlusIson,\n];\n\nconst topOnlyKlasmaNeumes: Neume[] = [\n  QuantitativeNeume.Ison,\n  QuantitativeNeume.KentemataPlusOligon,\n  QuantitativeNeume.Oligon,\n  QuantitativeNeume.OligonPlusKentimaBelow,\n  QuantitativeNeume.OligonPlusKentima,\n  QuantitativeNeume.OligonPlusHypsiliRight,\n  QuantitativeNeume.Hamili,\n  QuantitativeNeume.HamiliPlusApostrophos,\n  QuantitativeNeume.HamiliPlusElaphron,\n  QuantitativeNeume.HamiliPlusElaphronPlusApostrophos,\n  QuantitativeNeume.DoubleHamili,\n  QuantitativeNeume.Apostrophos,\n  QuantitativeNeume.Elaphron,\n  QuantitativeNeume.ElaphronPlusApostrophos,\n  QuantitativeNeume.RunningElaphron,\n  QuantitativeNeume.PetastiPlusRunningElaphron,\n];\n\nexport const gorgonReplacementMap = new Map<\n  GorgonNeume,\n  NeumeReplacement<GorgonNeume>[]\n>([\n  [\n    GorgonNeume.Gorgon_Top,\n    [\n      {\n        isPairedWith: [...petastiNeumes],\n        replaceWith: null,\n      },\n    ],\n  ],\n\n  [\n    GorgonNeume.Gorgon_Bottom,\n    [\n      {\n        isNotPairedWith: bottomAllowedGorgonNeumes,\n        replaceWith: null,\n      },\n    ],\n  ],\n\n  [\n    GorgonNeume.GorgonDottedLeft,\n    [\n      {\n        isPairedWith: [...petastiNeumes],\n        replaceWith: null,\n      },\n    ],\n  ],\n\n  [\n    GorgonNeume.GorgonDottedRight,\n    [\n      {\n        isPairedWith: [...petastiNeumes],\n        replaceWith: null,\n      },\n    ],\n  ],\n\n  [\n    GorgonNeume.Digorgon,\n    [\n      {\n        isPairedWith: [...petastiNeumes],\n        replaceWith: null,\n      },\n    ],\n  ],\n\n  [\n    GorgonNeume.DigorgonDottedLeft1,\n    [\n      {\n        isPairedWith: [...petastiNeumes],\n        replaceWith: null,\n      },\n    ],\n  ],\n\n  [\n    GorgonNeume.DigorgonDottedLeft2,\n    [\n      {\n        isPairedWith: [...petastiNeumes],\n        replaceWith: null,\n      },\n    ],\n  ],\n\n  [\n    GorgonNeume.DigorgonDottedRight,\n    [\n      {\n        isPairedWith: [...petastiNeumes],\n        replaceWith: null,\n      },\n    ],\n  ],\n\n  [\n    GorgonNeume.Trigorgon,\n    [\n      {\n        isPairedWith: [...petastiNeumes],\n        replaceWith: null,\n      },\n    ],\n  ],\n\n  [\n    GorgonNeume.TrigorgonDottedLeft1,\n    [\n      {\n        isPairedWith: [...petastiNeumes],\n        replaceWith: null,\n      },\n    ],\n  ],\n\n  [\n    GorgonNeume.TrigorgonDottedLeft2,\n    [\n      {\n        isPairedWith: [...petastiNeumes],\n        replaceWith: null,\n      },\n    ],\n  ],\n\n  [\n    GorgonNeume.TrigorgonDottedRight,\n    [\n      {\n        isPairedWith: [...petastiNeumes],\n        replaceWith: null,\n      },\n    ],\n  ],\n  [\n    GorgonNeume.Argon,\n    [\n      {\n        isNotPairedWith: [QuantitativeNeume.KentemataPlusOligon],\n        replaceWith: null,\n      },\n    ],\n  ],\n  [\n    GorgonNeume.Hemiolion,\n    [\n      {\n        isNotPairedWith: [QuantitativeNeume.KentemataPlusOligon],\n        replaceWith: null,\n      },\n    ],\n  ],\n  [\n    GorgonNeume.Diargon,\n    [\n      {\n        isNotPairedWith: [QuantitativeNeume.KentemataPlusOligon],\n        replaceWith: null,\n      },\n    ],\n  ],\n]);\n\nexport const timeReplacementMap = new Map<\n  TimeNeume,\n  NeumeReplacement<TimeNeume>[]\n>([\n  [\n    TimeNeume.Hapli,\n    [\n      {\n        isPairedWith: [\n          QuantitativeNeume.IsonPlusApostrophos,\n          QuantitativeNeume.DoubleApostrophos,\n          ...kentemataNeumes,\n        ],\n        replaceWith: null,\n      },\n    ],\n  ],\n\n  [\n    TimeNeume.Dipli,\n    [\n      {\n        isPairedWith: [\n          QuantitativeNeume.IsonPlusApostrophos,\n          QuantitativeNeume.DoubleApostrophos,\n          ...kentemataNeumes,\n          ...petastiNeumes,\n        ],\n        replaceWith: null,\n      },\n    ],\n  ],\n\n  [\n    TimeNeume.Tripli,\n    [\n      {\n        isPairedWith: [\n          QuantitativeNeume.IsonPlusApostrophos,\n          QuantitativeNeume.DoubleApostrophos,\n          ...kentemataNeumes,\n          ...petastiNeumes,\n        ],\n        replaceWith: null,\n      },\n    ],\n  ],\n\n  [\n    TimeNeume.Klasma_Top,\n    [\n      {\n        isPairedWith: [\n          ...kentemataNeumes,\n          ...bottomOnlyKlasmaNeumes,\n          QuantitativeNeume.Hyporoe,\n          QuantitativeNeume.IsonPlusApostrophos,\n          QuantitativeNeume.DoubleApostrophos,\n        ],\n        replaceWith: null,\n      },\n    ],\n  ],\n\n  [\n    TimeNeume.Klasma_Bottom,\n    [\n      {\n        isPairedWith: [\n          ...kentemataNeumes,\n          ...topOnlyKlasmaNeumes,\n          QuantitativeNeume.Hyporoe,\n          QuantitativeNeume.IsonPlusApostrophos,\n          QuantitativeNeume.DoubleApostrophos,\n        ],\n        replaceWith: null,\n      },\n    ],\n  ],\n]);\n\nexport const vocalExpressionReplacementMap = new Map<\n  VocalExpressionNeume,\n  NeumeReplacement<VocalExpressionNeume>[]\n>([\n  [\n    VocalExpressionNeume.Antikenoma,\n    [\n      {\n        isPairedWith: [\n          QuantitativeNeume.Kentemata,\n          QuantitativeNeume.IsonPlusApostrophos,\n          QuantitativeNeume.DoubleApostrophos,\n          QuantitativeNeume.PetastiPlusRunningElaphron,\n        ],\n        replaceWith: null,\n      },\n    ],\n  ],\n  [\n    VocalExpressionNeume.Heteron,\n    [\n      {\n        isNotPairedWith: [\n          QuantitativeNeume.Ison,\n          QuantitativeNeume.Oligon,\n          QuantitativeNeume.OligonPlusApostrophos,\n          QuantitativeNeume.OligonPlusDoubleHypsili,\n          QuantitativeNeume.OligonPlusHypsiliLeft,\n          QuantitativeNeume.OligonPlusHypsiliPlusKentimaHorizontal,\n          QuantitativeNeume.OligonPlusHypsiliPlusKentimaVertical,\n          QuantitativeNeume.OligonPlusHypsiliRight,\n          QuantitativeNeume.OligonPlusKentima,\n          QuantitativeNeume.OligonPlusKentimaAbove,\n          QuantitativeNeume.OligonPlusKentimaBelow,\n        ],\n        replaceWith: null,\n      },\n    ],\n  ],\n  [\n    VocalExpressionNeume.Psifiston,\n    [\n      {\n        isPairedWith: [\n          QuantitativeNeume.Apostrophos,\n          QuantitativeNeume.Kentemata,\n          QuantitativeNeume.Hyporoe,\n          QuantitativeNeume.Hamili,\n          QuantitativeNeume.HamiliPlusApostrophos,\n          QuantitativeNeume.HamiliPlusElaphron,\n          QuantitativeNeume.HamiliPlusElaphronPlusApostrophos,\n          QuantitativeNeume.DoubleHamili,\n          QuantitativeNeume.Elaphron,\n          QuantitativeNeume.ElaphronPlusApostrophos,\n          QuantitativeNeume.RunningElaphron,\n          QuantitativeNeume.PetastiPlusRunningElaphron,\n          QuantitativeNeume.IsonPlusApostrophos,\n          QuantitativeNeume.DoubleApostrophos,\n        ],\n        replaceWith: null,\n      },\n    ],\n  ],\n  [\n    VocalExpressionNeume.Homalon,\n    [\n      {\n        isPairedWith: [\n          ...petastiNeumes,\n          ...kentemataNeumes,\n          QuantitativeNeume.PetastiPlusRunningElaphron,\n          QuantitativeNeume.DoubleApostrophos,\n          QuantitativeNeume.IsonPlusApostrophos,\n          QuantitativeNeume.Hyporoe,\n        ],\n        replaceWith: null,\n      },\n    ],\n  ],\n  [\n    VocalExpressionNeume.HomalonConnecting,\n    [\n      {\n        isPairedWith: [\n          ...petastiNeumes,\n          ...kentemataNeumes,\n          QuantitativeNeume.PetastiPlusRunningElaphron,\n          QuantitativeNeume.DoubleApostrophos,\n          QuantitativeNeume.IsonPlusApostrophos,\n          QuantitativeNeume.Hyporoe,\n        ],\n        replaceWith: null,\n      },\n    ],\n  ],\n  [\n    VocalExpressionNeume.Vareia,\n    [\n      {\n        isPairedWith: [...petastiNeumes, ...kentemataNeumes],\n        replaceWith: null,\n      },\n    ],\n  ],\n]);\n\nexport const fthoraReplacementMap = new Map<Fthora, NeumeReplacement<Fthora>[]>(\n  [],\n);\n\nexport const quantitativeNeumeReplacementMap = new Map<\n  QuantitativeNeume,\n  QuantitativeNeumeReplacement<QuantitativeNeume>[]\n>([\n  // [\n  //   QuantitativeNeume.KentemataPlusOligon,\n  //   [\n  //     {\n  //       isPairedWithVocalExpression: [VocalExpressionNeume.Psifiston],\n  //       replaceWith: QuantitativeNeume.KentemataPlusOligonSpecial,\n  //     },\n  //   ],\n  // ],\n  // [\n  //   QuantitativeNeume.KentemataPlusOligonSpecial,\n  //   [\n  //     {\n  //       isNotPairedWithVocalExpression: [VocalExpressionNeume.Psifiston],\n  //       replaceWith: QuantitativeNeume.KentemataPlusOligon,\n  //     },\n  //   ],\n  // ],\n]);\n\nexport const getGorgonReplacements = (neume: GorgonNeume) => {\n  return gorgonReplacementMap.get(neume);\n};\n\nexport const getTimeReplacements = (neume: TimeNeume) => {\n  return timeReplacementMap.get(neume);\n};\n\nexport const getVocalExpressionReplacements = (neume: VocalExpressionNeume) => {\n  return vocalExpressionReplacementMap.get(neume);\n};\n\nexport const getFthoraReplacements = (neume: Fthora) => {\n  return fthoraReplacementMap.get(neume);\n};\n\nexport const getQuantitativeReplacements = (neume: QuantitativeNeume) => {\n  return quantitativeNeumeReplacementMap.get(neume);\n};\n\nexport const areVocalExpressionsEquivalent = (\n  neume1: VocalExpressionNeume,\n  neume2: VocalExpressionNeume,\n) => {\n  return areNeumesEquivalent(\n    neume1,\n    neume2,\n    getVocalExpressionReplacements(neume1),\n    getVocalExpressionReplacements(neume2),\n  );\n};\n\nconst areNeumesEquivalent = (\n  neume1: Neume,\n  neume2: Neume,\n  replacements1: NeumeReplacement<Neume>[] | undefined,\n  replacements2: NeumeReplacement<Neume>[] | undefined,\n) => {\n  if (neume1 === neume2) {\n    return true;\n  }\n  if (replacements1) {\n    if (replacements1.find((x) => x.replaceWith == neume2)) {\n      return true;\n    }\n  }\n\n  if (replacements2) {\n    if (replacements2.find((x) => x.replaceWith == neume1)) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nexport const onlyTakesTopKlasma = (neume: QuantitativeNeume) =>\n  topOnlyKlasmaNeumes.includes(neume);\n\nexport const onlyTakesBottomKlasma = (neume: QuantitativeNeume) =>\n  bottomOnlyKlasmaNeumes.includes(neume);\n\nexport const onlyTakesTopGorgon = (neume: QuantitativeNeume) =>\n  !bottomAllowedGorgonNeumes.includes(neume);\n","import {\n  TimeNeume,\n  QuantitativeNeume,\n  Note,\n  RootSign,\n  VocalExpressionNeume,\n  Fthora,\n  Accidental,\n  GorgonNeume,\n  TempoSign,\n  ModeSign,\n  MeasureBar,\n  MeasureNumber,\n  NoteIndicator,\n  Ison,\n} from '@/models/Neumes';\nimport { TextMeasurementService } from '@/services/TextMeasurementService';\nimport { Unit } from '@/utils/Unit';\nimport { ModeKeyTemplate } from './ModeKeys';\nimport {\n  getGorgonReplacements,\n  getTimeReplacements,\n  getVocalExpressionReplacements,\n  getFthoraReplacements,\n  getQuantitativeReplacements,\n} from './NeumeReplacements';\nimport { Scale, ScaleNote } from './Scales';\n\nexport enum ElementType {\n  Note = 'Note',\n  Martyria = 'Martyria',\n  Tempo = 'Tempo',\n  Empty = 'Empty',\n  TextBox = 'TextBox',\n  DropCap = 'DropCap',\n  ModeKey = 'ModeKey',\n}\n\nexport abstract class ScoreElement {\n  abstract elementType: ElementType;\n  abstract clone(): ScoreElement;\n  public lineBreak: boolean = false;\n  public pageBreak: boolean = false;\n\n  public x: number = 0;\n  public y: number = 0;\n  public width: number = 0;\n\n  public index: number = 0;\n\n  // This is used to help force components to re-render\n  public keyHelper: number = 0;\n}\n\nexport class NoteElement extends ScoreElement {\n  public readonly elementType: ElementType = ElementType.Note;\n  public measureBar: MeasureBar | null = null;\n  public measureNumber: MeasureNumber | null = null;\n  public noteIndicator: NoteIndicator | null = null;\n  public ison: Ison | null = null;\n  public vareia: boolean = false;\n  public lyrics: string = '';\n  public isMelisma: boolean = false;\n  public isMelismaStart: boolean = false;\n  public isHyphen: boolean = false;\n\n  public clone() {\n    const clone = new NoteElement();\n\n    Object.assign(clone, this.getClipboardProperties());\n\n    return clone;\n  }\n\n  public getClipboardProperties() {\n    return {\n      measureBar: this.measureBar,\n      measureNumber: this.measureNumber,\n      noteIndicator: this.noteIndicator,\n      ison: this.ison,\n      accidental: this.accidental,\n      fthora: this.fthora,\n      gorgonNeume: this.gorgonNeume,\n      secondaryGorgonNeume: this.secondaryGorgonNeume,\n      quantitativeNeume: this.quantitativeNeume,\n      timeNeume: this.timeNeume,\n      vocalExpressionNeume: this.vocalExpressionNeume,\n      vareia: this.vareia,\n    } as Partial<NoteElement>;\n  }\n\n  public get quantitativeNeume() {\n    return this._quantitativeNeume;\n  }\n\n  public get timeNeume() {\n    return this._timeNeume;\n  }\n\n  public get gorgonNeume() {\n    return this._gorgonNeume;\n  }\n\n  public get secondaryGorgonNeume() {\n    return this._secondaryGorgonNeume;\n  }\n\n  public get vocalExpressionNeume() {\n    return this._vocalExpressionNeume;\n  }\n\n  public get accidental() {\n    return this._accidental;\n  }\n\n  public get fthora() {\n    return this._fthora;\n  }\n\n  public set quantitativeNeume(neume: QuantitativeNeume) {\n    this._quantitativeNeume = neume;\n    this.replaceNeumes();\n\n    if (\n      this.quantitativeNeume !==\n      QuantitativeNeume.OligonPlusHyporoePlusKentemata\n    ) {\n      this._secondaryGorgonNeume = null;\n    }\n  }\n\n  public set timeNeume(neume: TimeNeume | null) {\n    this._timeNeume = neume;\n    this.replaceNeumes();\n  }\n\n  public set gorgonNeume(neume: GorgonNeume | null) {\n    this._gorgonNeume = neume;\n    this.replaceNeumes();\n  }\n\n  public set secondaryGorgonNeume(neume: GorgonNeume | null) {\n    this._secondaryGorgonNeume = neume;\n    this.replaceNeumes();\n  }\n\n  public set vocalExpressionNeume(neume: VocalExpressionNeume | null) {\n    this._vocalExpressionNeume = neume;\n    this.replaceNeumes();\n  }\n\n  public set accidental(neume: Accidental | null) {\n    this._accidental = neume;\n    this.replaceNeumes();\n  }\n\n  public set fthora(neume: Fthora | null) {\n    this._fthora = neume;\n    this.replaceNeumes();\n  }\n\n  // Used for display\n  public melismaText: string = '';\n  public isFullMelisma: boolean = false;\n  public melismaWidth: number = 0;\n  public lyricsVerticalOffset: number = 0;\n  public lyricsHorizontalOffset: number | null = null;\n  public neumeWidth: number = 0;\n  public lyricsWidth: number = 0;\n\n  private _quantitativeNeume: QuantitativeNeume = QuantitativeNeume.Ison;\n  private _timeNeume: TimeNeume | null = null;\n  private _gorgonNeume: GorgonNeume | null = null;\n  private _secondaryGorgonNeume: GorgonNeume | null = null;\n  private _vocalExpressionNeume: VocalExpressionNeume | null = null;\n  private _fthora: Fthora | null = null;\n  private _accidental: Accidental | null = null;\n\n  private replaceNeumes() {\n    this.replaceQuantitativeNeumes();\n    this.replaceGorgons();\n    this.replaceTimeNeumes();\n    this.replaceVocalExpressions();\n    this.replaceFthora();\n  }\n\n  private replaceGorgons() {\n    if (this.gorgonNeume) {\n      const replacements = getGorgonReplacements(this.gorgonNeume);\n\n      if (replacements) {\n        const replacement =\n          replacements.find(\n            (x) =>\n              x.isPairedWith && x.isPairedWith.includes(this.quantitativeNeume),\n          ) ||\n          replacements.find(\n            (x) =>\n              x.isNotPairedWith &&\n              !x.isNotPairedWith.includes(this.quantitativeNeume),\n          );\n\n        if (replacement) {\n          this.gorgonNeume = replacement.replaceWith;\n        }\n      }\n    }\n  }\n\n  private replaceTimeNeumes() {\n    if (this.timeNeume) {\n      const replacements = getTimeReplacements(this.timeNeume);\n\n      if (replacements) {\n        const replacement =\n          replacements.find(\n            (x) =>\n              x.isPairedWith && x.isPairedWith.includes(this.quantitativeNeume),\n          ) ||\n          replacements.find(\n            (x) =>\n              x.isNotPairedWith &&\n              !x.isNotPairedWith.includes(this.quantitativeNeume),\n          );\n\n        if (replacement) {\n          this.timeNeume = replacement.replaceWith;\n        }\n      }\n    }\n  }\n\n  private replaceFthora() {\n    if (this.fthora) {\n      const replacements = getFthoraReplacements(this.fthora);\n\n      if (replacements) {\n        const replacement =\n          replacements.find(\n            (x) =>\n              x.isPairedWith && x.isPairedWith.includes(this.quantitativeNeume),\n          ) ||\n          replacements.find(\n            (x) =>\n              x.isNotPairedWith &&\n              !x.isNotPairedWith.includes(this.quantitativeNeume),\n          );\n\n        if (replacement) {\n          this.fthora = replacement.replaceWith;\n        }\n      }\n    }\n  }\n\n  private replaceVocalExpressions() {\n    if (this.vocalExpressionNeume) {\n      const replacements = getVocalExpressionReplacements(\n        this.vocalExpressionNeume,\n      );\n\n      if (replacements) {\n        const replacement =\n          replacements.find(\n            (x) =>\n              x.isPairedWith && x.isPairedWith.includes(this.quantitativeNeume),\n          ) ||\n          replacements.find(\n            (x) =>\n              x.isNotPairedWith &&\n              !x.isNotPairedWith.includes(this.quantitativeNeume),\n          );\n\n        if (replacement) {\n          this.vocalExpressionNeume = replacement.replaceWith;\n        }\n      }\n    }\n  }\n\n  private replaceQuantitativeNeumes() {\n    const replacements = getQuantitativeReplacements(this.quantitativeNeume);\n\n    if (replacements) {\n      if (this.vocalExpressionNeume) {\n        const replacement =\n          replacements.find(\n            (x) =>\n              x.isPairedWithVocalExpression &&\n              x.isPairedWithVocalExpression.includes(\n                this.vocalExpressionNeume!,\n              ),\n          ) ||\n          replacements.find(\n            (x) =>\n              x.isNotPairedWithVocalExpression &&\n              !x.isNotPairedWithVocalExpression.includes(\n                this.vocalExpressionNeume!,\n              ),\n          );\n\n        if (replacement) {\n          this.quantitativeNeume = replacement.replaceWith!;\n        }\n      }\n    }\n  }\n}\n\nexport class MartyriaElement extends ScoreElement {\n  public readonly elementType: ElementType = ElementType.Martyria;\n  public auto: boolean = true;\n  public note: Note = Note.Pa;\n  public rootSign: RootSign = RootSign.Alpha;\n  public scale: Scale = Scale.Diatonic;\n  public fthora: Fthora | null = null;\n  public measureBar: MeasureBar | null = null;\n  public alignRight: boolean = false;\n\n  public error: boolean = false;\n\n  public clone() {\n    const clone = new MartyriaElement();\n\n    Object.assign(clone, this.getClipboardProperties());\n\n    return clone;\n  }\n\n  public getClipboardProperties() {\n    return {\n      auto: this.auto,\n      note: this.note,\n      rootSign: this.rootSign,\n      alignRight: this.alignRight,\n      measureBar: this.measureBar,\n      fthora: this.fthora,\n    } as Partial<MartyriaElement>;\n  }\n}\n\nexport class TempoElement extends ScoreElement {\n  public readonly elementType: ElementType = ElementType.Tempo;\n  public neume: TempoSign = TempoSign.Moderate;\n\n  public clone() {\n    const clone = new TempoElement();\n\n    Object.assign(clone, this.getClipboardProperties());\n\n    return clone;\n  }\n\n  public getClipboardProperties() {\n    return {\n      neume: this.neume,\n    } as Partial<TempoElement>;\n  }\n}\n\nexport class EmptyElement extends ScoreElement {\n  public readonly elementType: ElementType = ElementType.Empty;\n\n  public height: number = 0;\n\n  public clone() {\n    return new EmptyElement();\n  }\n}\n\nexport enum TextBoxAlignment {\n  Center = 'center',\n  Left = 'left',\n  Right = 'right',\n}\n\nexport class TextBoxElement extends ScoreElement {\n  public readonly elementType: ElementType = ElementType.TextBox;\n  public alignment: TextBoxAlignment = TextBoxAlignment.Left;\n  public color: string = '#000000';\n  public content: string = '';\n  public fontSize: number = 16;\n  public fontFamily: string = 'Omega';\n  public inline: boolean = false;\n  public bold: boolean = false;\n  public italic: boolean = false;\n  public underline: boolean = false;\n  public height: number = 20;\n\n  public clone() {\n    const clone = new TextBoxElement();\n\n    Object.assign(clone, this.getClipboardProperties());\n\n    return clone;\n  }\n\n  public getClipboardProperties() {\n    return {\n      alignment: this.alignment,\n      color: this.color,\n      content: this.content,\n      fontSize: this.fontSize,\n      fontFamily: this.fontFamily,\n    } as Partial<TextBoxElement>;\n  }\n}\n\nexport class ModeKeyElement extends ScoreElement {\n  public readonly elementType: ElementType = ElementType.ModeKey;\n  public templateId: number | null = null;\n  public alignment: TextBoxAlignment = TextBoxAlignment.Center;\n  public mode: number = 1;\n  public scale: Scale = Scale.Diatonic;\n  public scaleNote: ScaleNote = ScaleNote.Pa;\n  public martyria: ModeSign = ModeSign.Alpha;\n  public note: ModeSign | null = null;\n  public note2: ModeSign | null = null;\n  public fthoraAboveNote: Fthora | null = null;\n  public fthoraAboveNote2: Fthora | null = null;\n  public fthoraAboveQuantitativeNeumeRight: Fthora | null = null;\n  public quantitativeNeumeRight: QuantitativeNeume | null = null;\n  public quantitativeNeumeAboveNote: ModeSign | null = null;\n  public quantitativeNeumeAboveNote2: ModeSign | null = null;\n  public color: string = '#000000';\n  public fontSize: number = Unit.fromPt(20);\n\n  public get isPlagal() {\n    return this.mode > 4 && this.mode !== 7;\n  }\n\n  public get isVarys() {\n    return this.mode === 7;\n  }\n\n  public get height() {\n    // TODO unicode - remove this hard coded font name\n    return TextMeasurementService.getFontHeight(`${this.fontSize}px Neanes`);\n  }\n\n  public static createFromTemplate(\n    template: ModeKeyTemplate,\n    alignment?: TextBoxAlignment,\n  ) {\n    const element = new ModeKeyElement();\n\n    element.templateId = template.id;\n    element.mode = template.mode;\n    element.scale = template.scale;\n    element.scaleNote = template.scaleNote;\n    element.martyria = template.martyria;\n    element.fthoraAboveNote = template.fthoraAboveNote || null;\n    element.fthoraAboveNote2 = template.fthoraAboveNote2 || null;\n    element.fthoraAboveQuantitativeNeumeRight =\n      template.fthoraAboveQuantitativeNeumeRight || null;\n    element.note = template.note || null;\n    element.note2 = template.note2 || null;\n    element.quantitativeNeumeAboveNote =\n      template.quantitativeNeumeAboveNote || null;\n    element.quantitativeNeumeAboveNote2 =\n      template.quantitativeNeumeAboveNote2 || null;\n    element.quantitativeNeumeRight = template.quantitativeNeumeRight || null;\n    element.alignment = alignment || TextBoxAlignment.Center;\n\n    return element;\n  }\n\n  public clone() {\n    const clone = new ModeKeyElement();\n\n    Object.assign(clone, this.getClipboardProperties());\n\n    return clone;\n  }\n\n  public getClipboardProperties() {\n    return {\n      alignment: this.alignment,\n      color: this.color,\n      templateId: this.templateId,\n      mode: this.mode,\n      scale: this.scale,\n      scaleNote: this.scaleNote,\n      martyria: this.martyria,\n      fthora: this.fthoraAboveNote,\n      fthora2: this.fthoraAboveNote2,\n      fthoraAboveQuantitativeNeumeRight: this.fthoraAboveQuantitativeNeumeRight,\n      note: this.note,\n      note2: this.note2,\n      quantitativeNeumeAboveNote: this.quantitativeNeumeAboveNote,\n      quantitativeNeumeAboveNote2: this.quantitativeNeumeAboveNote2,\n      quantitativeNeumeRight: this.quantitativeNeumeRight,\n      fontSize: this.fontSize,\n    } as Partial<ModeKeyElement>;\n  }\n}\n\nexport class DropCapElement extends ScoreElement {\n  public readonly elementType: ElementType = ElementType.DropCap;\n  public content: string = 'A';\n  public fontFamily: string | null = null;\n  public fontSize: number | null = null;\n  public color: string | null = null;\n\n  public clone() {\n    const clone = new DropCapElement();\n\n    Object.assign(clone, this.getClipboardProperties());\n\n    return clone;\n  }\n\n  public getClipboardProperties() {\n    return {\n      color: this.color,\n      content: this.content,\n      fontSize: this.fontSize,\n      fontFamily: this.fontFamily,\n    } as Partial<DropCapElement>;\n  }\n}\n\nexport class ScoreElementOffset {\n  public x: number = 0;\n  public y: number = 0;\n}\n","export enum EntryMode {\n  Auto = 'Auto',\n  Insert = 'Insert',\n  Edit = 'Edit',\n}\n","import { ScoreElement, TextBoxElement } from './Element';\n\nexport class Header {\n  public elements: ScoreElement[] = [new TextBoxElement()];\n}\n","import { Header } from './Header';\n\nexport class Headers {\n  public default: Header = new Header();\n  public odd: Header = new Header();\n  public even: Header = new Header();\n  public firstPage: Header = new Header();\n}\n","import { Unit } from '../utils/Unit';\n\nexport type PageSize = 'A3' | 'A4' | 'A5' | 'Legal' | 'Letter' | 'Tabloid';\nexport type PageSizeUnit = 'mm' | 'in';\n\nexport interface PageSizeOption {\n  name: PageSize;\n  height: number;\n  width: number;\n}\n\nexport const pageSizes: PageSizeOption[] = [\n  {\n    name: 'Letter',\n    width: Unit.fromInch(8.5),\n    height: Unit.fromInch(11),\n  },\n  {\n    name: 'Tabloid',\n    width: Unit.fromInch(11),\n    height: Unit.fromInch(17),\n  },\n  {\n    name: 'Legal',\n    width: Unit.fromInch(8.5),\n    height: Unit.fromInch(14),\n  },\n  {\n    name: 'A3',\n    width: Unit.fromInch(11.69),\n    height: Unit.fromInch(16.54),\n  },\n  {\n    name: 'A4',\n    width: Unit.fromInch(8.29),\n    height: Unit.fromInch(11.69),\n  },\n  {\n    name: 'A5',\n    width: Unit.fromInch(5.83),\n    height: Unit.fromInch(8.27),\n  },\n];\n\nexport class PageSetup {\n  public pageSize: PageSize = 'Letter';\n  public pageSizeUnit: PageSizeUnit = 'in';\n\n  public landscape: boolean = false;\n\n  public pageWidth = Unit.fromInch(8.5);\n  public pageHeight = Unit.fromInch(11);\n\n  public topMargin = Unit.fromInch(1);\n  public bottomMargin = Unit.fromInch(1);\n  public leftMargin = Unit.fromInch(1);\n  public rightMargin = Unit.fromInch(1);\n\n  public headerMargin = Unit.fromInch(0.5);\n  public footerMargin = Unit.fromInch(0.5);\n  public headerDifferentFirstPage = false;\n  public headerDifferentOddEven = false;\n  public showHeader = false;\n  public showFooter = false;\n\n  public lineHeight = Unit.fromInch(0.75);\n\n  public lyricsDefaultFontFamily = 'Omega';\n  public lyricsDefaultFontSize = Unit.fromPt(12);\n  public lyricsDefaultColor = '#000000';\n  public lyricsVerticalOffset = -Unit.fromInch(0.06);\n\n  public neumeDefaultFontFamily = 'Neanes';\n  public neumeDefaultFontSize = Unit.fromPt(20);\n  public neumeDefaultColor = '#000000';\n  public neumeDefaultSpacing = Unit.fromInch(0.03);\n\n  public accidentalDefaultColor = '#ED0000';\n  public fthoraDefaultColor = '#ED0000';\n  public heteronDefaultColor = '#ED0000';\n  public gorgonDefaultColor = '#ED0000';\n  public measureBarDefaultColor = '#ED0000';\n  public measureNumberDefaultColor = '#000000';\n  public noteIndicatorDefaultColor = '#ED0000';\n  public isonDefaultColor = '#ED0000';\n\n  public martyriaDefaultColor = '#ED0000';\n\n  public tempoDefaultColor = '#ED0000';\n\n  public modeKeyDefaultColor = '#ED0000';\n\n  public dropCapDefaultFontFamily = 'Athonite';\n  public dropCapDefaultFontSize = Unit.fromPt(60);\n  public dropCapDefaultColor = '#000000';\n\n  public hyphenSpacing: number = Unit.fromInch(0.75);\n\n  public get innerPageWidth() {\n    return this.pageWidth - this.leftMargin - this.rightMargin;\n  }\n\n  public get innerPageHeight() {\n    return this.pageHeight - this.topMargin - this.bottomMargin;\n  }\n}\n","import { EmptyElement, ScoreElement } from './Element';\n\nexport class Staff {\n  public elements: ScoreElement[] = [new EmptyElement()];\n}\n","import { ScoreElement, TextBoxElement } from './Element';\n\nexport class Footer {\n  public elements: ScoreElement[] = [new TextBoxElement()];\n}\n","import { Footer } from './Footer';\n\nexport class Footers {\n  public default: Footer = new Footer();\n  public odd: Footer = new Footer();\n  public even: Footer = new Footer();\n  public firstPage: Footer = new Footer();\n}\n","import { Footer } from './Footer';\nimport { Header } from './Header';\nimport { Headers } from './Headers';\nimport { PageSetup } from './PageSetup';\nimport { Staff } from './Staff';\nimport { Footers } from './Footers';\n\nexport class Score {\n  public pageSetup: PageSetup = new PageSetup();\n  public headers: Headers = new Headers();\n  public footers: Footers = new Footers();\n  public staff: Staff = new Staff();\n\n  getHeaderForPage(pageNumber: number) {\n    let header: Header;\n\n    if (this.pageSetup.headerDifferentFirstPage && pageNumber === 1) {\n      header = this.headers.firstPage;\n    } else if (this.pageSetup.headerDifferentOddEven && pageNumber % 2 === 0) {\n      header = this.headers.even;\n    } else if (this.pageSetup.headerDifferentOddEven && pageNumber % 2 !== 0) {\n      header = this.headers.odd;\n    } else {\n      header = this.headers.default;\n    }\n\n    return header;\n  }\n\n  getFooterForPage(pageNumber: number) {\n    let footer: Footer;\n\n    if (this.pageSetup.headerDifferentFirstPage && pageNumber === 1) {\n      footer = this.footers.firstPage;\n    } else if (this.pageSetup.headerDifferentOddEven && pageNumber % 2 === 0) {\n      footer = this.footers.even;\n    } else if (this.pageSetup.headerDifferentOddEven && pageNumber % 2 !== 0) {\n      footer = this.footers.odd;\n    } else {\n      footer = this.footers.default;\n    }\n\n    return footer;\n  }\n}\n","import { Command } from '../CommandService';\n\nexport interface AddToCollectionCommandArgs<T> {\n  collection: T[];\n  elements: T[];\n  insertAtIndex?: number;\n}\n\nexport class AddToCollectionCommand<T> implements Command {\n  private added: boolean = false;\n\n  constructor(private args: AddToCollectionCommandArgs<T>) {}\n\n  public execute() {\n    if (this.args.insertAtIndex !== undefined) {\n      this.args.collection.splice(\n        this.args.insertAtIndex,\n        0,\n        ...this.args.elements,\n      );\n    } else {\n      this.args.collection.push(...this.args.elements);\n    }\n\n    this.added = true;\n  }\n\n  public undo() {\n    if (this.added && this.args.elements.length > 0) {\n      const index = this.args.collection.indexOf(this.args.elements[0]);\n      this.args.collection.splice(index, this.args.elements.length);\n      this.added = false;\n    }\n  }\n\n  public redo() {\n    if (!this.added) {\n      this.execute();\n    }\n  }\n}\n","import { Command } from '../CommandService';\n\nexport interface RemoveFromCollectionCommandArgs<T> {\n  collection: T[];\n  element: T;\n}\n\nexport class RemoveFromCollectionCommand<T> implements Command {\n  private index?: number;\n\n  constructor(private args: RemoveFromCollectionCommandArgs<T>) {}\n\n  public execute() {\n    this.index = this.args.collection.indexOf(this.args.element);\n\n    this.args.collection.splice(this.index, 1);\n  }\n\n  public undo() {\n    if (this.index !== undefined) {\n      this.args.collection.splice(this.index, 0, this.args.element);\n      this.index = undefined;\n    }\n  }\n\n  public redo() {\n    if (this.index === undefined) {\n      this.execute();\n    }\n  }\n}\n","import { Command } from '../CommandService';\n\nexport interface ReplaceElementInCollectionCommandArgs<T> {\n  collection: T[];\n  element: T;\n  replaceAtIndex: number;\n}\n\nexport class ReplaceElementInCollectionCommand<T> implements Command {\n  private replacedElement?: T;\n\n  constructor(private args: ReplaceElementInCollectionCommandArgs<T>) {}\n\n  public execute() {\n    this.replacedElement = this.args.collection[this.args.replaceAtIndex];\n\n    this.args.collection.splice(this.args.replaceAtIndex, 1, this.args.element);\n  }\n\n  public undo() {\n    if (this.replacedElement) {\n      this.args.collection.splice(\n        this.args.replaceAtIndex,\n        1,\n        this.replacedElement,\n      );\n\n      this.replacedElement = undefined;\n    }\n  }\n\n  public redo() {\n    if (!this.replacedElement) {\n      this.execute();\n    }\n  }\n}\n","import { Command } from '../CommandService';\n\nexport interface UpdatePropertiesCommandArgs<T> {\n  target: T;\n  newValues: Partial<T>;\n}\n\nexport class UpdatePropertiesCommand<T> implements Command {\n  private previousValues?: Partial<T>;\n\n  constructor(private args: UpdatePropertiesCommandArgs<T>) {}\n\n  public execute() {\n    this.previousValues = this.updateProperties(this.args.newValues);\n  }\n\n  public undo() {\n    if (this.previousValues) {\n      this.updateProperties(this.previousValues);\n      this.previousValues = undefined;\n    }\n  }\n\n  public redo() {\n    if (!this.previousValues) {\n      this.execute();\n    }\n  }\n\n  private updateProperties(newValues: Partial<T>) {\n    const previousValues: Partial<T> = {};\n\n    for (let key of Object.keys(newValues)) {\n      // Save the previous values for undo\n      (previousValues as any)[key] = (this.args.target as any)[key];\n\n      // Update the value on the object\n      (this.args.target as any)[key] = (newValues as any)[key];\n    }\n\n    return previousValues;\n  }\n}\n","import { EventBus } from '@/eventBus';\nimport { IpcRendererChannels } from '@/ipc/ipcChannels';\nimport {\n  AddToCollectionCommand,\n  AddToCollectionCommandArgs,\n} from './commands/AddToCollectionCommand';\nimport {\n  RemoveFromCollectionCommand,\n  RemoveFromCollectionCommandArgs,\n} from './commands/RemoveFromCollectionCommand';\nimport {\n  ReplaceElementInCollectionCommand,\n  ReplaceElementInCollectionCommandArgs,\n} from './commands/ReplaceElementInCollectionCommand';\nimport {\n  UpdatePropertiesCommandArgs,\n  UpdatePropertiesCommand,\n} from './commands/UpdatePropertiesCommand';\n\nexport interface Command {\n  execute(): void;\n  undo(): void;\n  redo(): void;\n\n  batchId?: number;\n}\n\ninterface CommandMap<T> {\n  'update-properties': UpdatePropertiesCommandArgs<T>;\n  'add-to-collection': AddToCollectionCommandArgs<T>;\n  'replace-element-in-collection': ReplaceElementInCollectionCommandArgs<T>;\n  'remove-from-collection': RemoveFromCollectionCommandArgs<T>;\n}\n\nexport class CommandFactory<T> {\n  public create<K extends keyof CommandMap<T>>(\n    key: K,\n    args: CommandMap<T>[K],\n  ): Command {\n    switch (key) {\n      case 'update-properties':\n        return new UpdatePropertiesCommand(\n          args as UpdatePropertiesCommandArgs<T>,\n        );\n      case 'add-to-collection':\n        return new AddToCollectionCommand(\n          args as AddToCollectionCommandArgs<T>,\n        );\n      case 'replace-element-in-collection':\n        return new ReplaceElementInCollectionCommand(\n          args as ReplaceElementInCollectionCommandArgs<T>,\n        );\n      case 'remove-from-collection':\n        return new RemoveFromCollectionCommand(\n          args as RemoveFromCollectionCommandArgs<T>,\n        );\n      default:\n        throw `Unknown command key: ${key}`;\n    }\n  }\n}\n\nexport class CommandService {\n  private commandHistory: Command[] = [];\n  private index: number = -1;\n  private nextBatchId: number = 1;\n\n  constructor() {\n    this.notify();\n  }\n\n  private get canUndo() {\n    return this.index > -1;\n  }\n\n  private get canRedo() {\n    return this.index < this.commandHistory.length - 1;\n  }\n\n  public notify() {\n    EventBus.$emit(IpcRendererChannels.SetCanUndo, this.canUndo);\n    EventBus.$emit(IpcRendererChannels.SetCanRedo, this.canRedo);\n  }\n\n  public execute(command: Command) {\n    command!.execute();\n\n    // Remove everything after the current index\n    // and push the new command\n    this.commandHistory = this.commandHistory.slice(0, this.index + 1);\n    this.commandHistory.push(command!);\n    this.index++;\n\n    this.notify();\n  }\n\n  public executeAsBatch(batch: Command[]) {\n    for (let command of batch) {\n      command.batchId = this.nextBatchId;\n      this.execute(command);\n    }\n\n    this.nextBatchId++;\n  }\n\n  public undo() {\n    if (this.index >= 0) {\n      let batchId = this.commandHistory[this.index].batchId;\n\n      do {\n        this.commandHistory[this.index].undo();\n        this.index--;\n      } while (\n        this.index >= 0 &&\n        batchId != null &&\n        this.commandHistory[this.index].batchId === batchId\n      );\n\n      this.notify();\n    }\n  }\n\n  public redo() {\n    if (this.index < this.commandHistory.length - 1) {\n      let batchId = this.commandHistory[this.index + 1].batchId;\n\n      do {\n        this.index++;\n        this.commandHistory[this.index].redo();\n      } while (\n        this.index < this.commandHistory.length - 1 &&\n        batchId != null &&\n        this.commandHistory[this.index + 1].batchId === batchId\n      );\n\n      this.notify();\n    }\n  }\n\n  public clearHistory() {\n    this.commandHistory.splice(0, this.commandHistory.length);\n    this.index = -1;\n\n    this.notify();\n  }\n}\n","export enum QuantitativeNeume {\n  Ison = 'Ison',\n\n  Oligon = 'Oligon',\n  OligonPlusKentimaBelow = 'OligonPlusKentimaBelow',\n  OligonPlusKentimaAbove = 'OligonPlusKentimaAbove',\n  OligonPlusHypsiliRight = 'OligonPlusHypsiliRight',\n  OligonPlusHypsiliLeft = 'OligonPlusHypsiliLeft',\n  OligonPlusHypsiliPlusKentimaHorizontal = 'OligonPlusHypsiliPlusKentimaHorizontal',\n  OligonPlusHypsiliPlusKentimaVertical = 'OligonPlusHypsiliPlusKentimaVertical',\n  OligonPlusDoubleHypsili = 'OligonPlusDoubleHypsili',\n\n  PetastiWithIson = 'PetastiWithIson',\n  Petasti = 'Petasti',\n  PetastiPlusOligon = 'PetastiPlusOligon',\n  PetastiPlusKentimaAbove = 'PetastiPlusKentimaAbove',\n  PetastiPlusHypsiliRight = 'PetastiPlusHypsiliRight',\n  PetastiPlusHypsiliLeft = 'PetastiPlusHypsiliLeft',\n  PetastiPlusHypsiliPlusKentimaHorizontal = 'PetastiPlusHypsiliPlusKentimaHorizontal',\n  PetastiPlusHypsiliPlusKentimaVertical = 'PetastiPlusHypsiliPlusKentimaVertical',\n  PetastiPlusDoubleHypsili = 'PetastiPlusDoubleHypsili',\n\n  Apostrophos = 'Apostrophos',\n  Elaphron = 'Elaphron',\n  ElaphronPlusApostrophos = 'ElaphronPlusApostrophos',\n  Hamili = 'Hamili',\n  HamiliPlusApostrophos = 'HamiliPlusApostrophos',\n  HamiliPlusElaphron = 'HamiliPlusElaphron',\n  HamiliPlusElaphronPlusApostrophos = 'HamiliPlusElaphronPlusApostrophos',\n  DoubleHamili = 'DoubleHamili',\n\n  PetastiPlusApostrophos = 'PetastiPlusApostrophos',\n  PetastiPlusElaphron = 'PetastiPlusElaphron',\n  PetastiPlusElaphronPlusApostrophos = 'PetastiPlusElaphronPlusApostrophos',\n\n  OligonPlusKentemata = 'OligonPlusKentemata',\n  KentemataPlusOligon = 'KentemataPlusOligon',\n  OligonPlusIsonPlusKentemata = 'OligonPlusIsonPlusKentemata',\n  OligonPlusApostrophosPlusKentemata = 'OligonPlusApostrophosPlusKentemata',\n  OligonPlusHyporoePlusKentemata = 'OligonPlusHyporoePlusKentemata',\n  OligonPlusElaphronPlusKentemata = 'OligonPlusElaphronPlusKentemata',\n  OligonPlusElaphronPlusApostrophosPlusKentemata = 'OligonPlusElaphronPlusApostrophosPlusKentemata',\n  OligonPlusHamiliPlusKentemata = 'OligonPlusHamiliPlusKentemata',\n\n  RunningElaphron = 'RunningElaphron',\n  Hyporoe = 'Hyporoe',\n  PetastiPlusRunningElaphron = 'PetastiPlusRunningElaphron',\n  PetastiPlusHyporoe = 'PetastiPlusHyporoe',\n\n  OligonPlusIson = 'OligonPlusIson',\n  OligonPlusApostrophos = 'OligonPlusApostrophos',\n  OligonPlusElaphron = 'OligonPlusElaphron',\n  OligonPlusElaphronPlusApostrophos = 'OligonPlusElaphronPlusApostrophos',\n  OligonPlusHamili = 'OligonPlusHamili',\n\n  Kentima = 'Kentima',\n  OligonPlusKentima = 'OligonPlusKentima',\n  Kentemata = 'Kentemata',\n\n  DoubleApostrophos = 'DoubleApostrophos',\n  OligonPlusRunningElaphronPlusKentemata = 'OligonPlusRunningElaphronPlusKentemata',\n  IsonPlusApostrophos = 'IsonPlusApostrophos',\n  OligonPlusKentemataPlusHypsiliLeft = 'OligonPlusKentemataPlusHypsiliLeft',\n  OligonPlusKentemataPlusHypsiliRight = 'OligonPlusKentemataPlusHypsiliRight',\n\n  VareiaDotted = 'VareiaDotted',\n  Cross = 'Cross',\n}\n\nexport enum TimeNeume {\n  Klasma_Top = 'Klasma_Top',\n  Klasma_Bottom = 'Klasma_Bottom',\n\n  Hapli = 'Hapli',\n  Dipli = 'Dipli',\n  Tripli = 'Tripli',\n}\n\nexport enum GorgonNeume {\n  Gorgon_Top = 'Gorgon_Top',\n  Gorgon_Bottom = 'Gorgon_Bottom',\n  Digorgon = 'Digorgon',\n  Trigorgon = 'Trigorgon',\n\n  GorgonDottedLeft = 'GorgonDottedLeft',\n  GorgonDottedRight = 'GorgonDottedRight',\n\n  DigorgonDottedLeft1 = 'DigorgonDottedLeft1',\n  DigorgonDottedLeft2 = 'DigorgonDottedLeft2',\n  DigorgonDottedRight = 'DigorgonDottedRight',\n\n  TrigorgonDottedLeft1 = 'TrigorgonDottedLeft1',\n  TrigorgonDottedLeft2 = 'TrigorgonDottedLeft2',\n  TrigorgonDottedRight = 'TrigorgonDottedRight',\n\n  GorgonSecondary = 'GorgonSecondary',\n  GorgonDottedLeftSecondary = 'GorgonDottedLeftSecondary',\n  GorgonDottedRightSecondary = 'GorgonDottedRightSecondary',\n\n  DigorgonSecondary = 'DigorgonSecondary',\n  DigorgonDottedLeft1Secondary = 'DigorgonDottedLeft1Secondary',\n  DigorgonDottedRightSecondary = 'DigorgonDottedRightSecondary',\n\n  TrigorgonSecondary = 'TrigorgonSecondary',\n  TrigorgonDottedLeft1Secondary = 'TrigorgonDottedLeft1Secondary',\n  TrigorgonDottedRightSecondary = 'TrigorgonDottedRightSecondary',\n\n  Argon = 'Argon',\n  Hemiolion = 'Hemiolion',\n  Diargon = 'Diargon',\n}\n\nexport enum VocalExpressionNeume {\n  Vareia = 'Vareia',\n  HomalonConnecting = 'HomalonConnecting',\n  Homalon = 'Homalon',\n  Antikenoma = 'Antikenoma',\n  Psifiston = 'Psifiston',\n  Heteron = 'Heteron',\n  HeteronConnecting = 'HeteronConnecting',\n}\n\nexport enum RootSign {\n  Delta = 'Delta',\n  Alpha = 'Alpha',\n  Legetos = 'Legetos',\n  Nana = 'Nana',\n  Tilt = 'Tilt',\n  TiltLow = 'TiltLow',\n  Zo = 'Varys',\n  Squiggle = 'Squiggle',\n  SquiggleLow = 'SquiggleLow',\n  Zygos = 'Zygos',\n  SoftChromaticSquiggle = 'SoftChromaticSquiggle',\n  SoftChromaticSquiggleLow = 'SoftChromaticSquiggleLow',\n  DeltaDotted = 'DeltaDotted',\n  AlphaDotted = 'AlphaDotted',\n  SoftChromaticPaRootSign = 'SoftChromaticPaRootSign',\n  SoftChromaticPaRootSignLow = 'SoftChromaticPaRootSignLow',\n  NanaLow = 'NanaLow',\n  DeltaLow = 'DeltaLow',\n  AlphaLow = 'AlphaLow',\n  LegetosLow = 'LegetosLow',\n}\n\nexport enum Note {\n  VouLow = 'VouLow',\n  GaLow = 'GaLow',\n  ThiLow = 'ThiLow',\n  KeLow = 'KeLow',\n  Zo = 'Zo',\n  Ni = 'Ni',\n  Pa = 'Pa',\n  Vou = 'Vou',\n  Ga = 'Ga',\n  Thi = 'Thi',\n  Ke = 'Ke',\n  ZoHigh = 'ZoHigh',\n  NiHigh = 'NiHigh',\n  PaHigh = 'PaHigh',\n  VouHigh = 'VouHigh',\n  GaHigh = 'GaHigh',\n  ThiHigh = 'ThiHigh',\n  KeHigh = 'KeHigh',\n}\n\nexport enum TempoSign {\n  VerySlow = 'VerySlow',\n  Slower = 'Slower',\n  Slow = 'Slow',\n  Medium = 'Medium',\n  Moderate = 'Moderate',\n  Quick = 'Quick',\n  Quicker = 'Quicker',\n  VeryQuick = 'VeryQuick',\n}\n\nexport enum ModeSign {\n  Ni = 'ModeSign.Ni',\n  Pa = 'ModeSign.Pa',\n  Vou = 'ModeSign.Vou',\n  Ga = 'ModeSign.Ga',\n  Thi = 'ModeSign.Thi',\n  Ke = 'ModeSign.Ke',\n  Zo = 'ModeSign.Zo',\n  Ekhos = 'ModeSign.Ekhos',\n  Plagal = 'ModeSign.Plagal',\n  First = 'ModeSign.First',\n  FirstCapital = 'ModeSign.FirstCapital',\n  Second = 'ModeSign.Second',\n  SecondCapital = 'ModeSign.SecondCapital',\n  Third = 'ModeSign.Third',\n  ThirdCapital = 'ModeSign.ThirdCapital',\n  Fourth = 'ModeSign.Fourth',\n  FourthCapital = 'ModeSign.FourthCapital',\n  Varys = 'ModeSign.Varys',\n  Alpha = 'ModeSign.Alpha',\n  AlphaWithDeltaHat = 'ModeSign.AlphaWithDeltaHat',\n  AlphaWithHypsili = 'ModeSign.AlphaWithHypsili',\n  SoftChromatic2 = 'ModeSign.SoftChromatic2',\n  SoftChromatic6 = 'ModeSign.SoftChromatic6',\n  Nana = 'ModeSign.Nana',\n  VarysZo = 'ModeSign.VarysZo',\n  Delta = 'ModeSign.Delta',\n  DeltaWithDeltaHat = 'ModeSign.DeltaWithDeltaHat',\n  DeltaWithHypsili = 'ModeSign.DeltaWithHypsili',\n  NanaOld = 'ModeSign.NanaOld',\n  Legetos = 'ModeSign.Legetos',\n  ElaphronPlusApostrophos = 'ModeSign.ElaphronPlusApostrophos',\n  Elaphron = 'ModeSign.Elaphron',\n  OligonPlusKentima = 'ModeSign.OligonPlusKentima',\n  OligonPlusHypsili = 'ModeSign.OligonPlusHypsili',\n}\n\nexport enum Fthora {\n  DiatonicNiLow_Top = 'DiatonicNiLow_Top',\n  DiatonicPa_Top = 'DiatonicPa_Top',\n  DiatonicVou_Top = 'DiatonicVou_Top',\n  DiatonicGa_Top = 'DiatonicGa_Top',\n  DiatonicThi_Top = 'DiatonicThi_Top',\n  DiatonicKe_Top = 'DiatonicKe_Top',\n  DiatonicZo_Top = 'DiatonicZo_Top',\n  DiatonicNiHigh_Top = 'DiatonicNiHigh_Top',\n  HardChromaticPa_Top = 'HardChromaticPa_Top',\n  HardChromaticThi_Top = 'HardChromaticThi_Top',\n  SoftChromaticPa_Top = 'SoftChromaticPa_Top',\n  SoftChromaticThi_Top = 'SoftChromaticThi_Top',\n  Enharmonic_Top = 'Enharmonic_Top',\n  Zygos_Top = 'Zygos_Top',\n  Kliton_Top = 'Kliton_Top',\n  Spathi_Top = 'Spathi_Top',\n\n  DiatonicNiLow_Bottom = 'DiatonicNiLow_Bottom',\n  DiatonicPa_Bottom = 'DiatonicPa_Bottom',\n  DiatonicThi_Bottom = 'DiatonicThi_Bottom',\n  DiatonicKe_Bottom = 'DiatonicKe_Bottom',\n  DiatonicNiHigh_Bottom = 'DiatonicNiHigh_Bottom',\n  HardChromaticPa_Bottom = 'HardChromaticPa_Bottom',\n  HardChromaticThi_Bottom = 'HardChromaticThi_Bottom',\n  SoftChromaticPa_Bottom = 'SoftChromaticPa_Bottom',\n  SoftChromaticThi_Bottom = 'SoftChromaticThi_Bottom',\n  Enharmonic_Bottom = 'Enharmonic_Bottom',\n  Zygos_Bottom = 'Zygos_Bottom',\n  Kliton_Bottom = 'Kliton_Bottom',\n\n  GeneralSharp_Top = 'GeneralSharp_Top',\n  GeneralSharp_Bottom = 'GeneralSharp_Bottom',\n\n  GeneralFlat_Top = 'GeneralFlat_Top',\n  GeneralFlat_Bottom = 'GeneralFlat_Bottom',\n}\n\nexport enum Accidental {\n  Sharp_2_Left = 'Sharp_2_Left',\n  Sharp_4_Left = 'Sharp_4_Left',\n  Sharp_6_Left = 'Sharp_6_Left',\n\n  Flat_2_Right = 'Flat_2_Right',\n  Flat_4_Right = 'Flat_4_Right',\n  Flat_6_Right = 'Flat_6_Right',\n}\n\nexport enum MeasureBar {\n  MeasureBarRight = 'MeasureBarRight',\n  MeasureBarTop = 'MeasureBarTop',\n}\n\nexport enum MeasureNumber {\n  Two = 'Two',\n  Three = 'Three',\n  Four = 'Four',\n  Five = 'Five',\n  Six = 'Six',\n  Seven = 'Seven',\n  Eight = 'Eight',\n}\n\nexport enum NoteIndicator {\n  Ni = 'NoteIndicator.Ni',\n  Pa = 'NoteIndicator.Pa',\n  Vou = 'NoteIndicator.Vou',\n  Ga = 'NoteIndicator.Ga',\n  Thi = 'NoteIndicator.Thi',\n  Ke = 'NoteIndicator.Ke',\n  Zo = 'NoteIndicator.Zo',\n}\n\nexport enum Ison {\n  Unison = 'Ison.Unison',\n  ThiLow = 'Ison.ThiLow',\n  KeLow = 'Ison.KeLow',\n  Zo = 'Ison.Zo',\n  Ni = 'Ison.Ni',\n  Pa = 'Ison.Pa',\n  Vou = 'Ison.Vou',\n  Ga = 'Ison.Ga',\n  Thi = 'Ison.Thi',\n  Ke = 'Ison.Ke',\n  ZoHigh = 'Ison.ZoHigh',\n}\n\nexport type Neume =\n  | QuantitativeNeume\n  | TimeNeume\n  | GorgonNeume\n  | VocalExpressionNeume\n  | Fthora\n  | Accidental\n  | TempoSign\n  | Note\n  | RootSign\n  | ModeSign\n  | MeasureBar\n  | MeasureNumber\n  | NoteIndicator\n  | Ison;\n","export enum Scale {\n  Diatonic = 'Diatonic',\n  SoftChromatic = 'SoftChromatic',\n  HardChromatic = 'HardChromatic',\n  EnharmonicGa = 'EnharmonicGa',\n  EnharmonicZoHigh = 'EnharmonicZoHigh',\n  EnharmonicVou = 'EnharmonicVou',\n  EnharmonicVouHigh = 'EnharmonicVouHigh',\n  Zygos = 'Zygos',\n  Spathi = 'Spathi',\n  Kliton = 'Kliton',\n}\n\nexport enum ScaleNote {\n  VouLow = 'VouLow',\n  GaLow = 'GaLow',\n  ThiLow = 'ThiLow',\n  KeLow = 'KeLow',\n  Zo = 'Zo',\n  Ni = 'Ni',\n  Pa = 'Pa',\n  Vou = 'Vou',\n  Ga = 'Ga',\n  Thi = 'Thi',\n  Ke = 'Ke',\n  ZoHigh = 'ZoHigh',\n  NiHigh = 'NiHigh',\n  PaHigh = 'PaHigh',\n  VouHigh = 'VouHigh',\n  GaHigh = 'GaHigh',\n  ThiHigh = 'ThiHigh',\n  KeHigh = 'KeHigh',\n}\n","import {\n  TimeNeume,\n  GorgonNeume,\n  QuantitativeNeume,\n  Note,\n  RootSign,\n  VocalExpressionNeume,\n  Fthora,\n  Accidental,\n  ModeSign,\n  TempoSign,\n  MeasureBar,\n  MeasureNumber,\n  NoteIndicator,\n  Ison,\n} from '@/models/save/v1/Neumes';\nimport { Scale, ScaleNote } from './Scales';\n\nexport enum ElementType {\n  Note = 'Note',\n  Martyria = 'Martyria',\n  Empty = 'Empty',\n  TextBox = 'TextBox',\n  DropCap = 'DropCap',\n  ModeKey = 'ModeKey',\n  Tempo = 'Tempo',\n}\n\nexport abstract class ScoreElement {\n  abstract elementType: ElementType;\n  public lineBreak: boolean | undefined = undefined;\n  public pageBreak: boolean | undefined = undefined;\n}\n\nexport class NoteElement extends ScoreElement {\n  public readonly elementType: ElementType = ElementType.Note;\n  public quantitativeNeume: QuantitativeNeume = QuantitativeNeume.Ison;\n  public timeNeume: TimeNeume | undefined = undefined;\n  public gorgonNeume: GorgonNeume | undefined = undefined;\n  public secondaryGorgonNeume: GorgonNeume | undefined = undefined;\n  public vocalExpressionNeume: VocalExpressionNeume | undefined = undefined;\n  public fthora: Fthora | undefined = undefined;\n  public accidental: Accidental | undefined = undefined;\n  public measureBar: MeasureBar | undefined = undefined;\n  public measureNumber: MeasureNumber | undefined = undefined;\n  public noteIndicator: NoteIndicator | undefined = undefined;\n  public ison: Ison | undefined = undefined;\n  public vareia: boolean | undefined = undefined;\n  public lyrics: string | undefined = undefined;\n  public isMelisma: boolean | undefined = undefined;\n  public isMelismaStart: boolean | undefined = undefined;\n  public isHyphen: boolean | undefined = undefined;\n}\n\nexport class MartyriaElement extends ScoreElement {\n  public readonly elementType: ElementType = ElementType.Martyria;\n  public auto: boolean | undefined = undefined;\n  public note: Note = Note.Pa;\n  public rootSign: RootSign = RootSign.Alpha;\n  public scale: Scale = Scale.Diatonic;\n  public fthora: Fthora | undefined = undefined;\n  public measureBar: MeasureBar | undefined = undefined;\n  public alignRight: boolean | undefined = undefined;\n}\n\nexport class TempoElement extends ScoreElement {\n  public readonly elementType: ElementType = ElementType.Tempo;\n  public neume: TempoSign = TempoSign.Moderate;\n\n  public error: boolean = false;\n}\n\nexport class EmptyElement extends ScoreElement {\n  public readonly elementType: ElementType = ElementType.Empty;\n}\n\nexport enum TextBoxAlignment {\n  Center = 'center',\n  Left = 'left',\n  Right = 'right',\n}\n\nexport class TextBoxElement extends ScoreElement {\n  public readonly elementType: ElementType = ElementType.TextBox;\n  public alignment: TextBoxAlignment = TextBoxAlignment.Left;\n  public color: string = '#000000';\n  public content: string = '';\n  public fontSize: number = 16;\n  public fontFamily: string = 'Omega';\n  public inline: boolean | undefined = undefined;\n  public bold: boolean | undefined = undefined;\n  public italic: boolean | undefined = undefined;\n  public underline: boolean | undefined = undefined;\n  public height: number = 20;\n}\n\nexport class ModeKeyElement extends ScoreElement {\n  public readonly elementType: ElementType = ElementType.ModeKey;\n  public templateId: number | undefined = undefined;\n  public alignment: TextBoxAlignment = TextBoxAlignment.Center;\n  public mode: number = 1;\n  public scale: Scale = Scale.Diatonic;\n  public scaleNote: ScaleNote = ScaleNote.Pa;\n  public martyria: ModeSign = ModeSign.Alpha;\n  public note: ModeSign | undefined = undefined;\n  public note2: ModeSign | undefined = undefined;\n  public fthoraAboveNote: Fthora | undefined = undefined;\n  public fthoraAboveNote2: Fthora | undefined = undefined;\n  public fthoraAboveQuantitativeNeumeRight: Fthora | undefined = undefined;\n  public quantitativeNeumeRight: QuantitativeNeume | undefined = undefined;\n  public quantitativeNeumeAboveNote: ModeSign | undefined = undefined;\n  public quantitativeNeumeAboveNote2: ModeSign | undefined = undefined;\n  public color: string = '#000000';\n  public fontSize: number = 16;\n  public height: number = 20;\n}\n\nexport class DropCapElement extends ScoreElement {\n  public readonly elementType: ElementType = ElementType.DropCap;\n  public content: string = 'A';\n  public fontFamily: string | undefined = undefined;\n  public fontSize: number | undefined = undefined;\n  public color: string | undefined = undefined;\n}\n\nexport class ScoreElementOffset {\n  public x: number = 0;\n  public y: number = 0;\n}\n","import { CommandService } from '@/services/history/CommandService';\nimport { NoteElement, ScoreElement } from './Element';\nimport { Score } from './Score';\nimport { ScoreElementSelectionRange } from './ScoreElementSelectionRange';\nimport { EntryMode } from '@/models/EntryMode';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport class Workspace {\n  public id: string = uuidv4();\n  public score: Score = new Score();\n  public filePath: string | null = null;\n  public tempFileName: string = '';\n  public hasUnsavedChanges: boolean = false;\n  public commandService: CommandService = new CommandService();\n  public selectedElement: ScoreElement | null = null;\n  public selectedHeaderFooterElement: ScoreElement | null = null;\n  public selectedLyrics: NoteElement | null = null;\n  public selectionRange: ScoreElementSelectionRange | null = null;\n  public zoom: number = 1;\n  public zoomToFit: boolean = false;\n  public entryMode: EntryMode = EntryMode.Auto;\n  public scrollLeft: number = 0;\n  public scrollTop: number = 0;\n}\n\nexport interface WorkspaceLocalStorage {\n  id: string;\n  score: string;\n  filePath: string | null;\n  tempFileName: string;\n  hasUnsavedChanges: boolean;\n}\n","import { ScoreElement, TextBoxElement } from './Element';\n\nexport class Footer {\n  public elements: ScoreElement[] = [new TextBoxElement()];\n}\n","import { Footer } from './Footer';\n\nexport class Footers {\n  public default: Footer = new Footer();\n  public odd: Footer = new Footer();\n  public even: Footer = new Footer();\n  public firstPage: Footer = new Footer();\n}\n","import { ScoreElement, TextBoxElement } from './Element';\n\nexport class Header {\n  public elements: ScoreElement[] = [new TextBoxElement()];\n}\n","import { Header } from './Header';\n\nexport class Headers {\n  public default: Header = new Header();\n  public odd: Header = new Header();\n  public even: Header = new Header();\n  public firstPage: Header = new Header();\n}\n","import { Unit } from '@/utils/Unit';\n\nexport type PageSize = 'A3' | 'A4' | 'A5' | 'Legal' | 'Letter' | 'Tabloid';\nexport type PageSizeUnit = 'mm' | 'in';\n\nexport class PageSetup {\n  public pageSize: PageSize = 'Letter';\n  public pageSizeUnit: PageSizeUnit = 'in';\n\n  public landscape: boolean | undefined = undefined;\n\n  public pageWidth = Unit.fromInch(8.5);\n  public pageHeight = Unit.fromInch(11);\n  public topMargin = Unit.fromInch(1);\n  public bottomMargin = Unit.fromInch(1);\n  public leftMargin = Unit.fromInch(1);\n  public rightMargin = Unit.fromInch(1);\n\n  public headerMargin = Unit.fromInch(0.5);\n  public footerMargin = Unit.fromInch(0.5);\n  public headerDifferentFirstPage: boolean | undefined = undefined;\n  public headerDifferentOddEven: boolean | undefined = undefined;\n  public showHeader: boolean | undefined = undefined;\n  public showFooter: boolean | undefined = undefined;\n\n  public lineHeight = Unit.fromInch(0.75);\n\n  public lyricsDefaultFontFamily = 'Omega';\n  public lyricsDefaultFontSize = Unit.fromPt(12);\n  public lyricsDefaultColor = '#000000';\n  public lyricsVerticalOffset = Unit.fromPt(30);\n\n  public neumeDefaultFontFamily = 'Neanes';\n  public neumeDefaultFontSize = Unit.fromPt(20);\n  public neumeDefaultColor = '#000000';\n  public neumeDefaultSpacing = 3;\n\n  public accidentalDefaultColor = '#ED0000';\n  public fthoraDefaultColor = '#ED0000';\n  public gorgonDefaultColor = '#ED0000';\n  public heteronDefaultColor = '#ED0000';\n  public measureBarDefaultColor = '#ED0000';\n  public measureNumberDefaultColor = '#000000';\n  public noteIndicatorDefaultColor = '#ED0000';\n  public isonDefaultColor = '#ED0000';\n\n  public tempoDefaultColor = '#ED0000';\n\n  public martyriaDefaultColor = '#ED0000';\n\n  public modeKeyDefaultColor = '#ED0000';\n\n  public dropCapDefaultFontFamily = 'Athonite';\n  public dropCapDefaultFontSize = Unit.fromPt(60);\n  public dropCapDefaultColor = '#000000';\n\n  public hyphenSpacing: number = Unit.fromInch(0.75);\n}\n","import { ScoreElement, EmptyElement } from '@/models/save/v1/Element';\nimport { Footers } from './Footers';\nimport { Headers } from './Headers';\nimport { PageSetup } from './PageSetup';\n\nconst ScoreVersion: string = '1.0';\n\nexport { ScoreVersion };\n\nexport class Score {\n  public version: string = ScoreVersion;\n  public pageSetup: PageSetup = new PageSetup();\n  public headers: Headers = new Headers();\n  public footers: Footers = new Footers();\n  public staff: Staff = new Staff();\n}\n\nexport class Staff {\n  public elements: ScoreElement[] = [new EmptyElement()];\n}\n","import { Score } from '@/models/Score';\nimport { Staff } from '@/models/Staff';\nimport {\n  DropCapElement,\n  ElementType,\n  EmptyElement,\n  MartyriaElement,\n  NoteElement,\n  ScoreElement,\n  ScoreElementOffset,\n  TextBoxElement,\n  ModeKeyElement,\n  TempoElement,\n} from '@/models/Element';\n\nimport { Score as Score_v1, Staff as Staff_v1 } from '@/models/save/v1/Score';\nimport { Header as Header_v1 } from '@/models/save/v1/Header';\nimport { Footer as Footer_v1 } from '@/models/save/v1/Footer';\nimport { Headers as Headers_v1 } from '@/models/save/v1/Headers';\nimport { Footers as Footers_v1 } from '@/models/save/v1/Footers';\nimport {\n  DropCapElement as DropCapElement_v1,\n  ElementType as ElementType_v1,\n  EmptyElement as EmptyElement_v1,\n  MartyriaElement as MartyriaElement_v1,\n  TempoElement as TempoElement_v1,\n  NoteElement as NoteElement_v1,\n  TextBoxElement as TextBoxElement_v1,\n  ScoreElement as ScoreElement_v1,\n  ScoreElementOffset as ScoreElementOffset_v1,\n  ModeKeyElement as ModeKeyElement_v1,\n} from '@/models/save/v1/Element';\nimport { PageSetup as PageSetup_v1 } from '@/models/save/v1/PageSetup';\nimport { PageSetup } from '@/models/PageSetup';\nimport { QuantitativeNeume } from '@/models/Neumes';\nimport { Header } from '@/models/Header';\nimport { Footer } from '@/models/Footer';\n\ninterface IScore {\n  version: string;\n}\n\nexport class SaveService {\n  public static LoadScoreFromJson(s: IScore) {\n    let score: Score = new Score();\n\n    if (s.version == null || typeof s.version !== 'string') {\n      throw new Error('File is missing file version.');\n    }\n\n    if (s.version.startsWith('1.')) {\n      score = this.LoadScore_v1(s as Score_v1);\n    } else {\n      throw new Error(`Unrecognized file version: ${s.version}`);\n    }\n\n    return score;\n  }\n\n  public static SaveScoreToJson(s: Score) {\n    const score = new Score_v1();\n\n    score.staff = new Staff_v1();\n    score.staff.elements = [];\n\n    score.pageSetup = new PageSetup_v1();\n    score.pageSetup.bottomMargin = s.pageSetup.bottomMargin;\n    score.pageSetup.dropCapDefaultColor = s.pageSetup.dropCapDefaultColor;\n    score.pageSetup.dropCapDefaultFontFamily =\n      s.pageSetup.dropCapDefaultFontFamily;\n    score.pageSetup.dropCapDefaultFontSize = s.pageSetup.dropCapDefaultFontSize;\n    score.pageSetup.leftMargin = s.pageSetup.leftMargin;\n    score.pageSetup.lineHeight = s.pageSetup.lineHeight;\n    score.pageSetup.lyricsDefaultColor = s.pageSetup.lyricsDefaultColor;\n    score.pageSetup.lyricsDefaultFontFamily =\n      s.pageSetup.lyricsDefaultFontFamily;\n    score.pageSetup.lyricsDefaultFontSize = s.pageSetup.lyricsDefaultFontSize;\n    score.pageSetup.lyricsVerticalOffset = s.pageSetup.lyricsVerticalOffset;\n    score.pageSetup.martyriaDefaultColor = s.pageSetup.martyriaDefaultColor;\n    score.pageSetup.tempoDefaultColor = s.pageSetup.tempoDefaultColor;\n    score.pageSetup.modeKeyDefaultColor = s.pageSetup.modeKeyDefaultColor;\n    score.pageSetup.neumeDefaultColor = s.pageSetup.neumeDefaultColor;\n    score.pageSetup.neumeDefaultFontFamily = s.pageSetup.neumeDefaultFontFamily;\n    score.pageSetup.neumeDefaultFontSize = s.pageSetup.neumeDefaultFontSize;\n    score.pageSetup.neumeDefaultSpacing = s.pageSetup.neumeDefaultSpacing;\n    score.pageSetup.pageHeight = s.pageSetup.pageHeight;\n    score.pageSetup.pageWidth = s.pageSetup.pageWidth;\n    score.pageSetup.rightMargin = s.pageSetup.rightMargin;\n    score.pageSetup.topMargin = s.pageSetup.topMargin;\n\n    score.pageSetup.headerMargin = s.pageSetup.headerMargin;\n    score.pageSetup.footerMargin = s.pageSetup.footerMargin;\n    score.pageSetup.headerDifferentFirstPage =\n      s.pageSetup.headerDifferentFirstPage || undefined;\n    score.pageSetup.headerDifferentOddEven =\n      s.pageSetup.headerDifferentOddEven || undefined;\n\n    score.pageSetup.showHeader = s.pageSetup.showHeader || undefined;\n    score.pageSetup.showFooter = s.pageSetup.showFooter || undefined;\n\n    score.pageSetup.accidentalDefaultColor = s.pageSetup.accidentalDefaultColor;\n    score.pageSetup.fthoraDefaultColor = s.pageSetup.fthoraDefaultColor;\n    score.pageSetup.heteronDefaultColor = s.pageSetup.heteronDefaultColor;\n    score.pageSetup.gorgonDefaultColor = s.pageSetup.gorgonDefaultColor;\n    score.pageSetup.measureBarDefaultColor = s.pageSetup.measureBarDefaultColor;\n    score.pageSetup.measureNumberDefaultColor =\n      s.pageSetup.measureNumberDefaultColor;\n    score.pageSetup.noteIndicatorDefaultColor =\n      s.pageSetup.noteIndicatorDefaultColor;\n    score.pageSetup.isonDefaultColor = s.pageSetup.isonDefaultColor;\n\n    score.pageSetup.pageSize = s.pageSetup.pageSize;\n    score.pageSetup.pageSizeUnit = s.pageSetup.pageSizeUnit;\n    score.pageSetup.landscape = s.pageSetup.landscape || undefined;\n\n    score.pageSetup.hyphenSpacing = s.pageSetup.hyphenSpacing;\n\n    this.SaveHeader(score.headers.default, s.headers.default);\n    this.SaveHeader(score.headers.even, s.headers.even);\n    this.SaveHeader(score.headers.odd, s.headers.odd);\n    this.SaveHeader(score.headers.firstPage, s.headers.firstPage);\n\n    this.SaveFooter(score.footers.default, s.footers.default);\n    this.SaveFooter(score.footers.even, s.footers.even);\n    this.SaveFooter(score.footers.odd, s.footers.odd);\n    this.SaveFooter(score.footers.firstPage, s.footers.firstPage);\n\n    for (let e of s.staff.elements) {\n      let element: ScoreElement_v1 = new EmptyElement_v1();\n\n      switch (e.elementType) {\n        case ElementType.DropCap:\n          element = new DropCapElement_v1();\n          this.SaveDropCap(element as DropCapElement_v1, e as DropCapElement);\n          break;\n        case ElementType.Empty:\n          element = new EmptyElement_v1();\n          break;\n        case ElementType.Martyria:\n          element = new MartyriaElement_v1();\n          this.SaveMartyria(\n            element as MartyriaElement_v1,\n            e as MartyriaElement,\n          );\n          break;\n        case ElementType.Tempo:\n          element = new TempoElement_v1();\n          this.SaveTempo(element as TempoElement_v1, e as TempoElement);\n          break;\n        case ElementType.Note:\n          element = new NoteElement_v1();\n          this.SaveNote(element as NoteElement_v1, e as NoteElement);\n          break;\n        case ElementType.TextBox:\n          element = new TextBoxElement_v1();\n          this.SaveTextBox(element as TextBoxElement_v1, e as TextBoxElement);\n          break;\n        case ElementType.ModeKey:\n          element = new ModeKeyElement_v1();\n          this.SaveModeKey(element as ModeKeyElement_v1, e as ModeKeyElement);\n          break;\n        default:\n          console.warn('Unrecognized element in score', e.elementType);\n      }\n\n      element.lineBreak = e.lineBreak || undefined;\n      element.pageBreak = e.pageBreak || undefined;\n\n      score.staff.elements.push(element);\n    }\n\n    return score;\n  }\n\n  public static SaveHeader(header: Header_v1, h: Header) {\n    // Currently, headers only support a single element\n    const e = h.elements[0];\n    const element = header.elements[0];\n    this.SaveTextBox(element as TextBoxElement_v1, e as TextBoxElement);\n  }\n\n  public static SaveFooter(footer: Footer_v1, f: Footer) {\n    // Currently, footers only support a single element\n    const e = f.elements[0];\n    const element = footer.elements[0];\n    this.SaveTextBox(element as TextBoxElement_v1, e as TextBoxElement);\n  }\n\n  public static SaveDropCap(element: DropCapElement_v1, e: DropCapElement) {\n    element.color = e.color || undefined;\n    element.content = e.content;\n    element.fontFamily = e.fontFamily || undefined;\n    element.fontSize = e.fontSize || undefined;\n  }\n\n  public static SaveMartyria(element: MartyriaElement_v1, e: MartyriaElement) {\n    element.auto = e.auto || undefined;\n    element.note = e.note;\n    element.rootSign = e.rootSign;\n    element.scale = e.scale;\n    element.fthora = e.fthora || undefined;\n    element.measureBar = e.measureBar || undefined;\n    element.alignRight = e.alignRight || undefined;\n  }\n\n  public static SaveTempo(element: TempoElement_v1, e: TempoElement) {\n    element.neume = e.neume;\n  }\n\n  public static SaveNote(element: NoteElement_v1, e: NoteElement) {\n    element.quantitativeNeume = e.quantitativeNeume;\n\n    if (e.timeNeume != null) {\n      element.timeNeume = e.timeNeume;\n    }\n\n    if (e.gorgonNeume != null) {\n      element.gorgonNeume = e.gorgonNeume;\n    }\n\n    if (e.secondaryGorgonNeume != null) {\n      element.secondaryGorgonNeume = e.secondaryGorgonNeume;\n    }\n\n    if (e.fthora != null) {\n      element.fthora = e.fthora;\n    }\n\n    if (e.accidental != null) {\n      element.accidental = e.accidental;\n    }\n\n    if (e.vocalExpressionNeume != null) {\n      element.vocalExpressionNeume = e.vocalExpressionNeume;\n    }\n\n    if (e.measureBar != null) {\n      element.measureBar = e.measureBar;\n    }\n\n    if (e.measureNumber != null) {\n      element.measureNumber = e.measureNumber;\n    }\n\n    if (e.noteIndicator != null) {\n      element.noteIndicator = e.noteIndicator;\n    }\n\n    if (e.ison != null) {\n      element.ison = e.ison;\n    }\n\n    element.vareia = e.vareia || undefined;\n\n    element.lyrics = e.lyrics !== '' ? e.lyrics : undefined;\n    element.isMelisma = e.isMelisma || undefined;\n    element.isMelismaStart = e.isMelismaStart || undefined;\n    element.isHyphen = e.isHyphen || undefined;\n  }\n\n  public static SaveTextBox(element: TextBoxElement_v1, e: TextBoxElement) {\n    element.alignment = e.alignment;\n    element.color = e.color;\n    element.content = e.content;\n    element.fontFamily = e.fontFamily;\n    element.fontSize = e.fontSize;\n    element.inline = e.inline || undefined;\n    element.bold = e.bold || undefined;\n    element.italic = e.italic || undefined;\n    element.underline = e.underline || undefined;\n    element.height = e.height;\n  }\n\n  public static SaveModeKey(element: ModeKeyElement_v1, e: ModeKeyElement) {\n    element.templateId = e.templateId || undefined;\n    element.alignment = e.alignment;\n    element.mode = e.mode;\n    element.scale = e.scale;\n    element.scaleNote = e.scaleNote;\n    element.note = e.note || undefined;\n    element.note2 = e.note2 || undefined;\n    element.fthoraAboveNote = e.fthoraAboveNote || undefined;\n    element.fthoraAboveNote2 = e.fthoraAboveNote2 || undefined;\n    element.fthoraAboveQuantitativeNeumeRight =\n      e.fthoraAboveQuantitativeNeumeRight || undefined;\n    element.quantitativeNeumeAboveNote =\n      e.quantitativeNeumeAboveNote || undefined;\n    element.quantitativeNeumeAboveNote2 =\n      e.quantitativeNeumeAboveNote2 || undefined;\n    element.quantitativeNeumeRight = e.quantitativeNeumeRight || undefined;\n    element.martyria = e.martyria;\n    element.color = e.color;\n    element.fontSize = e.fontSize;\n    element.height = e.height;\n  }\n\n  public static LoadScore_v1(s: Score_v1) {\n    const score = new Score();\n\n    score.staff = new Staff();\n    score.staff.elements = [];\n\n    score.pageSetup = new PageSetup();\n\n    this.LoadPageSetup_v1(score.pageSetup, s.pageSetup);\n\n    if (s.headers) {\n      this.LoadHeader_v1(score.headers.default, s.headers.default);\n      this.LoadHeader_v1(score.headers.even, s.headers.even);\n      this.LoadHeader_v1(score.headers.odd, s.headers.odd);\n      this.LoadHeader_v1(score.headers.firstPage, s.headers.firstPage);\n    }\n\n    if (s.footers) {\n      this.LoadFooter_v1(score.footers.default, s.footers.default);\n      this.LoadFooter_v1(score.footers.even, s.footers.even);\n      this.LoadFooter_v1(score.footers.odd, s.footers.odd);\n      this.LoadFooter_v1(score.footers.firstPage, s.footers.firstPage);\n    }\n\n    for (let e of s.staff.elements) {\n      let element: ScoreElement = new EmptyElement();\n\n      switch (e.elementType) {\n        case ElementType_v1.DropCap:\n          element = new DropCapElement();\n          this.LoadDropCap_v1(\n            element as DropCapElement,\n            e as DropCapElement_v1,\n          );\n          break;\n        case ElementType_v1.Empty:\n          element = new EmptyElement();\n          break;\n        case ElementType_v1.Martyria:\n          element = new MartyriaElement();\n          this.LoadMartyria_v1(\n            element as MartyriaElement,\n            e as MartyriaElement_v1,\n          );\n          break;\n        case ElementType_v1.Tempo:\n          element = new TempoElement();\n          this.LoadTempo_v1(element as TempoElement, e as TempoElement_v1);\n          break;\n        case ElementType_v1.Note:\n          element = new NoteElement();\n          this.LoadNote_v1(element as NoteElement, e as NoteElement_v1);\n          break;\n        case ElementType_v1.TextBox:\n          element = new TextBoxElement();\n          this.LoadTextBox_v1(\n            element as TextBoxElement,\n            e as TextBoxElement_v1,\n          );\n          break;\n        case ElementType_v1.ModeKey:\n          element = new ModeKeyElement();\n          this.LoadModeKey_v1(\n            element as ModeKeyElement,\n            e as ModeKeyElement_v1,\n          );\n          break;\n        default:\n          console.warn(\n            'Unrecognized element in score file',\n            'v1',\n            e.elementType,\n          );\n      }\n\n      element.lineBreak = e.lineBreak === true;\n      element.pageBreak = e.pageBreak === true;\n\n      score.staff.elements.push(element);\n    }\n\n    return score;\n  }\n\n  public static LoadPageSetup_v1(pageSetup: PageSetup, p: PageSetup_v1) {\n    pageSetup.pageHeight = p.pageHeight;\n    pageSetup.pageWidth = p.pageWidth;\n    pageSetup.topMargin = p.topMargin;\n    pageSetup.bottomMargin = p.bottomMargin;\n    pageSetup.leftMargin = p.leftMargin;\n    pageSetup.rightMargin = p.rightMargin;\n\n    if (p.headerMargin != null) {\n      pageSetup.headerMargin = p.headerMargin;\n    }\n\n    if (p.footerMargin) {\n      pageSetup.footerMargin = p.footerMargin;\n    }\n\n    pageSetup.headerDifferentFirstPage = p.headerDifferentFirstPage === true;\n    pageSetup.headerDifferentOddEven = p.headerDifferentOddEven === true;\n    pageSetup.showHeader = p.showHeader === true;\n    pageSetup.showFooter = p.showFooter === true;\n\n    pageSetup.lineHeight = p.lineHeight;\n\n    pageSetup.dropCapDefaultColor =\n      p.dropCapDefaultColor || pageSetup.dropCapDefaultColor;\n    pageSetup.dropCapDefaultFontFamily = p.dropCapDefaultFontFamily;\n    pageSetup.dropCapDefaultFontSize = p.dropCapDefaultFontSize;\n\n    pageSetup.lyricsDefaultColor =\n      p.lyricsDefaultColor || pageSetup.lyricsDefaultColor;\n    pageSetup.lyricsDefaultFontFamily = p.lyricsDefaultFontFamily;\n    pageSetup.lyricsDefaultFontSize = p.lyricsDefaultFontSize;\n    pageSetup.lyricsVerticalOffset = p.lyricsVerticalOffset;\n\n    pageSetup.martyriaDefaultColor =\n      p.martyriaDefaultColor || pageSetup.martyriaDefaultColor;\n    pageSetup.tempoDefaultColor =\n      p.tempoDefaultColor || pageSetup.tempoDefaultColor;\n    pageSetup.modeKeyDefaultColor =\n      p.modeKeyDefaultColor || pageSetup.modeKeyDefaultColor;\n    pageSetup.neumeDefaultColor =\n      p.neumeDefaultColor || pageSetup.neumeDefaultColor;\n\n    pageSetup.neumeDefaultFontFamily =\n      p.neumeDefaultFontFamily || pageSetup.neumeDefaultFontFamily;\n    pageSetup.neumeDefaultFontSize = p.neumeDefaultFontSize;\n    pageSetup.neumeDefaultSpacing = p.neumeDefaultSpacing;\n\n    pageSetup.accidentalDefaultColor =\n      p.accidentalDefaultColor || pageSetup.accidentalDefaultColor;\n    pageSetup.fthoraDefaultColor =\n      p.fthoraDefaultColor || pageSetup.fthoraDefaultColor;\n    pageSetup.heteronDefaultColor =\n      p.heteronDefaultColor || pageSetup.heteronDefaultColor;\n    pageSetup.gorgonDefaultColor =\n      p.gorgonDefaultColor || pageSetup.gorgonDefaultColor;\n    pageSetup.measureBarDefaultColor =\n      p.measureBarDefaultColor || pageSetup.measureBarDefaultColor;\n    pageSetup.measureNumberDefaultColor =\n      p.measureNumberDefaultColor || pageSetup.measureNumberDefaultColor;\n    pageSetup.noteIndicatorDefaultColor =\n      p.noteIndicatorDefaultColor || pageSetup.noteIndicatorDefaultColor;\n    pageSetup.isonDefaultColor =\n      p.isonDefaultColor || pageSetup.isonDefaultColor;\n\n    pageSetup.pageSize = p.pageSize || pageSetup.pageSize;\n    pageSetup.pageSizeUnit = p.pageSizeUnit || pageSetup.pageSizeUnit;\n    pageSetup.landscape = p.landscape === true;\n\n    pageSetup.hyphenSpacing = p.hyphenSpacing;\n  }\n\n  public static LoadHeader_v1(header: Header, h: Header_v1) {\n    // Currently, headers only support a single element\n    const e = h.elements[0];\n    const element = header.elements[0];\n    this.LoadTextBox_v1(element as TextBoxElement, e as TextBoxElement_v1);\n  }\n\n  public static LoadFooter_v1(footer: Footer, f: Footer_v1) {\n    // Currently, footers only support a single element\n    const e = f.elements[0];\n    const element = footer.elements[0];\n    this.LoadTextBox_v1(element as TextBoxElement, e as TextBoxElement_v1);\n  }\n\n  public static LoadDropCap_v1(element: DropCapElement, e: DropCapElement_v1) {\n    element.color = e.color || null;\n    element.content = e.content;\n    element.fontFamily = e.fontFamily || null;\n    element.fontSize = e.fontSize || null;\n  }\n\n  public static LoadMartyria_v1(\n    element: MartyriaElement,\n    e: MartyriaElement_v1,\n  ) {\n    element.auto = e.auto === true;\n    element.alignRight = e.alignRight === true;\n    element.note = e.note;\n    element.scale = e.scale;\n    element.rootSign = e.rootSign;\n\n    if (e.fthora != null) {\n      element.fthora = e.fthora;\n    }\n\n    if (e.measureBar != null) {\n      element.measureBar = e.measureBar;\n    }\n  }\n\n  public static LoadTempo_v1(element: TempoElement, e: TempoElement_v1) {\n    element.neume = e.neume;\n  }\n\n  public static LoadNote_v1(element: NoteElement, e: NoteElement_v1) {\n    element.quantitativeNeume = Object.values(QuantitativeNeume).includes(\n      e.quantitativeNeume,\n    )\n      ? e.quantitativeNeume\n      : QuantitativeNeume.Ison;\n\n    if (e.timeNeume != null) {\n      element.timeNeume = e.timeNeume;\n    }\n\n    if (e.gorgonNeume != null) {\n      element.gorgonNeume = e.gorgonNeume;\n    }\n\n    if (e.secondaryGorgonNeume != null) {\n      element.secondaryGorgonNeume = e.secondaryGorgonNeume;\n    }\n\n    if (e.fthora != null) {\n      element.fthora = e.fthora;\n    }\n\n    if (e.accidental != null) {\n      element.accidental = e.accidental;\n    }\n\n    if (e.vocalExpressionNeume != null) {\n      element.vocalExpressionNeume = e.vocalExpressionNeume;\n    }\n\n    if (e.measureBar != null) {\n      element.measureBar = e.measureBar;\n    }\n\n    if (e.measureNumber != null) {\n      element.measureNumber = e.measureNumber;\n    }\n\n    if (e.noteIndicator != null) {\n      element.noteIndicator = e.noteIndicator;\n    }\n\n    if (e.ison != null) {\n      element.ison = e.ison;\n    }\n\n    if (e.lyrics != null) {\n      element.lyrics = e.lyrics;\n    }\n\n    element.vareia = e.vareia === true;\n\n    element.isMelisma = e.isMelisma === true;\n    element.isMelismaStart = e.isMelismaStart === true;\n    element.isHyphen = e.isHyphen === true;\n  }\n\n  public static LoadTextBox_v1(element: TextBoxElement, e: TextBoxElement_v1) {\n    element.alignment = e.alignment;\n    element.color = e.color;\n    element.content = e.content;\n    element.fontFamily = e.fontFamily;\n    element.fontSize = e.fontSize;\n    element.inline = e.inline === true;\n    element.bold = e.bold === true;\n    element.italic = e.italic === true;\n    element.underline = e.underline === true;\n    element.height = e.height;\n  }\n\n  public static LoadModeKey_v1(element: ModeKeyElement, e: ModeKeyElement_v1) {\n    element.templateId = e.templateId || null;\n    element.alignment = e.alignment;\n    element.mode = e.mode;\n    element.scale = e.scale;\n    element.scaleNote = e.scaleNote;\n    element.note = e.note || null;\n    element.note2 = e.note2 || null;\n    element.fthoraAboveNote = e.fthoraAboveNote || null;\n    element.fthoraAboveNote2 = e.fthoraAboveNote2 || null;\n    element.fthoraAboveQuantitativeNeumeRight =\n      e.fthoraAboveQuantitativeNeumeRight || null;\n    element.quantitativeNeumeAboveNote = e.quantitativeNeumeAboveNote || null;\n    element.quantitativeNeumeAboveNote2 = e.quantitativeNeumeAboveNote2 || null;\n    element.quantitativeNeumeRight = e.quantitativeNeumeRight || null;\n    element.martyria = e.martyria;\n    element.color = e.color;\n    element.fontSize = e.fontSize;\n  }\n}\n","import {\n  Neume,\n  TimeNeume,\n  QuantitativeNeume,\n  Fthora,\n  Accidental,\n  TempoSign,\n  VocalExpressionNeume,\n  RootSign,\n  Note,\n  GorgonNeume,\n  ModeSign,\n  MeasureBar,\n  MeasureNumber,\n  NoteIndicator,\n  Ison,\n} from '@/models/Neumes';\n\nimport glyphnames from '@/assets/fonts/sbmufl/glyphnames.json';\n\nexport type SbmuflGlyphName = keyof typeof glyphnames;\n\nexport interface NeumeMapping {\n  glyphName: SbmuflGlyphName;\n  text: string;\n  salt?: number;\n}\n\n// Create mapping from glyph name to codepoint\nconst glyphNameToCodepointMap = new Map<string, string>();\n\nfor (let glyph in glyphnames) {\n  const data: { codepoint: string } = (glyphnames as any)[glyph];\n  const codepoint = Number('0x' + data.codepoint.substring(2));\n  glyphNameToCodepointMap.set(glyph, String.fromCodePoint(codepoint));\n}\n\nfunction mapNeumeToSbmufl(\n  neume: Neume,\n  glyphName: SbmuflGlyphName,\n  salt?: number,\n) {\n  neumeToSbmuflGlyphMap.set(neume, {\n    glyphName,\n    salt,\n    text: glyphNameToCodepointMap.get(glyphName)!,\n  });\n}\n\nconst neumeToSbmuflGlyphMap = new Map<Neume, NeumeMapping>();\n\nmapNeumeToSbmufl(QuantitativeNeume.Ison, 'ison');\nmapNeumeToSbmufl(QuantitativeNeume.Oligon, 'oligon');\nmapNeumeToSbmufl(\n  QuantitativeNeume.OligonPlusKentimaBelow,\n  'oligonKentimaBelow',\n);\nmapNeumeToSbmufl(\n  QuantitativeNeume.OligonPlusKentimaAbove,\n  'oligonKentimaAbove',\n);\nmapNeumeToSbmufl(QuantitativeNeume.OligonPlusHypsiliRight, 'oligonYpsiliRight');\nmapNeumeToSbmufl(QuantitativeNeume.OligonPlusHypsiliLeft, 'oligonYpsiliLeft');\nmapNeumeToSbmufl(\n  QuantitativeNeume.OligonPlusHypsiliPlusKentimaHorizontal,\n  'oligonKentimaYpsiliRight',\n);\nmapNeumeToSbmufl(\n  QuantitativeNeume.OligonPlusHypsiliPlusKentimaVertical,\n  'oligonKentimaYpsiliMiddle',\n);\nmapNeumeToSbmufl(\n  QuantitativeNeume.OligonPlusDoubleHypsili,\n  'oligonDoubleYpsili',\n);\nmapNeumeToSbmufl(QuantitativeNeume.PetastiWithIson, 'petastiIson');\nmapNeumeToSbmufl(QuantitativeNeume.Petasti, 'petasti');\nmapNeumeToSbmufl(QuantitativeNeume.PetastiPlusOligon, 'petastiOligon');\nmapNeumeToSbmufl(QuantitativeNeume.PetastiPlusKentimaAbove, 'petastiKentima');\nmapNeumeToSbmufl(\n  QuantitativeNeume.PetastiPlusHypsiliRight,\n  'petastiYpsiliRight',\n);\nmapNeumeToSbmufl(QuantitativeNeume.PetastiPlusHypsiliLeft, 'petastiYpsiliLeft');\nmapNeumeToSbmufl(\n  QuantitativeNeume.PetastiPlusHypsiliPlusKentimaHorizontal,\n  'petastiKentimaYpsiliRight',\n);\nmapNeumeToSbmufl(\n  QuantitativeNeume.PetastiPlusHypsiliPlusKentimaVertical,\n  'petastiKentimaYpsiliMiddle',\n);\nmapNeumeToSbmufl(\n  QuantitativeNeume.PetastiPlusDoubleHypsili,\n  'petastiDoubleYpsili',\n);\nmapNeumeToSbmufl(QuantitativeNeume.Apostrophos, 'apostrofos');\nmapNeumeToSbmufl(QuantitativeNeume.Elaphron, 'elafron');\nmapNeumeToSbmufl(QuantitativeNeume.Apostrophos, 'apostrofos');\nmapNeumeToSbmufl(\n  QuantitativeNeume.ElaphronPlusApostrophos,\n  'elafronApostrofos',\n);\nmapNeumeToSbmufl(QuantitativeNeume.Hamili, 'chamili');\nmapNeumeToSbmufl(QuantitativeNeume.HamiliPlusApostrophos, 'chamiliApostrofos');\nmapNeumeToSbmufl(QuantitativeNeume.HamiliPlusElaphron, 'chamiliElafron');\nmapNeumeToSbmufl(\n  QuantitativeNeume.HamiliPlusElaphronPlusApostrophos,\n  'chamiliElafronApostrofos',\n);\nmapNeumeToSbmufl(QuantitativeNeume.DoubleHamili, 'doubleChamili');\nmapNeumeToSbmufl(QuantitativeNeume.PetastiPlusApostrophos, 'petastiApostrofos');\nmapNeumeToSbmufl(QuantitativeNeume.PetastiPlusElaphron, 'petastiElafron');\nmapNeumeToSbmufl(\n  QuantitativeNeume.PetastiPlusElaphronPlusApostrophos,\n  'petastiElafronApostrofos',\n);\nmapNeumeToSbmufl(QuantitativeNeume.OligonPlusKentemata, 'oligonKentimataAbove');\nmapNeumeToSbmufl(QuantitativeNeume.KentemataPlusOligon, 'oligonKentimataBelow');\nmapNeumeToSbmufl(\n  QuantitativeNeume.OligonPlusIsonPlusKentemata,\n  'oligonIsonKentimata',\n);\nmapNeumeToSbmufl(\n  QuantitativeNeume.OligonPlusApostrophosPlusKentemata,\n  'oligonApostrofosKentimata',\n);\nmapNeumeToSbmufl(\n  QuantitativeNeume.OligonPlusHyporoePlusKentemata,\n  'oligonYporroiKentimata',\n);\nmapNeumeToSbmufl(\n  QuantitativeNeume.OligonPlusElaphronPlusKentemata,\n  'oligonElafronKentimata',\n);\nmapNeumeToSbmufl(\n  QuantitativeNeume.OligonPlusElaphronPlusApostrophosPlusKentemata,\n  'oligonElafronApostrofosKentimata',\n);\nmapNeumeToSbmufl(\n  QuantitativeNeume.OligonPlusHamiliPlusKentemata,\n  'oligonChamiliKentimata',\n);\nmapNeumeToSbmufl(QuantitativeNeume.RunningElaphron, 'runningElafron');\nmapNeumeToSbmufl(QuantitativeNeume.Hyporoe, 'yporroi');\nmapNeumeToSbmufl(\n  QuantitativeNeume.PetastiPlusRunningElaphron,\n  'petastiRunningElafron',\n);\nmapNeumeToSbmufl(QuantitativeNeume.PetastiPlusHyporoe, 'petastiYporroi');\nmapNeumeToSbmufl(QuantitativeNeume.OligonPlusIson, 'oligonIson');\nmapNeumeToSbmufl(QuantitativeNeume.OligonPlusApostrophos, 'oligonApostrofos');\nmapNeumeToSbmufl(QuantitativeNeume.OligonPlusElaphron, 'oligonElafron');\nmapNeumeToSbmufl(\n  QuantitativeNeume.OligonPlusElaphronPlusApostrophos,\n  'oligonElafronApostrofos',\n);\nmapNeumeToSbmufl(QuantitativeNeume.OligonPlusHamili, 'oligonChamili');\nmapNeumeToSbmufl(QuantitativeNeume.Kentima, 'kentima');\nmapNeumeToSbmufl(QuantitativeNeume.OligonPlusKentima, 'oligonKentimaMiddle');\nmapNeumeToSbmufl(QuantitativeNeume.Kentemata, 'kentimata');\nmapNeumeToSbmufl(\n  QuantitativeNeume.OligonPlusRunningElaphronPlusKentemata,\n  'oligonRunningElafronKentimata',\n);\nmapNeumeToSbmufl(QuantitativeNeume.DoubleApostrophos, 'apostrofosSyndesmos');\nmapNeumeToSbmufl(QuantitativeNeume.IsonPlusApostrophos, 'isonApostrofos');\nmapNeumeToSbmufl(\n  QuantitativeNeume.OligonPlusKentemataPlusHypsiliLeft,\n  'oligonKentimataYpsiliLeft',\n);\nmapNeumeToSbmufl(\n  QuantitativeNeume.OligonPlusKentemataPlusHypsiliRight,\n  'oligonKentimataYpsiliRight',\n);\nmapNeumeToSbmufl(QuantitativeNeume.Cross, 'stavros');\nmapNeumeToSbmufl(QuantitativeNeume.VareiaDotted, 'leimma1');\nmapNeumeToSbmufl(GorgonNeume.Gorgon_Top, 'gorgonAbove');\nmapNeumeToSbmufl(GorgonNeume.Gorgon_Bottom, 'gorgonBelow');\nmapNeumeToSbmufl(GorgonNeume.Digorgon, 'digorgon');\nmapNeumeToSbmufl(GorgonNeume.Trigorgon, 'trigorgon');\nmapNeumeToSbmufl(GorgonNeume.GorgonDottedLeft, 'gorgonDottedLeft');\nmapNeumeToSbmufl(GorgonNeume.GorgonDottedRight, 'gorgonDottedRight');\nmapNeumeToSbmufl(GorgonNeume.DigorgonDottedLeft1, 'digorgonDottedLeftBelow');\nmapNeumeToSbmufl(GorgonNeume.DigorgonDottedLeft2, 'digorgonDottedLeftAbove');\nmapNeumeToSbmufl(GorgonNeume.DigorgonDottedRight, 'digorgonDottedRight');\nmapNeumeToSbmufl(GorgonNeume.TrigorgonDottedLeft1, 'trigorgonDottedLeftBelow');\nmapNeumeToSbmufl(GorgonNeume.TrigorgonDottedLeft2, 'trigorgonDottedLeftAbove');\nmapNeumeToSbmufl(GorgonNeume.TrigorgonDottedRight, 'trigorgonDottedRight');\nmapNeumeToSbmufl(GorgonNeume.Argon, 'argon');\nmapNeumeToSbmufl(GorgonNeume.Hemiolion, 'diargon');\nmapNeumeToSbmufl(GorgonNeume.Diargon, 'triargon');\nmapNeumeToSbmufl(GorgonNeume.GorgonSecondary, 'gorgonSecondary');\nmapNeumeToSbmufl(GorgonNeume.DigorgonSecondary, 'digorgonSecondary');\nmapNeumeToSbmufl(GorgonNeume.TrigorgonSecondary, 'trigorgonSecondary');\nmapNeumeToSbmufl(\n  GorgonNeume.GorgonDottedLeftSecondary,\n  'gorgonDottedLeftSecondary',\n);\nmapNeumeToSbmufl(\n  GorgonNeume.GorgonDottedRightSecondary,\n  'gorgonDottedRightSecondary',\n);\nmapNeumeToSbmufl(\n  GorgonNeume.DigorgonDottedLeft1Secondary,\n  'digorgonDottedLeftBelowSecondary',\n);\nmapNeumeToSbmufl(\n  GorgonNeume.DigorgonDottedRightSecondary,\n  'digorgonDottedRightSecondary',\n);\nmapNeumeToSbmufl(\n  GorgonNeume.TrigorgonDottedLeft1Secondary,\n  'trigorgonDottedLeftBelowSecondary',\n);\nmapNeumeToSbmufl(\n  GorgonNeume.TrigorgonDottedRightSecondary,\n  'trigorgonDottedRightSecondary',\n);\nmapNeumeToSbmufl(TimeNeume.Klasma_Top, 'klasmaAbove');\nmapNeumeToSbmufl(TimeNeume.Klasma_Bottom, 'klasmaBelow');\nmapNeumeToSbmufl(TimeNeume.Hapli, 'apli');\nmapNeumeToSbmufl(TimeNeume.Dipli, 'dipli');\nmapNeumeToSbmufl(TimeNeume.Tripli, 'tripli');\n\nmapNeumeToSbmufl(Fthora.DiatonicNiLow_Top, 'fthoraDiatonicNiLowAbove'),\n  mapNeumeToSbmufl(Fthora.DiatonicPa_Top, 'fthoraDiatonicPaAbove');\nmapNeumeToSbmufl(Fthora.DiatonicVou_Top, 'fthoraDiatonicVouAbove');\nmapNeumeToSbmufl(Fthora.DiatonicGa_Top, 'fthoraDiatonicGaAbove');\nmapNeumeToSbmufl(Fthora.DiatonicThi_Top, 'fthoraDiatonicDiAbove');\nmapNeumeToSbmufl(Fthora.DiatonicKe_Top, 'fthoraDiatonicKeAbove');\nmapNeumeToSbmufl(Fthora.DiatonicZo_Top, 'fthoraDiatonicZoAbove');\nmapNeumeToSbmufl(Fthora.DiatonicNiHigh_Top, 'fthoraDiatonicNiHighAbove');\nmapNeumeToSbmufl(Fthora.HardChromaticPa_Top, 'fthoraHardChromaticPaAbove');\nmapNeumeToSbmufl(Fthora.HardChromaticThi_Top, 'fthoraHardChromaticDiAbove');\nmapNeumeToSbmufl(Fthora.SoftChromaticThi_Top, 'fthoraSoftChromaticDiAbove');\nmapNeumeToSbmufl(Fthora.SoftChromaticPa_Top, 'fthoraSoftChromaticKeAbove');\nmapNeumeToSbmufl(Fthora.Enharmonic_Top, 'fthoraEnharmonicAbove');\nmapNeumeToSbmufl(Fthora.Zygos_Top, 'chroaZygosAbove');\nmapNeumeToSbmufl(Fthora.Kliton_Top, 'chroaKlitonAbove');\nmapNeumeToSbmufl(Fthora.Spathi_Top, 'chroaSpathiAbove');\nmapNeumeToSbmufl(Fthora.GeneralSharp_Top, 'diesisGenikiAbove');\nmapNeumeToSbmufl(Fthora.GeneralFlat_Top, 'yfesisGenikiAbove');\nmapNeumeToSbmufl(Fthora.DiatonicNiLow_Bottom, 'fthoraDiatonicNiLowBelow');\nmapNeumeToSbmufl(Fthora.DiatonicPa_Bottom, 'fthoraDiatonicPaBelow');\nmapNeumeToSbmufl(Fthora.DiatonicThi_Bottom, 'fthoraDiatonicDiBelow');\nmapNeumeToSbmufl(Fthora.DiatonicKe_Bottom, 'fthoraDiatonicKeBelow');\nmapNeumeToSbmufl(Fthora.DiatonicNiHigh_Bottom, 'fthoraDiatonicNiHighBelow');\nmapNeumeToSbmufl(Fthora.HardChromaticPa_Bottom, 'fthoraHardChromaticPaBelow');\nmapNeumeToSbmufl(Fthora.HardChromaticThi_Bottom, 'fthoraHardChromaticDiBelow');\nmapNeumeToSbmufl(Fthora.SoftChromaticThi_Bottom, 'fthoraSoftChromaticDiBelow');\nmapNeumeToSbmufl(Fthora.SoftChromaticPa_Bottom, 'fthoraSoftChromaticKeBelow');\nmapNeumeToSbmufl(Fthora.Enharmonic_Bottom, 'fthoraEnharmonicBelow');\nmapNeumeToSbmufl(Fthora.Zygos_Bottom, 'chroaZygosBelow');\nmapNeumeToSbmufl(Fthora.Kliton_Bottom, 'chroaKlitonBelow');\nmapNeumeToSbmufl(Fthora.GeneralSharp_Bottom, 'diesisGenikiBelow');\nmapNeumeToSbmufl(Fthora.GeneralFlat_Bottom, 'yfesisGenikiBelow');\nmapNeumeToSbmufl(Accidental.Sharp_2_Left, 'diesis2');\nmapNeumeToSbmufl(Accidental.Sharp_4_Left, 'diesis4');\nmapNeumeToSbmufl(Accidental.Sharp_6_Left, 'diesis6');\nmapNeumeToSbmufl(Accidental.Flat_2_Right, 'yfesis2');\nmapNeumeToSbmufl(Accidental.Flat_4_Right, 'yfesis4');\nmapNeumeToSbmufl(Accidental.Flat_6_Right, 'yfesis6');\nmapNeumeToSbmufl(TempoSign.VerySlow, 'agogiPoliArgi');\nmapNeumeToSbmufl(TempoSign.Slower, 'agogiArgoteri');\nmapNeumeToSbmufl(TempoSign.Slow, 'agogiArgi');\nmapNeumeToSbmufl(TempoSign.Moderate, 'agogiMetria');\nmapNeumeToSbmufl(TempoSign.Medium, 'agogiMesi');\nmapNeumeToSbmufl(TempoSign.Quick, 'agogiGorgi');\nmapNeumeToSbmufl(TempoSign.Quicker, 'agogiGorgoteri');\nmapNeumeToSbmufl(TempoSign.VeryQuick, 'agogiPoliGorgi');\nmapNeumeToSbmufl(VocalExpressionNeume.Vareia, 'vareia');\nmapNeumeToSbmufl(VocalExpressionNeume.HomalonConnecting, 'omalonConnecting');\nmapNeumeToSbmufl(VocalExpressionNeume.Homalon, 'omalon');\nmapNeumeToSbmufl(VocalExpressionNeume.Antikenoma, 'antikenoma');\nmapNeumeToSbmufl(VocalExpressionNeume.Psifiston, 'psifiston');\nmapNeumeToSbmufl(VocalExpressionNeume.Heteron, 'heteron');\nmapNeumeToSbmufl(VocalExpressionNeume.HeteronConnecting, 'heteronConnecting');\nmapNeumeToSbmufl(RootSign.Delta, 'martyriaDeltaBelow');\nmapNeumeToSbmufl(RootSign.Alpha, 'martyriaAlphaBelow');\nmapNeumeToSbmufl(RootSign.Legetos, 'martyriaLegetosBelow');\nmapNeumeToSbmufl(RootSign.Nana, 'martyriaNanaBelow');\nmapNeumeToSbmufl(RootSign.Zo, 'martyriaZoBelow');\nmapNeumeToSbmufl(RootSign.Squiggle, 'martyriaHardChromaticPaBelow');\nmapNeumeToSbmufl(RootSign.SquiggleLow, 'martyriaHardChromaticPaAbove');\nmapNeumeToSbmufl(RootSign.Tilt, 'martyriaHardChromaticDiBelow');\nmapNeumeToSbmufl(RootSign.TiltLow, 'martyriaHardChromaticDiAbove');\nmapNeumeToSbmufl(\n  RootSign.SoftChromaticSquiggle,\n  'martyriaSoftChromaticDiBelow',\n);\nmapNeumeToSbmufl(\n  RootSign.SoftChromaticSquiggleLow,\n  'martyriaSoftChromaticDiAbove',\n);\nmapNeumeToSbmufl(RootSign.Zygos, 'martyriaZygosBelow');\nmapNeumeToSbmufl(RootSign.DeltaDotted, 'martyriaDeltaDottedBelow');\nmapNeumeToSbmufl(RootSign.AlphaDotted, 'martyriaAlphaDottedBelow');\nmapNeumeToSbmufl(\n  RootSign.SoftChromaticPaRootSign,\n  'martyriaSoftChromaticKeBelow',\n);\nmapNeumeToSbmufl(\n  RootSign.SoftChromaticPaRootSignLow,\n  'martyriaSoftChromaticKeAbove',\n);\nmapNeumeToSbmufl(RootSign.AlphaLow, 'martyriaAlphaAbove');\nmapNeumeToSbmufl(RootSign.DeltaLow, 'martyriaDeltaAbove');\nmapNeumeToSbmufl(RootSign.NanaLow, 'martyriaNanaAbove');\nmapNeumeToSbmufl(RootSign.LegetosLow, 'martyriaLegetosAbove');\nmapNeumeToSbmufl(Note.VouLow, 'martyriaNoteVouLow');\nmapNeumeToSbmufl(Note.GaLow, 'martyriaNoteGaLow');\nmapNeumeToSbmufl(Note.ThiLow, 'martyriaNoteDiLow');\nmapNeumeToSbmufl(Note.KeLow, 'martyriaNoteKeLow');\nmapNeumeToSbmufl(Note.Zo, 'martyriaNoteZo');\nmapNeumeToSbmufl(Note.Ni, 'martyriaNoteNi');\nmapNeumeToSbmufl(Note.Pa, 'martyriaNotePa');\nmapNeumeToSbmufl(Note.Vou, 'martyriaNoteVou');\nmapNeumeToSbmufl(Note.Ga, 'martyriaNoteGa');\nmapNeumeToSbmufl(Note.Thi, 'martyriaNoteDi');\nmapNeumeToSbmufl(Note.Ke, 'martyriaNoteKe');\nmapNeumeToSbmufl(Note.ZoHigh, 'martyriaNoteZoHigh');\nmapNeumeToSbmufl(Note.NiHigh, 'martyriaNoteNiHigh');\nmapNeumeToSbmufl(Note.PaHigh, 'martyriaNotePaHigh');\nmapNeumeToSbmufl(Note.VouHigh, 'martyriaNoteVouHigh');\nmapNeumeToSbmufl(Note.GaHigh, 'martyriaNoteGaHigh');\nmapNeumeToSbmufl(Note.ThiHigh, 'martyriaNoteDiHigh');\nmapNeumeToSbmufl(Note.KeHigh, 'martyriaNoteKeHigh');\nmapNeumeToSbmufl(ModeSign.Ekhos, 'modeWordEchos');\nmapNeumeToSbmufl(ModeSign.Plagal, 'modePlagal');\nmapNeumeToSbmufl(ModeSign.First, 'modeAlpha');\nmapNeumeToSbmufl(ModeSign.Second, 'modeBeta');\nmapNeumeToSbmufl(ModeSign.Third, 'modeGamma');\nmapNeumeToSbmufl(ModeSign.Fourth, 'modeDelta');\nmapNeumeToSbmufl(ModeSign.FirstCapital, 'modeAlphaCapital');\nmapNeumeToSbmufl(ModeSign.SecondCapital, 'modeBetaCapital');\nmapNeumeToSbmufl(ModeSign.ThirdCapital, 'modeGammaCapital');\nmapNeumeToSbmufl(ModeSign.FourthCapital, 'modeDeltaCapital');\nmapNeumeToSbmufl(ModeSign.Varys, 'modeWordVarys');\nmapNeumeToSbmufl(ModeSign.Alpha, 'modePlagalFirst');\nmapNeumeToSbmufl(ModeSign.AlphaWithDeltaHat, 'modeFirst', 1);\nmapNeumeToSbmufl(ModeSign.AlphaWithHypsili, 'modeFirst');\nmapNeumeToSbmufl(ModeSign.SoftChromatic6, 'modePlagalSecond');\nmapNeumeToSbmufl(ModeSign.SoftChromatic2, 'modeSecond');\nmapNeumeToSbmufl(ModeSign.Nana, 'modeThirdNana');\nmapNeumeToSbmufl(ModeSign.VarysZo, 'modeVarys');\nmapNeumeToSbmufl(ModeSign.Delta, 'modePlagalFourth');\nmapNeumeToSbmufl(ModeSign.DeltaWithDeltaHat, 'modeFourth', 1);\nmapNeumeToSbmufl(ModeSign.DeltaWithHypsili, 'modeFourth');\nmapNeumeToSbmufl(ModeSign.NanaOld, 'modeThird');\nmapNeumeToSbmufl(ModeSign.Legetos, 'modeLegetos');\nmapNeumeToSbmufl(ModeSign.ElaphronPlusApostrophos, 'modeRunningElafron');\nmapNeumeToSbmufl(ModeSign.Elaphron, 'modeElafron');\nmapNeumeToSbmufl(ModeSign.OligonPlusKentima, 'modeOligonKentimaAbove');\nmapNeumeToSbmufl(ModeSign.OligonPlusHypsili, 'modeOligonYpsili');\nmapNeumeToSbmufl(ModeSign.Ni, 'modeNi');\nmapNeumeToSbmufl(ModeSign.Pa, 'modePa');\nmapNeumeToSbmufl(ModeSign.Vou, 'modeVou');\nmapNeumeToSbmufl(ModeSign.Ga, 'modeGa');\nmapNeumeToSbmufl(ModeSign.Thi, 'modeDi');\nmapNeumeToSbmufl(ModeSign.Ke, 'modeKe');\nmapNeumeToSbmufl(ModeSign.Zo, 'modeZo');\nmapNeumeToSbmufl(MeasureBar.MeasureBarRight, 'barlineSingle');\nmapNeumeToSbmufl(MeasureBar.MeasureBarTop, 'barlineShortSingle');\nmapNeumeToSbmufl(MeasureNumber.Two, 'measureNumber2');\nmapNeumeToSbmufl(MeasureNumber.Three, 'measureNumber3');\nmapNeumeToSbmufl(MeasureNumber.Four, 'measureNumber4');\nmapNeumeToSbmufl(MeasureNumber.Five, 'measureNumber5');\nmapNeumeToSbmufl(MeasureNumber.Six, 'measureNumber6');\nmapNeumeToSbmufl(MeasureNumber.Seven, 'measureNumber7');\nmapNeumeToSbmufl(MeasureNumber.Eight, 'measureNumber8');\nmapNeumeToSbmufl(NoteIndicator.Ni, 'noteIndicatorNi');\nmapNeumeToSbmufl(NoteIndicator.Pa, 'noteIndicatorPa');\nmapNeumeToSbmufl(NoteIndicator.Vou, 'noteIndicatorVou');\nmapNeumeToSbmufl(NoteIndicator.Ga, 'noteIndicatorGa');\nmapNeumeToSbmufl(NoteIndicator.Thi, 'noteIndicatorDi');\nmapNeumeToSbmufl(NoteIndicator.Ke, 'noteIndicatorKe');\nmapNeumeToSbmufl(NoteIndicator.Zo, 'noteIndicatorZo');\nmapNeumeToSbmufl(Ison.Unison, 'isonIndicatorUnison');\nmapNeumeToSbmufl(Ison.ThiLow, 'isonIndicatorDiLow');\nmapNeumeToSbmufl(Ison.KeLow, 'isonIndicatorKeLow');\nmapNeumeToSbmufl(Ison.Zo, 'isonIndicatorZo');\nmapNeumeToSbmufl(Ison.Ni, 'isonIndicatorNi');\nmapNeumeToSbmufl(Ison.Pa, 'isonIndicatorPa');\nmapNeumeToSbmufl(Ison.Vou, 'isonIndicatorVou');\nmapNeumeToSbmufl(Ison.Ga, 'isonIndicatorGa');\nmapNeumeToSbmufl(Ison.Thi, 'isonIndicatorDi');\nmapNeumeToSbmufl(Ison.Ke, 'isonIndicatorKe');\nmapNeumeToSbmufl(Ison.ZoHigh, 'isonIndicatorZoHigh');\n\nexport class NeumeMappingService {\n  public static getMapping(neume: Neume): NeumeMapping {\n    return neumeToSbmuflGlyphMap.get(neume)!;\n  }\n}\n","import { QuantitativeNeume } from '@/models/Neumes';\n\nconst neumeValueMap = new Map<QuantitativeNeume, number>([\n  [QuantitativeNeume.Ison, 0],\n\n  [QuantitativeNeume.Oligon, 1],\n  [QuantitativeNeume.OligonPlusKentimaBelow, 2],\n  [QuantitativeNeume.OligonPlusKentimaAbove, 3],\n  [QuantitativeNeume.OligonPlusHypsiliRight, 4],\n  [QuantitativeNeume.OligonPlusHypsiliLeft, 5],\n  [QuantitativeNeume.OligonPlusHypsiliPlusKentimaHorizontal, 6],\n  [QuantitativeNeume.OligonPlusHypsiliPlusKentimaVertical, 7],\n  [QuantitativeNeume.OligonPlusDoubleHypsili, 8],\n\n  [QuantitativeNeume.PetastiWithIson, 0],\n  [QuantitativeNeume.Petasti, 1],\n  [QuantitativeNeume.PetastiPlusOligon, 2],\n  [QuantitativeNeume.PetastiPlusKentimaAbove, 3],\n  [QuantitativeNeume.PetastiPlusHypsiliRight, 4],\n  [QuantitativeNeume.PetastiPlusHypsiliLeft, 5],\n  [QuantitativeNeume.PetastiPlusHypsiliPlusKentimaHorizontal, 6],\n  [QuantitativeNeume.PetastiPlusHypsiliPlusKentimaVertical, 7],\n  [QuantitativeNeume.PetastiPlusDoubleHypsili, 8],\n\n  [QuantitativeNeume.Apostrophos, -1],\n  [QuantitativeNeume.Elaphron, -2],\n  [QuantitativeNeume.ElaphronPlusApostrophos, -3],\n  [QuantitativeNeume.Hamili, -4],\n  [QuantitativeNeume.HamiliPlusApostrophos, -5],\n  [QuantitativeNeume.HamiliPlusElaphron, -6],\n  [QuantitativeNeume.HamiliPlusElaphronPlusApostrophos, -7],\n  [QuantitativeNeume.DoubleHamili, -8],\n\n  [QuantitativeNeume.PetastiPlusApostrophos, -1],\n  [QuantitativeNeume.PetastiPlusElaphron, -2],\n  [QuantitativeNeume.PetastiPlusElaphronPlusApostrophos, -3],\n\n  [QuantitativeNeume.OligonPlusKentemata, 2],\n  [QuantitativeNeume.KentemataPlusOligon, 2],\n  [QuantitativeNeume.OligonPlusIsonPlusKentemata, 1],\n  [QuantitativeNeume.OligonPlusApostrophosPlusKentemata, 0],\n  [QuantitativeNeume.OligonPlusHyporoePlusKentemata, -1],\n  [QuantitativeNeume.OligonPlusKentemataPlusHypsiliLeft, 6],\n  [QuantitativeNeume.OligonPlusKentemataPlusHypsiliRight, 5],\n  [QuantitativeNeume.OligonPlusElaphronPlusKentemata, -1],\n  [QuantitativeNeume.OligonPlusRunningElaphronPlusKentemata, -2],\n  [QuantitativeNeume.OligonPlusElaphronPlusApostrophosPlusKentemata, -2],\n  [QuantitativeNeume.OligonPlusHamiliPlusKentemata, -3],\n\n  [QuantitativeNeume.RunningElaphron, -2],\n  [QuantitativeNeume.Hyporoe, -2],\n  [QuantitativeNeume.PetastiPlusRunningElaphron, -2],\n  [QuantitativeNeume.PetastiPlusHyporoe, -2],\n\n  [QuantitativeNeume.OligonPlusIson, 0],\n  [QuantitativeNeume.OligonPlusApostrophos, -1],\n  [QuantitativeNeume.OligonPlusElaphron, -2],\n  [QuantitativeNeume.OligonPlusElaphronPlusApostrophos, -3],\n  [QuantitativeNeume.OligonPlusHamili, -4],\n\n  [QuantitativeNeume.Kentima, 2],\n  [QuantitativeNeume.OligonPlusKentima, 2],\n  [QuantitativeNeume.Kentemata, 1],\n\n  [QuantitativeNeume.DoubleApostrophos, -2],\n  [QuantitativeNeume.IsonPlusApostrophos, -1],\n\n  [QuantitativeNeume.Cross, 0],\n  [QuantitativeNeume.VareiaDotted, 0],\n]);\n\nexport const getNeumeValue = (neume: QuantitativeNeume) =>\n  neumeValueMap.get(neume);\n","import { ElementType, ScoreElement } from '@/models/Element';\n\nexport class Page {\n  public lines: Line[] = [];\n\n  public isVisible: boolean = false;\n\n  // A page is empty if it contains only one line\n  // and the line is empty\n  public get isEmpty() {\n    return this.lines.length === 1 && this.lines[0].isEmpty;\n  }\n}\n\nexport class Line {\n  public elements: ScoreElement[] = [];\n\n  // A line is empty if it contains only the empty element\n  public get isEmpty() {\n    return (\n      this.elements.length === 1 &&\n      this.elements[0].elementType === ElementType.Empty\n    );\n  }\n}\n","import {\n  DropCapElement,\n  ElementType,\n  MartyriaElement,\n  NoteElement,\n  ModeKeyElement,\n  ScoreElement,\n  TextBoxElement,\n  TempoElement,\n  EmptyElement,\n} from '@/models/Element';\nimport { NeumeMappingService } from '@/services/NeumeMappingService';\nimport {\n  Fthora,\n  Neume,\n  Note,\n  QuantitativeNeume,\n  RootSign,\n  VocalExpressionNeume,\n} from '@/models/Neumes';\nimport { getNeumeValue } from '@/models/NeumeValues';\nimport { Line, Page } from '@/models/Page';\nimport { PageSetup } from '@/models/PageSetup';\nimport { getScaleNoteValue, Scale, ScaleNote } from '@/models/Scales';\nimport { TextMeasurementService } from './TextMeasurementService';\nimport { Score } from '@/models/Score';\nimport { Header } from '@/models/Header';\nimport { Footer } from '@/models/Footer';\n\nconst textWidthCache = new Map<string, number>();\nconst neumeWidthCache = new Map<string, number>();\n\nexport class LayoutService {\n  public static processPages(score: Score): Page[] {\n    const pageSetup = score.pageSetup;\n    const elements = score.staff.elements;\n\n    elements.forEach((x, index) => (x.index = index));\n\n    this.calculateMartyrias(elements);\n\n    // Always make sure this is an empty element at the end of the score.\n    // If this case is true, we have a bug, but this will prevent\n    // users corrupting their score.\n    if (elements[elements.length - 1].elementType !== ElementType.Empty) {\n      elements.push(new EmptyElement());\n    }\n\n    const pages: Page[] = [];\n\n    let page: Page = new Page();\n\n    let line: Line = new Line();\n\n    page.lines.push(line);\n    pages.push(page);\n\n    let currentPageHeightPx = 0;\n    let currentLineWidthPx = 0;\n\n    let lastLineHeightPx = 0;\n\n    let lastElementWasLineBreak = false;\n    let lastElementWasPageBreak = false;\n\n    // First, calculate some constants that will\n    // be used later. This is so we don't unnecessarily\n    // calculate them more than once during the loop.\n\n    // TODO unicode - remove this hard-coded font name\n    const neumeHeight = TextMeasurementService.getFontHeight(\n      `${pageSetup.neumeDefaultFontSize}px Neanes`,\n    );\n\n    const lyricsVerticalOffset = neumeHeight + pageSetup.lyricsVerticalOffset;\n\n    const lyricHeight = TextMeasurementService.getFontHeight(\n      `${pageSetup.lyricsDefaultFontSize}px ${pageSetup.lyricsDefaultFontFamily}`,\n    );\n\n    const vareiaMapping = NeumeMappingService.getMapping(\n      VocalExpressionNeume.Vareia,\n    )!;\n    const vareiaWidth = TextMeasurementService.getTextWidth(\n      vareiaMapping.text,\n      `${pageSetup.neumeDefaultFontSize}px ${pageSetup.neumeDefaultFontFamily}`,\n    );\n\n    const elaphronMapping = NeumeMappingService.getMapping(\n      QuantitativeNeume.Elaphron,\n    )!;\n    const elaphronWidth = TextMeasurementService.getTextWidth(\n      elaphronMapping.text,\n      `${pageSetup.neumeDefaultFontSize}px ${pageSetup.neumeDefaultFontFamily}`,\n    );\n\n    const runningElaphronMapping = NeumeMappingService.getMapping(\n      QuantitativeNeume.RunningElaphron,\n    )!;\n    const runningElaphronWidth = TextMeasurementService.getTextWidth(\n      runningElaphronMapping.text,\n      `${pageSetup.neumeDefaultFontSize}px ${pageSetup.neumeDefaultFontFamily}`,\n    );\n\n    // Process Header and Footers\n    // Only a single text box is supported right now\n    this.processHeader(score.headers.default, pageSetup, neumeHeight);\n    this.processHeader(score.headers.odd, pageSetup, neumeHeight);\n    this.processHeader(score.headers.even, pageSetup, neumeHeight);\n    this.processHeader(score.headers.firstPage, pageSetup, neumeHeight);\n\n    this.processFooter(score.footers.default, pageSetup, neumeHeight);\n    this.processFooter(score.footers.odd, pageSetup, neumeHeight);\n    this.processFooter(score.footers.even, pageSetup, neumeHeight);\n    this.processFooter(score.footers.firstPage, pageSetup, neumeHeight);\n\n    for (let element of elements) {\n      let elementWidthPx = 0;\n\n      const currentPageNumber = pages.length;\n\n      const header = score.getHeaderForPage(currentPageNumber);\n      const footer = score.getFooterForPage(currentPageNumber);\n\n      // Currently, headers and footers may only contain a single\n      // text box.\n      const headerHeightPx =\n        header != null ? (header.elements[0] as TextBoxElement).height : 0;\n      const footerHeightPx =\n        footer != null ? (footer.elements[0] as TextBoxElement).height : 0;\n\n      const extraHeaderHeightPx = Math.max(\n        0,\n        headerHeightPx - (pageSetup.topMargin - pageSetup.headerMargin),\n      );\n\n      const extraFooterHeightPx = Math.max(\n        0,\n        footerHeightPx - (pageSetup.bottomMargin - pageSetup.footerMargin),\n      );\n\n      const innerPageHeight =\n        pageSetup.innerPageHeight - extraHeaderHeightPx - extraFooterHeightPx;\n\n      switch (element.elementType) {\n        case ElementType.TextBox:\n          elementWidthPx = LayoutService.processTextBoxElement(\n            element as TextBoxElement,\n            pageSetup,\n            neumeHeight,\n          );\n          break;\n        case ElementType.ModeKey: {\n          elementWidthPx = pageSetup.innerPageWidth;\n          break;\n        }\n        case ElementType.Note: {\n          const noteElement = element as NoteElement;\n\n          noteElement.lyricsVerticalOffset = lyricsVerticalOffset;\n\n          noteElement.neumeWidth = this.getNeumeWidthFromCache(\n            neumeWidthCache,\n            noteElement.quantitativeNeume,\n            pageSetup,\n          );\n\n          if (noteElement.lyrics.length > 0) {\n            noteElement.lyricsWidth = this.getTextWidthFromCache(\n              textWidthCache,\n              noteElement.lyrics,\n              pageSetup,\n            );\n          } else {\n            noteElement.lyricsWidth = 0;\n          }\n\n          noteElement.lyricsHorizontalOffset = null;\n\n          // Handle special case for vareia:\n          // Shift the lyrics to the right so that they\n          // are centered under the main neume\n          if (noteElement.vareia) {\n            noteElement.lyricsHorizontalOffset = vareiaWidth;\n            noteElement.lyricsWidth += vareiaWidth;\n            noteElement.neumeWidth += vareiaWidth;\n          }\n\n          // Handle special case for running elaphron:\n          // Shift the lyrics to the right so that they\n          // are centered under the elaphron\n          if (\n            noteElement.quantitativeNeume === QuantitativeNeume.RunningElaphron\n          ) {\n            // The stand-alone apostrophos is not the same width\n            // as the apostrophros in the running elaphron, but\n            // the elaphrons are the same width in both neumes.\n            const offset = runningElaphronWidth - elaphronWidth;\n            noteElement.lyricsHorizontalOffset = offset;\n            noteElement.lyricsWidth += offset;\n          }\n\n          if (noteElement.measureBar != null) {\n            const measureBarMapping = NeumeMappingService.getMapping(\n              noteElement.measureBar,\n            )!;\n\n            noteElement.neumeWidth += TextMeasurementService.getTextWidth(\n              measureBarMapping.text,\n              `${pageSetup.neumeDefaultFontSize}px ${pageSetup.neumeDefaultFontFamily}`,\n            );\n          }\n\n          elementWidthPx = Math.max(\n            noteElement.neumeWidth,\n            noteElement.lyricsWidth,\n          );\n          break;\n        }\n        case ElementType.Martyria: {\n          const martyriaElement = element as MartyriaElement;\n\n          const mappingNote = !martyriaElement.error\n            ? NeumeMappingService.getMapping(martyriaElement.note)!\n            : NeumeMappingService.getMapping(Note.Pa)!;\n          const mappingRoot = !martyriaElement.error\n            ? NeumeMappingService.getMapping(martyriaElement.rootSign)!\n            : NeumeMappingService.getMapping(RootSign.Alpha)!;\n          const mappingMeasureBar = martyriaElement.measureBar\n            ? NeumeMappingService.getMapping(martyriaElement.measureBar)!\n            : null;\n\n          // Add in padding to give some extra space between\n          // the martyria and the next neume\n          const padding = pageSetup.neumeDefaultFontSize * 0.148;\n\n          elementWidthPx =\n            padding +\n            TextMeasurementService.getTextWidth(\n              mappingNote.text,\n              `${pageSetup.neumeDefaultFontSize}px ${pageSetup.neumeDefaultFontFamily}`,\n            ) +\n            TextMeasurementService.getTextWidth(\n              mappingRoot.text,\n              `${pageSetup.neumeDefaultFontSize}px ${pageSetup.neumeDefaultFontFamily}`,\n            ) +\n            (martyriaElement.measureBar\n              ? TextMeasurementService.getTextWidth(\n                  mappingMeasureBar!.text,\n                  `${pageSetup.neumeDefaultFontSize}px ${pageSetup.neumeDefaultFontFamily}`,\n                )\n              : 0);\n          break;\n        }\n        case ElementType.Tempo: {\n          const tempoElement = element as TempoElement;\n          const temoMapping = NeumeMappingService.getMapping(\n            tempoElement.neume,\n          )!;\n\n          elementWidthPx = TextMeasurementService.getTextWidth(\n            temoMapping.text,\n            `${pageSetup.neumeDefaultFontSize}px ${pageSetup.neumeDefaultFontFamily}`,\n          );\n          break;\n        }\n        case ElementType.DropCap: {\n          const dropCapElement = element as DropCapElement;\n          const dropCapFontFamily =\n            dropCapElement.fontFamily || pageSetup.dropCapDefaultFontFamily;\n          const dropCapFontSize =\n            dropCapElement.fontSize || pageSetup.dropCapDefaultFontSize;\n          elementWidthPx = TextMeasurementService.getTextWidth(\n            dropCapElement.content,\n            `${dropCapFontSize}px ${dropCapFontFamily}`,\n          );\n          break;\n        }\n        case ElementType.Empty: {\n          const emptyElement = element as EmptyElement;\n          elementWidthPx = 39;\n          emptyElement.height = neumeHeight;\n          break;\n        }\n        default:\n          console.warn(\n            `Unhandled element type in layout service: ${element.elementType}`,\n          );\n      }\n\n      // Check if we need a new line\n      if (\n        currentLineWidthPx + elementWidthPx > pageSetup.innerPageWidth ||\n        lastElementWasLineBreak\n      ) {\n        line = new Line();\n\n        page.lines.push(line);\n\n        // Calculate the current page height\n        currentPageHeightPx = 0;\n\n        for (let line of page.lines) {\n          let height = 0;\n\n          if (\n            line.elements.some(\n              (x) =>\n                x.elementType === ElementType.TextBox &&\n                !(x as TextBoxElement).inline,\n            )\n          ) {\n            const textbox = line.elements.find(\n              (x) => x.elementType === ElementType.TextBox,\n            ) as TextBoxElement;\n            height = textbox.height;\n          } else if (\n            line.elements.some((x) => x.elementType === ElementType.ModeKey)\n          ) {\n            const textbox = line.elements.find(\n              (x) => x.elementType === ElementType.ModeKey,\n            ) as ModeKeyElement;\n            height = textbox.height;\n          } else if (\n            line.elements.some((x) =>\n              [\n                ElementType.Martyria,\n                ElementType.Note,\n                ElementType.Tempo,\n                ElementType.DropCap,\n                ElementType.Empty,\n              ].includes(x.elementType),\n            )\n          ) {\n            height = Math.max(\n              lyricsVerticalOffset + lyricHeight,\n              pageSetup.lineHeight,\n            );\n          } else {\n            height = pageSetup.lineHeight;\n          }\n\n          currentPageHeightPx += height;\n\n          if (page.lines.indexOf(line) === page.lines.length - 1) {\n            lastLineHeightPx = height;\n          }\n        }\n\n        currentLineWidthPx = 0;\n      }\n\n      // Check if we need a new page\n      if (currentPageHeightPx > innerPageHeight || lastElementWasPageBreak) {\n        page = new Page();\n\n        line = new Line();\n\n        page.lines.push(line);\n        pages.push(page);\n\n        currentPageHeightPx = 0;\n        currentLineWidthPx = 0;\n        lastLineHeightPx = 0;\n      }\n\n      element.x = pageSetup.leftMargin + currentLineWidthPx;\n      element.y =\n        pageSetup.topMargin +\n        extraHeaderHeightPx +\n        currentPageHeightPx -\n        lastLineHeightPx;\n      element.width = elementWidthPx;\n\n      // Special logic to adjust drop caps.\n      // This aligns the bottom of the drop cap with\n      // the bottom of the lyrics.\n      if (element.elementType === ElementType.DropCap) {\n        const distanceFromTopToBottomOfLyrics =\n          lyricsVerticalOffset + pageSetup.lyricsDefaultFontSize;\n        const dropCapElement = element as DropCapElement;\n        const dropCapFontFamily =\n          dropCapElement.fontFamily || pageSetup.dropCapDefaultFontFamily;\n        const dropCapFontSize =\n          dropCapElement.fontSize || pageSetup.dropCapDefaultFontSize;\n        const dropCapFont = `${dropCapFontSize}px ${dropCapFontFamily}`;\n        const fontHeight = TextMeasurementService.getFontHeight(dropCapFont);\n        const fountBoundingBoxDescent =\n          TextMeasurementService.getFontBoundingBoxDescent(\n            dropCapElement.content,\n            dropCapFont,\n          );\n        const adjustment =\n          fontHeight -\n          distanceFromTopToBottomOfLyrics -\n          fountBoundingBoxDescent;\n\n        element.y -= adjustment;\n      }\n\n      // Special case when lyrics are longer than the neume.\n      // This shifts the note element to the right to account for the\n      // extra length of the lyrics to the left of the neume.\n      // Thus, the lyrics start at the (previous) x position instead of the neume.\n      if (element.elementType === ElementType.Note) {\n        const noteElement = element as NoteElement;\n\n        if (noteElement.lyricsWidth > noteElement.neumeWidth) {\n          const adjustment =\n            (noteElement.lyricsWidth - noteElement.neumeWidth) / 2;\n          element.x += adjustment;\n        }\n      }\n\n      currentLineWidthPx += elementWidthPx;\n\n      // Add extra space between neumes\n      if (\n        [\n          ElementType.Martyria,\n          ElementType.Note,\n          ElementType.Tempo,\n          ElementType.DropCap,\n        ].includes(element.elementType)\n      ) {\n        currentLineWidthPx += pageSetup.neumeDefaultSpacing;\n        element.width += pageSetup.neumeDefaultSpacing;\n      }\n\n      line.elements.push(element);\n\n      lastElementWasLineBreak = element.lineBreak;\n      lastElementWasPageBreak = element.pageBreak;\n\n      // Handle special case for right-aligned martyria\n      if (\n        element.elementType === ElementType.Martyria &&\n        (element as MartyriaElement).alignRight\n      ) {\n        lastElementWasLineBreak = true;\n\n        element.x = pageSetup.pageWidth - pageSetup.rightMargin - element.width;\n      }\n    }\n\n    this.justifyLines(pages, pageSetup);\n\n    this.addMelismas(pages, pageSetup);\n\n    return pages;\n  }\n\n  private static processHeader(\n    header: Header,\n    pageSetup: PageSetup,\n    neumeHeight: number,\n  ) {\n    // Currently headers may only contain a single text box\n    if (header.elements.length > 0) {\n      const element = header.elements[0] as TextBoxElement;\n\n      element.width = this.processTextBoxElement(\n        element,\n        pageSetup,\n        neumeHeight,\n      );\n    }\n  }\n\n  private static processFooter(\n    footer: Footer,\n    pageSetup: PageSetup,\n    neumeHeight: number,\n  ) {\n    // Currently footers may only contain a single text box\n    if (footer.elements.length > 0) {\n      const element = footer.elements[0] as TextBoxElement;\n\n      element.width = this.processTextBoxElement(\n        element,\n        pageSetup,\n        neumeHeight,\n      );\n    }\n  }\n\n  private static processTextBoxElement(\n    textBoxElement: TextBoxElement,\n    pageSetup: PageSetup,\n    neumeHeight: number,\n  ) {\n    let elementWidthPx = 0;\n\n    if (textBoxElement.inline) {\n      elementWidthPx = TextMeasurementService.getTextWidth(\n        textBoxElement.content,\n        `${textBoxElement.fontSize}px ${textBoxElement.fontFamily}`,\n      );\n\n      elementWidthPx = Math.max(elementWidthPx, 10);\n    } else {\n      elementWidthPx = pageSetup.innerPageWidth;\n    }\n\n    const fontHeight = TextMeasurementService.getFontHeight(\n      `${textBoxElement.fontSize}px ${textBoxElement.fontFamily}`,\n    );\n\n    if (textBoxElement.inline) {\n      textBoxElement.height = neumeHeight;\n    } else {\n      let height = 0;\n\n      // First calculate the lines generated by the user entering\n      // new line characters\n      const lines = textBoxElement.content.split(/(?:\\r\\n|\\r|\\n)/g);\n\n      for (let i = 0; i < lines.length; i++) {\n        // If the last line is blank, don't include the height\n        if (i === lines.length - 1 && lines[i] === '') {\n          continue;\n        }\n\n        // For each line, it's possible that the line may wrap because it's too long.\n        const lineCount = Math.ceil(\n          TextMeasurementService.getTextWidth(\n            lines[i],\n            `${textBoxElement.fontSize}px ${textBoxElement.fontFamily}`,\n          ) / elementWidthPx,\n        );\n\n        // We take the max of the lineCount in case the line contains\n        // nothing (i.e. the user entered empty lines to add space between lines)\n        height += Math.max(lineCount, 1) * fontHeight;\n      }\n\n      // Height should be at least the font height\n      textBoxElement.height = Math.max(height, fontHeight);\n    }\n\n    return elementWidthPx;\n  }\n\n  public static justifyLines(pages: Page[], pageSetup: PageSetup) {\n    for (let page of pages) {\n      for (let line of page.lines) {\n        if (\n          pages.indexOf(page) === pages.length - 1 &&\n          page.lines.indexOf(line) === page.lines.length - 1\n        ) {\n          continue;\n        }\n\n        if (line.elements.some((x) => x.lineBreak == true)) {\n          continue;\n        }\n\n        if (line.elements.some((x) => x.pageBreak == true)) {\n          continue;\n        }\n\n        if (\n          line.elements.some(\n            (x) =>\n              x.elementType === ElementType.Martyria &&\n              (x as MartyriaElement).alignRight == true,\n          )\n        ) {\n          continue;\n        }\n\n        let currentWidthPx = line.elements\n          .map((x) => x.width)\n          .reduce((sum, x) => sum + x, 0);\n\n        let extraSpace = pageSetup.innerPageWidth - currentWidthPx;\n\n        let spaceToAdd = extraSpace / line.elements.length;\n\n        for (let [elementIndex, element] of line.elements.entries()) {\n          element.x += spaceToAdd * (elementIndex + 1);\n        }\n      }\n    }\n  }\n\n  public static addMelismas(pages: Page[], pageSetup: PageSetup) {\n    // First calculate some constants\n    const widthOfUnderscore = TextMeasurementService.getTextWidth(\n      '_',\n      `${pageSetup.lyricsDefaultFontSize}px ${pageSetup.lyricsDefaultFontFamily}`,\n    );\n\n    const widthOfHyphen = TextMeasurementService.getTextWidth(\n      '-',\n      `${pageSetup.lyricsDefaultFontSize}px ${pageSetup.lyricsDefaultFontFamily}`,\n    );\n\n    const widthOfSpace = TextMeasurementService.getTextWidth(\n      ' ',\n      `${pageSetup.lyricsDefaultFontSize}px ${pageSetup.lyricsDefaultFontFamily}`,\n    );\n\n    const elaphronMapping = NeumeMappingService.getMapping(\n      QuantitativeNeume.Elaphron,\n    )!;\n    const elaphronWidth = TextMeasurementService.getTextWidth(\n      elaphronMapping.text,\n      `${pageSetup.neumeDefaultFontSize}px ${pageSetup.neumeDefaultFontFamily}`,\n    );\n\n    const runningElaphronMapping = NeumeMappingService.getMapping(\n      QuantitativeNeume.RunningElaphron,\n    )!;\n    const runningElaphronWidth = TextMeasurementService.getTextWidth(\n      runningElaphronMapping.text,\n      `${pageSetup.neumeDefaultFontSize}px ${pageSetup.neumeDefaultFontFamily}`,\n    );\n\n    for (let page of pages) {\n      for (let line of page.lines) {\n        const noteElements = line.elements.filter(\n          (x) => x.elementType === ElementType.Note,\n        ) as NoteElement[];\n\n        for (let element of noteElements) {\n          const index = line.elements.indexOf(element);\n\n          const isIntermediateMelismaAtStartOfLine =\n            index === 0 && element.isMelisma && !element.isMelismaStart;\n\n          // First, clear melisma fields, since\n          // they may be stale\n          element.melismaText = '';\n          element.melismaWidth = 0;\n          element.isFullMelisma = isIntermediateMelismaAtStartOfLine;\n\n          if (element.isMelismaStart || isIntermediateMelismaAtStartOfLine) {\n            // The final element in the melisma, or the final\n            // element in the line\n            let finalElement: NoteElement | null = null;\n\n            // The next element in the line after the final element,\n            // if there is one.\n            let nextElement: ScoreElement | null = null;\n\n            for (let i = index + 1; i < line.elements.length; i++) {\n              if (\n                line.elements[i].elementType === ElementType.Note &&\n                (line.elements[i] as NoteElement).isMelisma &&\n                !(line.elements[i] as NoteElement).isMelismaStart\n              ) {\n                finalElement = line.elements[i] as NoteElement;\n              } else {\n                nextElement = line.elements[i];\n                break;\n              }\n            }\n\n            let start = 0;\n            let end = 0;\n\n            if (isIntermediateMelismaAtStartOfLine) {\n              // Special case. No lyrics, so start at the\n              // beginning of the neume.\n              start = element.x;\n            } else if (element.lyricsWidth > element.neumeWidth) {\n              start =\n                element.x +\n                element.neumeWidth +\n                (element.lyricsWidth - element.neumeWidth) / 2;\n            } else {\n              start =\n                element.x + element.neumeWidth / 2 + element.lyricsWidth / 2;\n            }\n\n            if (element.isHyphen) {\n              const nextNoteElement = nextElement as NoteElement;\n\n              if (\n                nextElement == null ||\n                nextElement.elementType !== ElementType.Note\n              ) {\n                if (finalElement) {\n                  end = finalElement.x + finalElement.neumeWidth;\n                } else {\n                  end = element.x + element.neumeWidth;\n                }\n              } else if (\n                nextNoteElement.lyricsWidth > nextNoteElement.neumeWidth\n              ) {\n                end =\n                  nextNoteElement.x -\n                  (nextNoteElement.lyricsWidth - nextNoteElement.neumeWidth) /\n                    2;\n              } else {\n                end =\n                  nextNoteElement.x +\n                  nextNoteElement.neumeWidth / 2 -\n                  nextNoteElement.lyricsWidth / 2 +\n                  (nextNoteElement.lyricsHorizontalOffset || 0);\n              }\n\n              element.melismaWidth = Math.max(end - start, 0);\n\n              let numberOfHyphensNeeded = Math.floor(\n                element.melismaWidth / pageSetup.hyphenSpacing,\n              );\n\n              // If this is the last note on the page, always show the hyphen\n              if (numberOfHyphensNeeded == 0 && nextElement == null) {\n                numberOfHyphensNeeded = 1;\n                element.melismaWidth = widthOfHyphen;\n              }\n\n              if (\n                numberOfHyphensNeeded == 0 &&\n                element.melismaWidth >= widthOfHyphen\n              ) {\n                numberOfHyphensNeeded = 1;\n              }\n\n              const numberOfSpacesNeeded = Math.ceil(\n                (element.melismaWidth - numberOfHyphensNeeded * widthOfHyphen) /\n                  widthOfSpace,\n              );\n\n              const numberOfSpacesBetweenHyphens = Math.floor(\n                numberOfSpacesNeeded / (numberOfHyphensNeeded + 1),\n              );\n\n              for (let i = 0; i < numberOfHyphensNeeded + 1; i++) {\n                for (let j = 0; j < numberOfSpacesBetweenHyphens; j++) {\n                  element.melismaText += ' ';\n                }\n\n                if (i < numberOfHyphensNeeded) {\n                  element.melismaText += '-';\n                }\n              }\n            } else {\n              const nextElementIsRunningElaphron =\n                nextElement &&\n                nextElement.elementType === ElementType.Note &&\n                (nextElement as NoteElement).quantitativeNeume ===\n                  QuantitativeNeume.RunningElaphron;\n\n              // Special case for when the next neume is a running elaphron.\n              // The melisma, which by convention must always be a final melisma,\n              // should run all the way to the elaphron, instead of stopping at\n              // the apostrophos. To handle this, set the final element to the\n              // next element (the elaphron), later we will substract out the width\n              // of the initial apostrophos in the running elaphron.\n              if (nextElementIsRunningElaphron) {\n                finalElement = nextElement as NoteElement;\n              }\n\n              if (finalElement == null) {\n                end = element.x + element.neumeWidth;\n              } else if (finalElement.lyricsWidth > finalElement.neumeWidth) {\n                end =\n                  finalElement.x -\n                  (finalElement.lyricsWidth - finalElement.neumeWidth) / 2;\n              } else if (nextElementIsRunningElaphron) {\n                // The stand-alone apostrophos is not the same width\n                // as the apostrophros in the running elaphron, but\n                // the elaphrons are the same width in both neumes.\n                end = finalElement.x + (runningElaphronWidth - elaphronWidth);\n              } else {\n                end = finalElement.x + finalElement.neumeWidth;\n              }\n\n              // Always show at least one underscore to indicate it's a melisma.\n              element.melismaWidth = Math.max(end - start, widthOfUnderscore);\n\n              const numberOfUnderScoresNeeded = Math.ceil(\n                element.melismaWidth / widthOfUnderscore,\n              );\n\n              for (let i = 0; i < numberOfUnderScoresNeeded; i++) {\n                element.melismaText += '_';\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  public static calculateMartyrias(elements: ScoreElement[]) {\n    let currentNote = 0;\n    let currentScale = Scale.Diatonic;\n    let currentShift = 0;\n\n    for (let element of elements) {\n      if (element.elementType === ElementType.Note) {\n        const note = element as NoteElement;\n        currentNote += getNeumeValue(note.quantitativeNeume)!;\n\n        if (note.fthora) {\n          if (this.fthoraIsValid(note.fthora, currentNote)) {\n            currentScale =\n              this.getScaleFromFthora(note.fthora, currentNote) || currentScale;\n            currentShift = this.getShift(\n              currentNote,\n              currentScale,\n              note.fthora,\n            );\n          } else {\n            note.fthora = null;\n          }\n        }\n      } else if (element.elementType === ElementType.ModeKey) {\n        const modeKey = element as ModeKeyElement;\n        currentNote = getScaleNoteValue(modeKey.scaleNote);\n        currentScale = modeKey.scale;\n        if (modeKey.fthoraAboveNote) {\n          currentShift = this.getShift(\n            currentNote,\n            currentScale,\n            modeKey.fthoraAboveNote,\n          );\n        }\n        if (modeKey.fthoraAboveNote2) {\n          currentShift = this.getShift(\n            currentNote,\n            currentScale,\n            modeKey.fthoraAboveNote2,\n          );\n        }\n        if (modeKey.fthoraAboveQuantitativeNeumeRight) {\n          currentShift = this.getShift(\n            currentNote,\n            currentScale,\n            modeKey.fthoraAboveQuantitativeNeumeRight,\n          );\n        }\n      } else if (element.elementType === ElementType.Martyria) {\n        const martyria = element as MartyriaElement;\n\n        if (!martyria.auto) {\n          currentNote = reverseNoteMap.has(martyria.note)\n            ? reverseNoteMap.get(martyria.note)!\n            : currentNote;\n\n          currentScale = martyria.scale;\n\n          currentShift = 0;\n        }\n\n        if (currentNote < -6 || currentNote > 11) {\n          martyria.error = true;\n        } else {\n          martyria.error = false;\n\n          martyria.note = noteMap.get(currentNote) || Note.Pa;\n          martyria.scale = currentScale;\n\n          const currentScaleNote = currentNote + currentShift;\n\n          if (currentScale === Scale.HardChromatic) {\n            martyria.rootSign =\n              currentScaleNote % 2 === 0 ? RootSign.Squiggle : RootSign.Tilt;\n          } else if (currentScale === Scale.SoftChromatic) {\n            martyria.rootSign =\n              currentScaleNote % 2 === 0\n                ? RootSign.SoftChromaticPaRootSign\n                : RootSign.SoftChromaticSquiggle;\n          } else if (currentScale === Scale.Diatonic) {\n            martyria.rootSign =\n              diatonicRootSignMap.get(currentScaleNote) || RootSign.Alpha;\n          } else if (currentScale === Scale.Zygos) {\n            martyria.rootSign =\n              zygosRootSignMap.get(currentScaleNote) || RootSign.Alpha;\n          } else if (currentScale === Scale.Kliton) {\n            martyria.rootSign =\n              klitonRootSignMap.get(currentScaleNote) || RootSign.Alpha;\n          } else if (currentScale === Scale.Spathi) {\n            martyria.rootSign =\n              spathiRootSignMap.get(currentScaleNote) || RootSign.Alpha;\n          } else if (currentScale === Scale.EnharmonicGa) {\n            martyria.rootSign =\n              enharmonicGaRootSignMap.get(currentScaleNote) || RootSign.Alpha;\n          } else if (currentScale === Scale.EnharmonicVou) {\n            martyria.rootSign =\n              enharmonicVouRootSignMap.get(currentScaleNote) || RootSign.Alpha;\n          } else if (currentScale === Scale.EnharmonicVouHigh) {\n            martyria.rootSign =\n              enharmonicVouHighRootSignMap.get(currentScaleNote) ||\n              RootSign.Alpha;\n          } else if (currentScale === Scale.EnharmonicZoHigh) {\n            martyria.rootSign =\n              enharmonicZoRootSignMap.get(currentScaleNote) || RootSign.Alpha;\n          }\n\n          if (currentNote <= reverseNoteMap.get(Note.KeLow)!) {\n            martyria.rootSign =\n              lowRootSignMap.get(martyria.rootSign) || martyria.rootSign;\n          } else if (currentNote > reverseNoteMap.get(Note.KeLow)!) {\n            martyria.rootSign =\n              highRootSignMap.get(martyria.rootSign) || martyria.rootSign;\n          }\n\n          if (martyria.fthora) {\n            if (this.fthoraIsValid(martyria.fthora, currentNote)) {\n              currentScale =\n                this.getScaleFromFthora(martyria.fthora, currentNote) ||\n                currentScale;\n              currentShift = this.getShift(\n                currentNote,\n                currentScale,\n                martyria.fthora,\n              );\n            } else {\n              martyria.fthora = null;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  private static getScaleFromFthora(fthora: Fthora, currentNote: number) {\n    if (fthora.startsWith('Diatonic')) {\n      return Scale.Diatonic;\n    }\n\n    if (fthora.startsWith('HardChromatic')) {\n      return Scale.HardChromatic;\n    }\n\n    if (fthora.startsWith('SoftChromatic')) {\n      return Scale.SoftChromatic;\n    }\n\n    if (fthora.startsWith('Enharmonic')) {\n      if (currentNote === getScaleNoteValue(ScaleNote.Ga)) {\n        return Scale.EnharmonicGa;\n      }\n      if (currentNote === getScaleNoteValue(ScaleNote.ZoHigh)) {\n        return Scale.EnharmonicZoHigh;\n      }\n      if (currentNote === getScaleNoteValue(ScaleNote.Vou)) {\n        return Scale.EnharmonicVou;\n      }\n      if (currentNote === getScaleNoteValue(ScaleNote.VouHigh)) {\n        return Scale.EnharmonicVouHigh;\n      }\n    }\n\n    if (fthora.startsWith('Zygos')) {\n      return Scale.Zygos;\n    }\n\n    if (fthora.startsWith('Spathi')) {\n      return Scale.Spathi;\n    }\n\n    if (fthora.startsWith('Kliton')) {\n      return Scale.Kliton;\n    }\n\n    return null;\n  }\n\n  private static getShift(\n    currentNote: number,\n    currentScale: Scale,\n    fthora: Fthora,\n  ) {\n    let shift = 0;\n\n    if (currentScale === Scale.HardChromatic) {\n      if (currentNote % 2 === 0) {\n        shift = fthora.startsWith('HardChromaticPa') ? 0 : 1;\n      } else {\n        shift = fthora.startsWith('HardChromaticThi') ? 0 : 1;\n      }\n    } else if (currentScale === Scale.SoftChromatic) {\n      if (currentNote % 2 === 0) {\n        shift = fthora.startsWith('SoftChromaticPa') ? 0 : 1;\n      } else {\n        shift = fthora.startsWith('SoftChromaticThi') ? 0 : 1;\n      }\n    } else if (currentScale === Scale.Diatonic) {\n      let fthoraNote = currentNote;\n\n      if (fthora.startsWith('DiatonicNiLow')) {\n        fthoraNote = -1;\n      } else if (fthora.startsWith('DiatonicPa')) {\n        fthoraNote = 0;\n      } else if (fthora.startsWith('DiatonicVou')) {\n        fthoraNote = 1;\n      } else if (fthora.startsWith('DiatonicGa')) {\n        fthoraNote = 2;\n      } else if (fthora.startsWith('DiatonicThi')) {\n        fthoraNote = 3;\n      } else if (fthora.startsWith('DiatonicKe')) {\n        fthoraNote = 4;\n      } else if (fthora.startsWith('DiatonicZo')) {\n        fthoraNote = 5;\n      } else if (fthora.startsWith('DiatonicNiHigh')) {\n        fthoraNote = 6;\n      }\n\n      shift = fthoraNote - currentNote;\n    }\n\n    return shift;\n  }\n\n  private static fthoraIsValid(fthora: Fthora, currentNote: number) {\n    // Make sure chroa are on the correct notes\n    if (\n      fthora.startsWith('Zygos') &&\n      currentNote !== getScaleNoteValue(ScaleNote.Thi)\n    ) {\n      return false;\n    }\n\n    if (\n      fthora.startsWith('Kliton') &&\n      currentNote !== getScaleNoteValue(ScaleNote.Thi)\n    ) {\n      return false;\n    }\n\n    if (\n      fthora.startsWith('Spathi') &&\n      currentNote !== getScaleNoteValue(ScaleNote.Ke)\n    ) {\n      return false;\n    }\n\n    if (\n      fthora.startsWith('Enharmonic') &&\n      currentNote !== getScaleNoteValue(ScaleNote.Ga) &&\n      currentNote !== getScaleNoteValue(ScaleNote.ZoHigh) &&\n      currentNote !== getScaleNoteValue(ScaleNote.Vou) &&\n      currentNote !== getScaleNoteValue(ScaleNote.VouHigh)\n    ) {\n      return false;\n    }\n\n    if (\n      fthora.startsWith('GeneralSharp') &&\n      currentNote !== getScaleNoteValue(ScaleNote.Ga)\n    ) {\n      return false;\n    }\n\n    if (\n      fthora.startsWith('GeneralFlat') &&\n      currentNote !== getScaleNoteValue(ScaleNote.Ke)\n    ) {\n      return false;\n    }\n\n    return true;\n  }\n\n  private static getNeumeWidthFromCache(\n    cache: Map<string, number>,\n    neume: Neume,\n    pageSetup: PageSetup,\n  ) {\n    const key = `${neume} | ${pageSetup.neumeDefaultFontSize} | ${pageSetup.neumeDefaultFontFamily}`;\n\n    let width = cache.get(key);\n\n    if (width == null) {\n      const neumeMapping = NeumeMappingService.getMapping(neume)!;\n\n      width = TextMeasurementService.getTextWidth(\n        neumeMapping.text,\n        `${pageSetup.neumeDefaultFontSize}px ${pageSetup.neumeDefaultFontFamily}`,\n      );\n\n      cache.set(key, width);\n    }\n\n    return width;\n  }\n\n  private static getTextWidthFromCache(\n    cache: Map<string, number>,\n    text: string,\n    pageSetup: PageSetup,\n  ) {\n    const key = `${text} | ${pageSetup.lyricsDefaultFontSize} | ${pageSetup.lyricsDefaultFontFamily}`;\n\n    let width = cache.get(key);\n\n    if (width == null) {\n      width = TextMeasurementService.getTextWidth(\n        text,\n        `${pageSetup.lyricsDefaultFontSize}px ${pageSetup.lyricsDefaultFontFamily}`,\n      );\n\n      cache.set(key, width);\n    }\n\n    return width;\n  }\n}\n\nconst noteMap = new Map<number, Note>([\n  [-6, Note.VouLow],\n  [-5, Note.GaLow],\n  [-4, Note.ThiLow],\n  [-3, Note.KeLow],\n  [-2, Note.Zo],\n  [-1, Note.Ni],\n  [0, Note.Pa],\n  [1, Note.Vou],\n  [2, Note.Ga],\n  [3, Note.Thi],\n  [4, Note.Ke],\n  [5, Note.ZoHigh],\n  [6, Note.NiHigh],\n  [7, Note.PaHigh],\n  [8, Note.VouHigh],\n  [9, Note.GaHigh],\n  [10, Note.ThiHigh],\n  [11, Note.KeHigh],\n]);\n\nconst reverseNoteMap = new Map<Note, number>();\n\nfor (let [key, value] of noteMap) {\n  reverseNoteMap.set(value, key);\n}\n\nconst diatonicRootSignMap = new Map<number, RootSign>([\n  [-9, RootSign.NanaLow],\n  [-8, RootSign.DeltaLow],\n  [-7, RootSign.AlphaLow],\n  [-6, RootSign.LegetosLow],\n  [-5, RootSign.NanaLow],\n  [-4, RootSign.DeltaLow],\n  [-3, RootSign.AlphaLow],\n  [-2, RootSign.Zo],\n  [-1, RootSign.Delta],\n  [0, RootSign.Alpha],\n  [1, RootSign.Legetos],\n  [2, RootSign.Nana],\n  [3, RootSign.DeltaDotted],\n  [4, RootSign.AlphaDotted],\n  [5, RootSign.Legetos],\n  [6, RootSign.Nana],\n  [7, RootSign.Alpha],\n  [8, RootSign.Legetos],\n  [9, RootSign.Nana],\n  [10, RootSign.DeltaDotted],\n  [11, RootSign.AlphaDotted],\n]);\n\nconst zygosRootSignMap = new Map<number, RootSign>(diatonicRootSignMap);\nzygosRootSignMap.set(0, RootSign.Squiggle);\nzygosRootSignMap.set(1, RootSign.Zygos);\nzygosRootSignMap.set(2, RootSign.Squiggle);\nzygosRootSignMap.set(3, RootSign.Zygos);\n\nconst klitonRootSignMap = new Map<number, RootSign>(diatonicRootSignMap);\nklitonRootSignMap.set(0, RootSign.Delta);\nklitonRootSignMap.set(1, RootSign.Alpha);\nklitonRootSignMap.set(2, RootSign.Legetos);\nklitonRootSignMap.set(3, RootSign.Nana);\n\nconst spathiRootSignMap = new Map<number, RootSign>(diatonicRootSignMap);\nspathiRootSignMap.set(3, RootSign.Squiggle);\nspathiRootSignMap.set(5, RootSign.Nana);\nspathiRootSignMap.set(6, RootSign.DeltaDotted);\n\nconst enharmonicGaRootSignMap = new Map<number, RootSign>(diatonicRootSignMap);\nenharmonicGaRootSignMap.set(-1, RootSign.Nana);\nenharmonicGaRootSignMap.set(0, RootSign.Delta);\nenharmonicGaRootSignMap.set(1, RootSign.Alpha);\n\nconst enharmonicZoRootSignMap = new Map<number, RootSign>(diatonicRootSignMap);\nenharmonicZoRootSignMap.set(5, RootSign.Nana);\n\nconst enharmonicVouRootSignMap = new Map<number, RootSign>(diatonicRootSignMap);\nenharmonicVouRootSignMap.set(1, RootSign.Nana);\n\nconst enharmonicVouHighRootSignMap = new Map<number, RootSign>(\n  diatonicRootSignMap,\n);\nenharmonicVouHighRootSignMap.set(6, RootSign.DeltaDotted);\nenharmonicVouHighRootSignMap.set(7, RootSign.Alpha);\nenharmonicVouHighRootSignMap.set(8, RootSign.Nana);\n\nconst lowRootSignMap = new Map<RootSign, RootSign>([\n  [RootSign.Legetos, RootSign.LegetosLow],\n  [RootSign.Nana, RootSign.NanaLow],\n  [RootSign.Delta, RootSign.DeltaLow],\n  [RootSign.Alpha, RootSign.AlphaLow],\n  [RootSign.SoftChromaticPaRootSign, RootSign.SoftChromaticPaRootSignLow],\n  [RootSign.SoftChromaticSquiggle, RootSign.SoftChromaticSquiggleLow],\n  [RootSign.Tilt, RootSign.TiltLow],\n  [RootSign.Squiggle, RootSign.SquiggleLow],\n]);\n\nconst highRootSignMap = new Map<RootSign, RootSign>();\n\nfor (let [key, value] of lowRootSignMap) {\n  highRootSignMap.set(value, key);\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"neume\",style:(_vm.style)},[(_vm.note.vareia)?_c('Neume',{attrs:{\"neume\":_vm.VocalExpressionNeume.Vareia}}):_vm._e(),_c('Neume',{attrs:{\"neume\":_vm.note.quantitativeNeume}}),(_vm.hasVocalExpressionNeume)?_c('Neume',{style:(_vm.vocalExpressionStyle),attrs:{\"neume\":_vm.note.vocalExpressionNeume}}):_vm._e(),(_vm.hasTimeNeume)?_c('Neume',{attrs:{\"neume\":_vm.note.timeNeume}}):_vm._e(),(_vm.hasGorgonNeume)?_c('Neume',{style:(_vm.gorgonStyle),attrs:{\"neume\":_vm.note.gorgonNeume}}):_vm._e(),(_vm.hasSecondaryGorgonNeume)?_c('Neume',{style:(_vm.gorgonStyle),attrs:{\"neume\":_vm.note.secondaryGorgonNeume}}):_vm._e(),(_vm.hasFthora)?_c('Neume',{style:(_vm.fthoraStyle),attrs:{\"neume\":_vm.note.fthora}}):_vm._e(),(_vm.hasAccidental)?_c('Neume',{style:(_vm.accidentalStyle),attrs:{\"neume\":_vm.note.accidental}}):_vm._e(),(_vm.hasNoteIndicator)?_c('Neume',{style:(_vm.noteIndicatorStyle),attrs:{\"neume\":_vm.note.noteIndicator}}):_vm._e(),(_vm.hasIson)?_c('Neume',{style:(_vm.isonStyle),attrs:{\"neume\":_vm.note.ison}}):_vm._e(),(_vm.hasMeasureNumber)?_c('Neume',{style:(_vm.measureNumberStyle),attrs:{\"neume\":_vm.note.measureNumber}}):_vm._e(),(_vm.hasMeasureBar)?_c('Neume',{style:(_vm.measureBarStyle),attrs:{\"neume\":_vm.note.measureBar}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"neume\",style:(_vm.style)},[_vm._v(_vm._s(_vm.text))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const withZoom = (x: number, unit: string = 'px') =>\n  `calc(${x}${unit} * var(--zoom, 1))`;\n","\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { Neume as NeumeType } from '@/models/Neumes';\nimport { NeumeMappingService } from '@/services/NeumeMappingService';\nimport { ScoreElementOffset } from '@/models/Element';\nimport { withZoom } from '@/utils/withZoom';\n\n@Component\nexport default class Neume extends Vue {\n  @Prop() neume!: NeumeType;\n  @Prop() offset!: ScoreElementOffset;\n  @Prop() fontFamily!: string;\n\n  get mapping() {\n    let mapping = NeumeMappingService.getMapping(this.neume);\n\n    if (!mapping) {\n      console.warn('Could not find mapping for neume ' + this.neume);\n      mapping = {\n        text: '?',\n        glyphName: 'ison',\n      };\n    }\n\n    return mapping!;\n  }\n\n  get text() {\n    return this.mapping.text;\n  }\n\n  get style() {\n    const style = {} as CSSStyleDeclaration;\n\n    if (this.fontFamily != null) {\n      style.fontFamily = this.fontFamily;\n    }\n\n    if (this.mapping.salt != null) {\n      style.fontFeatureSettings = `\"salt\" ${this.mapping.salt}`;\n    }\n\n    if (this.offset) {\n      style.left = withZoom(this.offset.x);\n      style.top = withZoom(this.offset.y);\n    }\n\n    return style;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Neume.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Neume.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Neume.vue?vue&type=template&id=193b0df2&scoped=true&\"\nimport script from \"./Neume.vue?vue&type=script&lang=ts&\"\nexport * from \"./Neume.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Neume.vue?vue&type=style&index=0&id=193b0df2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"193b0df2\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { NoteElement } from '@/models/Element';\nimport { VocalExpressionNeume } from '@/models/Neumes';\nimport Neume from '@/components/Neume.vue';\nimport { withZoom } from '@/utils/withZoom';\nimport { PageSetup } from '@/models/PageSetup';\n\n@Component({\n  components: {\n    Neume,\n  },\n})\nexport default class NeumeBoxSyllable extends Vue {\n  @Prop() note!: NoteElement;\n  @Prop() pageSetup!: PageSetup;\n\n  VocalExpressionNeume = VocalExpressionNeume;\n\n  get hasVocalExpressionNeume() {\n    return this.note.vocalExpressionNeume != null;\n  }\n\n  get hasTimeNeume() {\n    return this.note.timeNeume != null;\n  }\n\n  get hasGorgonNeume() {\n    return this.note.gorgonNeume != null;\n  }\n\n  get hasSecondaryGorgonNeume() {\n    return this.note.secondaryGorgonNeume != null;\n  }\n\n  get hasFthora() {\n    return this.note.fthora != null;\n  }\n\n  get hasAccidental() {\n    return this.note.accidental != null;\n  }\n\n  get hasMeasureBar() {\n    return this.note.measureBar != null;\n  }\n\n  get hasMeasureNumber() {\n    return this.note.measureNumber != null;\n  }\n\n  get hasNoteIndicator() {\n    return this.note.noteIndicator != null;\n  }\n\n  get hasIson() {\n    return this.note.ison != null;\n  }\n\n  get style() {\n    return {\n      fontFamily: this.pageSetup.neumeDefaultFontFamily,\n      fontSize: withZoom(this.pageSetup.neumeDefaultFontSize),\n      color: this.pageSetup.neumeDefaultColor,\n    } as CSSStyleDeclaration;\n  }\n\n  get gorgonStyle() {\n    return {\n      color: this.pageSetup.gorgonDefaultColor,\n    } as CSSStyleDeclaration;\n  }\n\n  get fthoraStyle() {\n    return {\n      color: this.pageSetup.fthoraDefaultColor,\n    } as CSSStyleDeclaration;\n  }\n\n  get accidentalStyle() {\n    return {\n      color: this.pageSetup.accidentalDefaultColor,\n    } as CSSStyleDeclaration;\n  }\n\n  get measureBarStyle() {\n    return {\n      color: this.pageSetup.measureBarDefaultColor,\n    } as CSSStyleDeclaration;\n  }\n\n  get measureNumberStyle() {\n    return {\n      color: this.pageSetup.measureNumberDefaultColor,\n    } as CSSStyleDeclaration;\n  }\n\n  get noteIndicatorStyle() {\n    return {\n      color: this.pageSetup.noteIndicatorDefaultColor,\n    } as CSSStyleDeclaration;\n  }\n\n  get isonStyle() {\n    return {\n      color: this.pageSetup.isonDefaultColor,\n    } as CSSStyleDeclaration;\n  }\n\n  get vocalExpressionStyle() {\n    if (\n      this.note.vocalExpressionNeume === VocalExpressionNeume.Heteron ||\n      this.note.vocalExpressionNeume === VocalExpressionNeume.HeteronConnecting\n    ) {\n      return {\n        color: this.pageSetup.heteronDefaultColor,\n      } as CSSStyleDeclaration;\n    }\n\n    return null;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeumeBoxSyllable.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeumeBoxSyllable.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NeumeBoxSyllable.vue?vue&type=template&id=6c657652&scoped=true&\"\nimport script from \"./NeumeBoxSyllable.vue?vue&type=script&lang=ts&\"\nexport * from \"./NeumeBoxSyllable.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NeumeBoxSyllable.vue?vue&type=style&index=0&id=6c657652&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c657652\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"neume\",style:(_vm.style)},[(_vm.note.vareia)?[_vm._v(_vm._s(_vm.getMapping(_vm.VocalExpressionNeume.Vareia).text))]:_vm._e(),[_vm._v(_vm._s(_vm.getMapping(_vm.note.quantitativeNeume).text))],(_vm.hasVocalExpressionNeume && !_vm.hasHeteron)?[_vm._v(_vm._s(_vm.getMapping(_vm.note.vocalExpressionNeume).text))]:_vm._e(),(_vm.hasHeteron)?_c('Neume',{style:(_vm.heteronStyle),attrs:{\"neume\":_vm.note.vocalExpressionNeume}}):_vm._e(),(_vm.hasTimeNeume)?_c('Neume',{style:(_vm.timeStyle),attrs:{\"neume\":_vm.note.timeNeume}}):_vm._e(),(_vm.hasGorgonNeume)?_c('Neume',{style:(_vm.gorgonStyle),attrs:{\"neume\":_vm.note.gorgonNeume}}):_vm._e(),(_vm.hasSecondaryGorgonNeume)?_c('Neume',{style:(_vm.secondaryGorgonStyle),attrs:{\"neume\":_vm.note.secondaryGorgonNeume}}):_vm._e(),(_vm.hasFthora)?_c('Neume',{style:(_vm.fthoraStyle),attrs:{\"neume\":_vm.note.fthora}}):_vm._e(),(_vm.hasAccidental)?_c('Neume',{style:(_vm.accidentalStyle),attrs:{\"neume\":_vm.note.accidental}}):_vm._e(),(_vm.hasNoteIndicator)?_c('Neume',{style:(_vm.noteIndicatorStyle),attrs:{\"neume\":_vm.note.noteIndicator}}):_vm._e(),(_vm.hasIson)?_c('Neume',{style:(_vm.isonStyle),attrs:{\"neume\":_vm.note.ison}}):_vm._e(),(_vm.hasMeasureNumber)?_c('Neume',{style:(_vm.measureNumberStyle),attrs:{\"neume\":_vm.note.measureNumber}}):_vm._e(),(_vm.hasMeasureBar)?_c('Neume',{style:(_vm.measureBarStyle),attrs:{\"neume\":_vm.note.measureBar}}):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import metadata from '@/assets/fonts/neanes.metadata.json';\nimport { SbmuflGlyphName } from '@/services/NeumeMappingService';\n\nclass FontService {\n  getAdvanceWidth(glyph: SbmuflGlyphName) {\n    return metadata.glyphAdvanceWidths[glyph];\n  }\n\n  getMarkOffset(base: SbmuflGlyphName, mark: SbmuflGlyphName) {\n    const markAnchorName = Object.keys(\n      (metadata.glyphsWithAnchors as any)[mark],\n    )[0];\n\n    const markAnchor = (metadata.glyphsWithAnchors as any)[mark][\n      markAnchorName\n    ] as number[];\n\n    const baseAnchor = (metadata.glyphsWithAnchors as any)[base][\n      markAnchorName\n    ] as number[];\n\n    if (baseAnchor == null) {\n      console.warn(`Missing base anchor for base: ${base} mark: ${mark}`);\n      return { x: 0, y: 0 };\n    }\n\n    return {\n      x: baseAnchor[0] - markAnchor[0],\n      y: -(baseAnchor[1] - markAnchor[1]),\n    };\n  }\n}\n\nconst fontService = new FontService();\n\nexport { fontService };\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { NoteElement } from '@/models/Element';\nimport { VocalExpressionNeume, Neume as GenericNeume } from '@/models/Neumes';\nimport Neume from '@/components/Neume.vue';\nimport { withZoom } from '@/utils/withZoom';\nimport { PageSetup } from '@/models/PageSetup';\nimport { NeumeMappingService } from '@/services/NeumeMappingService';\nimport { fontService } from '@/services/FontService';\n\n@Component({\n  components: {\n    Neume,\n  },\n})\nexport default class NeumeBoxSyllablePrint extends Vue {\n  @Prop() note!: NoteElement;\n  @Prop() pageSetup!: PageSetup;\n\n  VocalExpressionNeume = VocalExpressionNeume;\n\n  get hasVocalExpressionNeume() {\n    return this.note.vocalExpressionNeume != null;\n  }\n\n  get hasHeteron() {\n    return (\n      this.note.vocalExpressionNeume == VocalExpressionNeume.Heteron ||\n      this.note.vocalExpressionNeume === VocalExpressionNeume.HeteronConnecting\n    );\n  }\n\n  get hasTimeNeume() {\n    return this.note.timeNeume != null;\n  }\n\n  get hasGorgonNeume() {\n    return this.note.gorgonNeume != null;\n  }\n\n  get hasSecondaryGorgonNeume() {\n    return this.note.secondaryGorgonNeume != null;\n  }\n\n  get hasFthora() {\n    return this.note.fthora != null;\n  }\n\n  get hasAccidental() {\n    return this.note.accidental != null;\n  }\n\n  get hasMeasureBar() {\n    return this.note.measureBar != null;\n  }\n\n  get hasMeasureNumber() {\n    return this.note.measureNumber != null;\n  }\n\n  get hasNoteIndicator() {\n    return this.note.noteIndicator != null;\n  }\n\n  get hasIson() {\n    return this.note.ison != null;\n  }\n\n  get style() {\n    return {\n      fontFamily: this.pageSetup.neumeDefaultFontFamily,\n      fontSize: withZoom(this.pageSetup.neumeDefaultFontSize),\n      color: this.pageSetup.neumeDefaultColor,\n    } as CSSStyleDeclaration;\n  }\n\n  get gorgonStyle() {\n    const offset = this.getOffset(this.note.gorgonNeume!);\n\n    return {\n      position: 'absolute',\n      left: withZoom(offset.x, 'em'),\n      top: withZoom(offset.y, 'em'),\n      color: this.pageSetup.gorgonDefaultColor,\n    } as CSSStyleDeclaration;\n  }\n\n  get secondaryGorgonStyle() {\n    const offset = this.getOffset(this.note.secondaryGorgonNeume!);\n\n    return {\n      position: 'absolute',\n      left: withZoom(offset.x, 'em'),\n      top: withZoom(offset.y, 'em'),\n      color: this.pageSetup.gorgonDefaultColor,\n    } as CSSStyleDeclaration;\n  }\n\n  get timeStyle() {\n    const offset = this.getOffset(this.note.timeNeume!);\n\n    return {\n      position: 'absolute',\n      left: withZoom(offset.x, 'em'),\n      top: withZoom(offset.y, 'em'),\n    } as CSSStyleDeclaration;\n  }\n\n  get fthoraStyle() {\n    const offset = this.getOffset(this.note.fthora!);\n\n    return {\n      position: 'absolute',\n      left: withZoom(offset.x, 'em'),\n      top: withZoom(offset.y, 'em'),\n      color: this.pageSetup.fthoraDefaultColor,\n    } as CSSStyleDeclaration;\n  }\n\n  get accidentalStyle() {\n    const offset = this.getOffset(this.note.accidental!);\n\n    return {\n      position: 'absolute',\n      left: withZoom(offset.x, 'em'),\n      top: withZoom(offset.y, 'em'),\n      color: this.pageSetup.accidentalDefaultColor,\n    } as CSSStyleDeclaration;\n  }\n\n  get measureBarStyle() {\n    return {\n      color: this.pageSetup.measureBarDefaultColor,\n    } as CSSStyleDeclaration;\n  }\n\n  get measureNumberStyle() {\n    const offset = this.getOffset(this.note.measureNumber!);\n\n    return {\n      position: 'absolute',\n      left: withZoom(offset.x, 'em'),\n      top: withZoom(offset.y, 'em'),\n      color: this.pageSetup.measureNumberDefaultColor,\n    } as CSSStyleDeclaration;\n  }\n\n  get noteIndicatorStyle() {\n    const offset = this.getOffset(this.note.noteIndicator!);\n\n    return {\n      position: 'absolute',\n      left: withZoom(offset.x, 'em'),\n      top: withZoom(offset.y, 'em'),\n      color: this.pageSetup.noteIndicatorDefaultColor,\n    } as CSSStyleDeclaration;\n  }\n\n  get isonStyle() {\n    const offset = this.getOffset(this.note.ison!);\n\n    return {\n      position: 'absolute',\n      left: withZoom(offset.x, 'em'),\n      top: withZoom(offset.y, 'em'),\n      color: this.pageSetup.isonDefaultColor,\n    } as CSSStyleDeclaration;\n  }\n\n  get heteronStyle() {\n    const offset = this.getOffset(this.note.vocalExpressionNeume!);\n\n    return {\n      position: 'absolute',\n      left: withZoom(offset.x, 'em'),\n      top: withZoom(offset.y, 'em'),\n      color: this.pageSetup.heteronDefaultColor,\n    } as CSSStyleDeclaration;\n  }\n\n  getMapping(neume: GenericNeume) {\n    return NeumeMappingService.getMapping(neume);\n  }\n\n  getOffset(neume: GenericNeume) {\n    const mark = this.getMapping(neume).glyphName;\n    const base = this.getMapping(this.note.quantitativeNeume).glyphName;\n\n    const offset = fontService.getMarkOffset(base, mark);\n\n    // Shift offset for vareia\n    if (this.note.vareia) {\n      const vareiaGlyphName = this.getMapping(\n        VocalExpressionNeume.Vareia,\n      ).glyphName;\n\n      const vareiaWidth = fontService.getAdvanceWidth(vareiaGlyphName);\n      offset.x += vareiaWidth;\n    }\n\n    return offset;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeumeBoxSyllablePrint.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeumeBoxSyllablePrint.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NeumeBoxSyllablePrint.vue?vue&type=template&id=a50c4a7a&scoped=true&\"\nimport script from \"./NeumeBoxSyllablePrint.vue?vue&type=script&lang=ts&\"\nexport * from \"./NeumeBoxSyllablePrint.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NeumeBoxSyllablePrint.vue?vue&type=style&index=0&id=a50c4a7a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a50c4a7a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"neume\",style:(_vm.style)},[(_vm.neume.error)?[_vm._v(\" ? \")]:[_c('Neume',{attrs:{\"neume\":_vm.neume.note}}),_c('Neume',{attrs:{\"neume\":_vm.neume.rootSign}}),(_vm.hasFthora)?_c('Neume',{style:(_vm.fthoraStyle),attrs:{\"neume\":_vm.neume.fthora}}):_vm._e(),(_vm.hasMeasureBar)?_c('Neume',{style:(_vm.measureBarStyle),attrs:{\"neume\":_vm.neume.measureBar}}):_vm._e()]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { MartyriaElement } from '@/models/Element';\nimport Neume from '@/components/Neume.vue';\nimport { Note } from '@/models/Neumes';\nimport { withZoom } from '@/utils/withZoom';\nimport { PageSetup } from '@/models/PageSetup';\n\n@Component({\n  components: {\n    Neume,\n  },\n})\nexport default class NeumeBoxMartyria extends Vue {\n  @Prop() neume!: MartyriaElement;\n  @Prop() pageSetup!: PageSetup;\n\n  Note = Note;\n\n  get hasFthora() {\n    return this.neume.fthora != null;\n  }\n\n  get hasMeasureBar() {\n    return this.neume.measureBar != null;\n  }\n\n  get style() {\n    return {\n      color: this.pageSetup.martyriaDefaultColor,\n      fontFamily: this.pageSetup.neumeDefaultFontFamily,\n      fontSize: withZoom(this.pageSetup.neumeDefaultFontSize),\n    } as CSSStyleDeclaration;\n  }\n\n  get fthoraStyle() {\n    return {\n      color: this.pageSetup.fthoraDefaultColor,\n    } as CSSStyleDeclaration;\n  }\n\n  get measureBarStyle() {\n    return {\n      color: this.pageSetup.measureBarDefaultColor,\n    } as CSSStyleDeclaration;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeumeBoxMartyria.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeumeBoxMartyria.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NeumeBoxMartyria.vue?vue&type=template&id=3744c593&scoped=true&\"\nimport script from \"./NeumeBoxMartyria.vue?vue&type=script&lang=ts&\"\nexport * from \"./NeumeBoxMartyria.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3744c593\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"neume\",style:(_vm.style)},[(_vm.neume.error)?[_vm._v(\" ? \")]:[_c('Neume',{attrs:{\"neume\":_vm.neume.note}}),_c('Neume',{style:(_vm.rootSignStyle),attrs:{\"neume\":_vm.neume.rootSign}}),(_vm.hasFthora)?_c('Neume',{style:(_vm.fthoraStyle),attrs:{\"neume\":_vm.neume.fthora}}):_vm._e(),(_vm.hasMeasureBar)?_c('Neume',{style:(_vm.measureBarStyle),attrs:{\"neume\":_vm.neume.measureBar}}):_vm._e()]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { MartyriaElement } from '@/models/Element';\nimport Neume from '@/components/Neume.vue';\nimport { Note, Neume as GenericNeume } from '@/models/Neumes';\nimport { withZoom } from '@/utils/withZoom';\nimport { PageSetup } from '@/models/PageSetup';\nimport { NeumeMappingService } from '@/services/NeumeMappingService';\nimport { fontService } from '@/services/FontService';\n\n@Component({\n  components: {\n    Neume,\n  },\n})\nexport default class NeumeBoxMartyria extends Vue {\n  @Prop() neume!: MartyriaElement;\n  @Prop() pageSetup!: PageSetup;\n\n  Note = Note;\n\n  get hasFthora() {\n    return this.neume.fthora != null;\n  }\n\n  get hasMeasureBar() {\n    return this.neume.measureBar != null;\n  }\n\n  get style() {\n    return {\n      color: this.pageSetup.martyriaDefaultColor,\n      fontFamily: this.pageSetup.neumeDefaultFontFamily,\n      fontSize: withZoom(this.pageSetup.neumeDefaultFontSize),\n    } as CSSStyleDeclaration;\n  }\n\n  get fthoraStyle() {\n    const offset = this.getOffset(this.neume.fthora!);\n\n    return {\n      position: 'absolute',\n      color: this.pageSetup.fthoraDefaultColor,\n      left: withZoom(offset.x, 'em'),\n      top: withZoom(offset.y, 'em'),\n    } as CSSStyleDeclaration;\n  }\n\n  get rootSignStyle() {\n    const offset = this.getOffset(this.neume.rootSign!);\n\n    return {\n      position: 'absolute',\n      left: withZoom(offset.x, 'em'),\n      top: withZoom(offset.y, 'em'),\n    } as CSSStyleDeclaration;\n  }\n\n  get measureBarStyle() {\n    return {\n      color: this.pageSetup.measureBarDefaultColor,\n    } as CSSStyleDeclaration;\n  }\n\n  getMapping(neume: GenericNeume) {\n    return NeumeMappingService.getMapping(neume);\n  }\n\n  getOffset(neume: GenericNeume) {\n    const mark = this.getMapping(neume).glyphName;\n    const base = this.getMapping(this.neume.note).glyphName;\n    return fontService.getMarkOffset(base, mark);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeumeBoxMartyriaPrint.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeumeBoxMartyriaPrint.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NeumeBoxMartyriaPrint.vue?vue&type=template&id=260bf202&scoped=true&\"\nimport script from \"./NeumeBoxMartyriaPrint.vue?vue&type=script&lang=ts&\"\nexport * from \"./NeumeBoxMartyriaPrint.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NeumeBoxMartyriaPrint.vue?vue&type=style&index=0&id=260bf202&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"260bf202\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"neume\",style:(_vm.style)},[_c('Neume',{attrs:{\"neume\":_vm.neume.neume,\"fontFamily\":_vm.pageSetup.neumeDefaultFontFamily}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { TempoElement } from '@/models/Element';\nimport Neume from '@/components/Neume.vue';\nimport { withZoom } from '@/utils/withZoom';\nimport { PageSetup } from '@/models/PageSetup';\n\n@Component({\n  components: {\n    Neume,\n  },\n})\nexport default class NeumeBoxMartyria extends Vue {\n  @Prop() neume!: TempoElement;\n  @Prop() pageSetup!: PageSetup;\n\n  get style() {\n    return {\n      color: this.pageSetup.tempoDefaultColor,\n      fontSize: withZoom(this.pageSetup.neumeDefaultFontSize),\n    } as CSSStyleDeclaration;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeumeBoxTempo.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeumeBoxTempo.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NeumeBoxTempo.vue?vue&type=template&id=bc3dc3da&scoped=true&\"\nimport script from \"./NeumeBoxTempo.vue?vue&type=script&lang=ts&\"\nexport * from \"./NeumeBoxTempo.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bc3dc3da\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"neume-selector-panel\"},[_c('div',{staticClass:\"row\"},_vm._l((_vm.ascendingNeumes),function(neume,index){return _c('Neume',{key:(\"ascendingNeumes-\" + index),staticClass:\"neume\",attrs:{\"neume\":neume,\"fontFamily\":_vm.pageSetup.neumeDefaultFontFamily},nativeOn:{\"click\":function($event){return _vm.$emit('select-quantitative-neume', neume)}}})}),1),_c('div',{staticClass:\"row\"},_vm._l((_vm.ascendingNeumesWithPetasti),function(neume,index){return _c('Neume',{key:(\"ascendingNeumesWithPetasti-\" + index),staticClass:\"neume\",attrs:{\"neume\":neume,\"fontFamily\":_vm.pageSetup.neumeDefaultFontFamily},nativeOn:{\"click\":function($event){return _vm.$emit('select-quantitative-neume', neume)}}})}),1),_c('div',{staticClass:\"row\"},_vm._l((_vm.descendingNeumes),function(neume,index){return _c('Neume',{key:(\"descendingNeumes-\" + index),staticClass:\"neume\",attrs:{\"neume\":neume,\"fontFamily\":_vm.pageSetup.neumeDefaultFontFamily},nativeOn:{\"click\":function($event){return _vm.$emit('select-quantitative-neume', neume)}}})}),1),_c('div',{staticClass:\"row\"},[_vm._l((_vm.combinationNeumes),function(neume,index){return [(neume === _vm.QuantitativeNeume.OligonPlusHyporoePlusKentemata)?[_c('div',{key:(\"combinationNeumes-\" + index),staticClass:\"menu-container\",on:{\"mousedown\":_vm.openHyporoeMenu,\"mouseleave\":function($event){_vm.selectedHyporoe = null}}},[_c('Neume',{staticClass:\"neume\",attrs:{\"neume\":_vm.QuantitativeNeume.OligonPlusHyporoePlusKentemata,\"fontFamily\":_vm.pageSetup.neumeDefaultFontFamily}}),(_vm.showHyporoeMenu)?_c('div',{staticClass:\"menu\"},_vm._l((_vm.hyporoeMenuItems),function(menuItem){return _c('div',{key:menuItem.gorgon,staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedHyporoe = menuItem}}},[_c('Neume',{staticClass:\"neume\",attrs:{\"neume\":_vm.QuantitativeNeume.OligonPlusHyporoePlusKentemata,\"fontFamily\":_vm.pageSetup.neumeDefaultFontFamily}}),(menuItem.gorgon != null)?_c('Neume',{staticClass:\"red neume\",attrs:{\"neume\":menuItem.gorgon,\"fontFamily\":_vm.pageSetup.neumeDefaultFontFamily}}):_vm._e()],1)}),0):_vm._e()],1)]:[_c('Neume',{key:(\"combinationNeumes-\" + index),staticClass:\"neume\",attrs:{\"neume\":neume,\"fontFamily\":_vm.pageSetup.neumeDefaultFontFamily},nativeOn:{\"click\":function($event){return _vm.$emit('select-quantitative-neume', neume)}}})]]})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { GorgonNeume, QuantitativeNeume } from '@/models/Neumes';\nimport SyllableNeumeBox from '@/components/NeumeBoxSyllable.vue';\nimport Neume from '@/components/Neume.vue';\nimport { PageSetup } from '@/models/PageSetup';\n\ninterface HyporoeMenuItem {\n  gorgon: GorgonNeume | null;\n}\n\n@Component({\n  components: {\n    SyllableNeumeBox,\n    Neume,\n  },\n})\nexport default class NeumeSelector extends Vue {\n  @Prop() pageSetup!: PageSetup;\n\n  QuantitativeNeume = QuantitativeNeume;\n\n  ascendingNeumes: QuantitativeNeume[] = [\n    QuantitativeNeume.Ison,\n    QuantitativeNeume.Oligon,\n    QuantitativeNeume.OligonPlusKentima,\n    QuantitativeNeume.OligonPlusKentimaBelow,\n    QuantitativeNeume.OligonPlusKentimaAbove,\n    QuantitativeNeume.OligonPlusHypsiliRight,\n    QuantitativeNeume.OligonPlusHypsiliLeft,\n    QuantitativeNeume.OligonPlusHypsiliPlusKentimaHorizontal,\n    QuantitativeNeume.OligonPlusHypsiliPlusKentimaVertical,\n    QuantitativeNeume.OligonPlusDoubleHypsili,\n    QuantitativeNeume.VareiaDotted,\n    QuantitativeNeume.Cross,\n  ];\n\n  ascendingNeumesWithPetasti: QuantitativeNeume[] = [\n    QuantitativeNeume.PetastiWithIson,\n    QuantitativeNeume.Petasti,\n    QuantitativeNeume.PetastiPlusOligon,\n    QuantitativeNeume.PetastiPlusKentimaAbove,\n    QuantitativeNeume.PetastiPlusHypsiliRight,\n    QuantitativeNeume.PetastiPlusHypsiliLeft,\n    QuantitativeNeume.PetastiPlusHypsiliPlusKentimaHorizontal,\n    QuantitativeNeume.PetastiPlusHypsiliPlusKentimaVertical,\n    QuantitativeNeume.PetastiPlusDoubleHypsili,\n    QuantitativeNeume.PetastiPlusApostrophos,\n    QuantitativeNeume.PetastiPlusElaphron,\n    QuantitativeNeume.PetastiPlusElaphronPlusApostrophos,\n    QuantitativeNeume.PetastiPlusRunningElaphron,\n    QuantitativeNeume.PetastiPlusHyporoe,\n  ];\n\n  descendingNeumes: QuantitativeNeume[] = [\n    QuantitativeNeume.IsonPlusApostrophos,\n    QuantitativeNeume.Apostrophos,\n    QuantitativeNeume.RunningElaphron,\n    QuantitativeNeume.DoubleApostrophos,\n    QuantitativeNeume.Hyporoe,\n    QuantitativeNeume.Elaphron,\n    QuantitativeNeume.ElaphronPlusApostrophos,\n    QuantitativeNeume.Hamili,\n    QuantitativeNeume.HamiliPlusApostrophos,\n    QuantitativeNeume.HamiliPlusElaphron,\n    QuantitativeNeume.HamiliPlusElaphronPlusApostrophos,\n    QuantitativeNeume.DoubleHamili,\n  ];\n\n  combinationNeumes: QuantitativeNeume[] = [\n    QuantitativeNeume.Kentemata,\n    QuantitativeNeume.OligonPlusKentemata,\n    QuantitativeNeume.KentemataPlusOligon,\n    QuantitativeNeume.OligonPlusIsonPlusKentemata,\n    QuantitativeNeume.OligonPlusKentemataPlusHypsiliRight,\n    QuantitativeNeume.OligonPlusKentemataPlusHypsiliLeft,\n    QuantitativeNeume.OligonPlusApostrophosPlusKentemata,\n    QuantitativeNeume.OligonPlusElaphronPlusKentemata,\n    QuantitativeNeume.OligonPlusRunningElaphronPlusKentemata,\n    QuantitativeNeume.OligonPlusHyporoePlusKentemata,\n    QuantitativeNeume.OligonPlusElaphronPlusApostrophosPlusKentemata,\n    QuantitativeNeume.OligonPlusHamiliPlusKentemata,\n    QuantitativeNeume.OligonPlusIson,\n    QuantitativeNeume.OligonPlusApostrophos,\n    QuantitativeNeume.OligonPlusElaphron,\n    QuantitativeNeume.OligonPlusElaphronPlusApostrophos,\n    QuantitativeNeume.OligonPlusHamili,\n  ];\n\n  hyporoeMenuItems: HyporoeMenuItem[] = [\n    { gorgon: GorgonNeume.TrigorgonDottedLeft1Secondary },\n    { gorgon: GorgonNeume.TrigorgonSecondary },\n    { gorgon: GorgonNeume.DigorgonDottedLeft1Secondary },\n    { gorgon: GorgonNeume.DigorgonSecondary },\n    { gorgon: GorgonNeume.GorgonDottedRightSecondary },\n    { gorgon: GorgonNeume.GorgonDottedLeftSecondary },\n    { gorgon: GorgonNeume.GorgonSecondary },\n    { gorgon: null },\n  ];\n\n  showHyporoeMenu: boolean = false;\n  selectedHyporoe: HyporoeMenuItem | null = null;\n\n  openHyporoeMenu() {\n    this.showHyporoeMenu = true;\n    window.addEventListener('mouseup', this.onHyporoeMouseUp);\n  }\n\n  onHyporoeMouseUp() {\n    if (this.selectedHyporoe) {\n      this.$emit(\n        'select-quantitative-neume',\n        QuantitativeNeume.OligonPlusHyporoePlusKentemata,\n        this.selectedHyporoe.gorgon,\n      );\n    }\n\n    this.showHyporoeMenu = false;\n\n    window.removeEventListener('mouseup', this.onHyporoeMouseUp);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeumeSelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeumeSelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NeumeSelector.vue?vue&type=template&id=dfcfda20&scoped=true&\"\nimport script from \"./NeumeSelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./NeumeSelector.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NeumeSelector.vue?vue&type=style&index=0&id=dfcfda20&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dfcfda20\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"contenteditable\",attrs:{\"contenteditable\":_vm.contentEditable},domProps:{\"innerHTML\":_vm._s(_vm.content)},on:{\"blur\":_vm.onBlur}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n\n@Component\nexport default class ContentEditable extends Vue {\n  @Prop() content!: string;\n  @Prop({ default: true }) selectAllOnFocus!: boolean;\n  @Prop({ default: true }) editable!: boolean;\n  @Prop({ default: true }) plaintextOnly!: boolean;\n\n  get contentEditable() {\n    return this.editable\n      ? this.plaintextOnly\n        ? 'plaintext-only'\n        : 'true'\n      : 'false';\n  }\n\n  get htmlElement() {\n    return this.$el as HTMLElement;\n  }\n\n  getInnerText() {\n    return this.htmlElement.innerText;\n  }\n\n  onBlur() {\n    this.$emit('blur', this.htmlElement.innerText);\n  }\n\n  focus(selectAll: boolean) {\n    this.htmlElement.focus();\n\n    if (selectAll) {\n      document.execCommand('selectAll', false);\n    }\n  }\n\n  blur() {\n    this.htmlElement.blur();\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContentEditable.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContentEditable.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ContentEditable.vue?vue&type=template&id=5399c0f6&scoped=true&\"\nimport script from \"./ContentEditable.vue?vue&type=script&lang=ts&\"\nexport * from \"./ContentEditable.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ContentEditable.vue?vue&type=style&index=0&id=5399c0f6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5399c0f6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-box-container\",style:(_vm.containerStyle)},[_c('ContentEditable',{ref:\"text\",staticClass:\"text-box\",class:_vm.textBoxClass,style:(_vm.textBoxStyle),attrs:{\"content\":_vm.content,\"editable\":_vm.editMode},on:{\"blur\":function($event){return _vm.updateContent($event)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { TextBoxAlignment } from '@/models/Element';\n\nexport interface TokenMetadata {\n  pageNumber: number;\n  numberOfPages: number;\n  fileName: string;\n  filePath: string;\n}\n\nexport function replaceTokens(\n  text: string,\n  metadata: TokenMetadata,\n  alignment: TextBoxAlignment,\n) {\n  let pageNumber = metadata.pageNumber.toString();\n\n  // This is a hack to add in an extra space\n  // if the page number is less than the length of\n  // the replacement token $p. The extra space helps\n  // keep the position of other text in the text box\n  // in the correct place.\n  if (pageNumber.length < 2) {\n    if (alignment === TextBoxAlignment.Left) {\n      pageNumber += ' ';\n    } else if (alignment === TextBoxAlignment.Right) {\n      pageNumber = ' ' + pageNumber;\n    }\n  }\n\n  return text\n    .replace(/\\$p/g, pageNumber)\n    .replace(/\\$n/g, metadata.numberOfPages.toString())\n    .replace(/\\$f/g, metadata.fileName)\n    .replace(/\\$F/g, metadata.filePath);\n}\n","export function getFontFamilyWithFallback(\n  family: string,\n  fallback: string = 'Omega',\n) {\n  return `\"${family}\", \"${fallback}\"`;\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { TextBoxElement } from '@/models/Element';\nimport ContentEditable from '@/components/ContentEditable.vue';\nimport { withZoom } from '@/utils/withZoom';\nimport { PageSetup } from '@/models/PageSetup';\nimport { replaceTokens, TokenMetadata } from '@/utils/replaceTokens';\nimport { getFontFamilyWithFallback } from '@/utils/getFontFamilyWithFallback';\n\n@Component({\n  components: {\n    ContentEditable,\n  },\n})\nexport default class TextBox extends Vue {\n  @Prop() element!: TextBoxElement;\n  @Prop() pageSetup!: PageSetup;\n  @Prop({ default: true }) editMode!: boolean;\n  @Prop() metadata!: TokenMetadata;\n\n  get textElement() {\n    return this.$refs.text as ContentEditable;\n  }\n\n  get content() {\n    return this.editMode\n      ? this.element.content\n      : replaceTokens(\n          this.element.content,\n          this.metadata,\n          this.element.alignment,\n        );\n  }\n\n  get width() {\n    return this.element.inline\n      ? withZoom(this.element.width)\n      : withZoom(this.pageSetup.innerPageWidth);\n  }\n\n  get containerStyle() {\n    const style: any = {\n      color: this.element.color,\n      fontFamily: getFontFamilyWithFallback(this.element.fontFamily),\n      fontSize: withZoom(this.element.fontSize),\n      textAlign: this.element.alignment,\n      width: this.width,\n      height: withZoom(this.element.height),\n    };\n\n    return style;\n  }\n\n  get textBoxStyle() {\n    const style: any = {\n      width: this.width,\n      height: withZoom(this.element.height),\n    };\n\n    return style;\n  }\n\n  get textBoxClass() {\n    return {\n      inline: this.element.inline,\n      bold: this.element.bold,\n      italic: this.element.italic,\n      underline: this.element.underline,\n    };\n  }\n\n  updateContent(content: string) {\n    // Nothing actually changed, so do nothing\n    if (this.element.content === content) {\n      return;\n    }\n\n    this.$emit('update:content', content);\n  }\n\n  focus() {\n    this.textElement.focus(true);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextBox.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextBox.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TextBox.vue?vue&type=template&id=f3c80b62&scoped=true&\"\nimport script from \"./TextBox.vue?vue&type=script&lang=ts&\"\nexport * from \"./TextBox.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TextBox.vue?vue&type=style&index=0&id=f3c80b62&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f3c80b62\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"drop-cap-container\"},[_c('ContentEditable',{ref:\"text\",staticClass:\"drop-cap\",style:(_vm.style),attrs:{\"content\":_vm.element.content},on:{\"blur\":_vm.updateContent}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { DropCapElement } from '@/models/Element';\nimport ContentEditable from '@/components/ContentEditable.vue';\nimport { withZoom } from '@/utils/withZoom';\nimport { PageSetup } from '@/models/PageSetup';\nimport { getFontFamilyWithFallback } from '@/utils/getFontFamilyWithFallback';\n\n@Component({\n  components: {\n    ContentEditable,\n  },\n})\nexport default class DropCap extends Vue {\n  @Prop() element!: DropCapElement;\n  @Prop() pageSetup!: PageSetup;\n\n  editable: boolean = false;\n\n  get textElement() {\n    return this.$refs.text as ContentEditable;\n  }\n\n  get style() {\n    const style = {\n      color: this.element.color || this.pageSetup.dropCapDefaultColor,\n      fontFamily: getFontFamilyWithFallback(\n        this.element.fontFamily || this.pageSetup.dropCapDefaultFontFamily,\n      ),\n      fontSize: withZoom(\n        this.element.fontSize || this.pageSetup.dropCapDefaultFontSize,\n      ),\n    } as CSSStyleDeclaration;\n\n    return style;\n  }\n\n  focus() {\n    this.textElement.focus(true);\n  }\n\n  updateContent(content: string) {\n    // Nothing actually changed, so do nothing\n    if (this.element.content === content) {\n      return;\n    }\n\n    this.$emit('update:content', content);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DropCap.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DropCap.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DropCap.vue?vue&type=template&id=0e17296a&scoped=true&\"\nimport script from \"./DropCap.vue?vue&type=script&lang=ts&\"\nexport * from \"./DropCap.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e17296a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mode-key-container\",style:(_vm.style)},[_c('Neume',{attrs:{\"neume\":_vm.ModeSign.Ekhos}}),(_vm.element.isPlagal)?_c('Neume',{attrs:{\"neume\":_vm.ModeSign.Plagal}}):_vm._e(),(_vm.element.isVarys)?_c('Neume',{attrs:{\"neume\":_vm.ModeSign.Varys}}):_vm._e(),_c('Neume',{attrs:{\"neume\":_vm.element.martyria}}),(_vm.hasNote)?_c('Neume',{attrs:{\"neume\":_vm.element.note}}):_vm._e(),(_vm.hasFthoraAboveNote)?_c('Neume',{attrs:{\"neume\":_vm.element.fthoraAboveNote}}):_vm._e(),(_vm.hasQuantitativeNeumeAboveNote)?_c('Neume',{attrs:{\"neume\":_vm.element.quantitativeNeumeAboveNote}}):_vm._e(),(_vm.hasNote2)?_c('Neume',{attrs:{\"neume\":_vm.element.note2}}):_vm._e(),(_vm.hasFthoraAboveNote2)?_c('Neume',{attrs:{\"neume\":_vm.element.fthoraAboveNote2}}):_vm._e(),(_vm.hasQuantitativeNeumeAboveNote2)?_c('Neume',{attrs:{\"neume\":_vm.element.quantitativeNeumeAboveNote2}}):_vm._e(),(_vm.hasQuantitativeNeumeRight)?_c('Neume',{attrs:{\"neume\":_vm.element.quantitativeNeumeRight}}):_vm._e(),(_vm.hasFthoraAboveQuantitativeNeumeRight)?_c('Neume',{attrs:{\"neume\":_vm.element.fthoraAboveQuantitativeNeumeRight}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { ModeKeyElement } from '@/models/Element';\nimport Neume from '@/components/Neume.vue';\nimport { ModeSign } from '@/models/Neumes';\nimport { withZoom } from '@/utils/withZoom';\nimport { PageSetup } from '@/models/PageSetup';\n\n@Component({\n  components: {\n    Neume,\n  },\n})\nexport default class ModeKey extends Vue {\n  @Prop() element!: ModeKeyElement;\n  @Prop() pageSetup!: PageSetup;\n  ModeSign = ModeSign;\n\n  get hasFthoraAboveNote() {\n    return this.element.fthoraAboveNote != null;\n  }\n\n  get hasNote() {\n    return this.element.note != null;\n  }\n\n  get hasNote2() {\n    return this.element.note2 != null;\n  }\n\n  get hasFthoraAboveNote2() {\n    return this.element.fthoraAboveNote2 != null;\n  }\n\n  get hasFthoraAboveQuantitativeNeumeRight() {\n    return this.element.fthoraAboveQuantitativeNeumeRight != null;\n  }\n\n  get hasQuantitativeNeumeAboveNote() {\n    return this.element.quantitativeNeumeAboveNote != null;\n  }\n\n  get hasQuantitativeNeumeAboveNote2() {\n    return this.element.quantitativeNeumeAboveNote2 != null;\n  }\n\n  get hasQuantitativeNeumeRight() {\n    return this.element.quantitativeNeumeRight != null;\n  }\n\n  get style() {\n    return {\n      color: this.element.color,\n      fontFamily: this.pageSetup.neumeDefaultFontFamily,\n      fontSize: withZoom(this.element.fontSize),\n      textAlign: this.element.alignment,\n      width: withZoom(this.pageSetup.innerPageWidth),\n      height: withZoom(this.element.height),\n    } as CSSStyleDeclaration;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModeKey.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModeKey.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModeKey.vue?vue&type=template&id=494ef422&scoped=true&\"\nimport script from \"./ModeKey.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModeKey.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ModeKey.vue?vue&type=style&index=0&id=494ef422&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"494ef422\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mode-key-container\",style:(_vm.style)},[_c('Neume',{attrs:{\"neume\":_vm.ModeSign.Ekhos}}),(_vm.element.isPlagal)?_c('Neume',{attrs:{\"neume\":_vm.ModeSign.Plagal}}):_vm._e(),(_vm.element.isVarys)?_c('Neume',{attrs:{\"neume\":_vm.ModeSign.Varys}}):_vm._e(),_c('Neume',{attrs:{\"neume\":_vm.element.martyria}}),_c('span',{staticStyle:{\"position\":\"relative\"}},[(_vm.hasNote)?_c('Neume',{attrs:{\"neume\":_vm.element.note}}):_vm._e(),(_vm.hasFthoraAboveNote)?_c('Neume',{style:(_vm.fthoraAboveNoteStyle),attrs:{\"neume\":_vm.element.fthoraAboveNote}}):_vm._e(),(_vm.hasQuantitativeNeumeAboveNote)?_c('Neume',{style:(_vm.quantitativeNeumeAboveNoteStyle),attrs:{\"neume\":_vm.element.quantitativeNeumeAboveNote}}):_vm._e()],1),_c('span',{staticStyle:{\"position\":\"relative\"}},[(_vm.hasNote2)?_c('Neume',{attrs:{\"neume\":_vm.element.note2}}):_vm._e(),(_vm.hasQuantitativeNeumeAboveNote2)?_c('Neume',{style:(_vm.quantitativeNeumeAboveNote2Style),attrs:{\"neume\":_vm.element.quantitativeNeumeAboveNote2}}):_vm._e(),(_vm.hasFthoraAboveNote2)?_c('Neume',{style:(_vm.fthoraAboveNote2Style),attrs:{\"neume\":_vm.element.fthoraAboveNote2}}):_vm._e()],1),_c('span',{staticStyle:{\"position\":\"relative\"}},[(_vm.hasQuantitativeNeumeRight)?_c('Neume',{attrs:{\"neume\":_vm.element.quantitativeNeumeRight}}):_vm._e(),(_vm.hasFthoraAboveQuantitativeNeumeRight)?_c('Neume',{style:(_vm.fthoraAboveQuantitativeNeumeRightStyle),attrs:{\"neume\":_vm.element.fthoraAboveQuantitativeNeumeRight}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { ModeKeyElement } from '@/models/Element';\nimport Neume from '@/components/Neume.vue';\nimport { ModeSign, Neume as GenericNeume } from '@/models/Neumes';\nimport { withZoom } from '@/utils/withZoom';\nimport { PageSetup } from '@/models/PageSetup';\nimport { fontService } from '@/services/FontService';\nimport { NeumeMappingService } from '@/services/NeumeMappingService';\n\n@Component({\n  components: {\n    Neume,\n  },\n})\nexport default class ModeKey extends Vue {\n  @Prop() element!: ModeKeyElement;\n  @Prop() pageSetup!: PageSetup;\n  ModeSign = ModeSign;\n\n  get hasFthoraAboveNote() {\n    return this.element.fthoraAboveNote != null;\n  }\n\n  get hasNote() {\n    return this.element.note != null;\n  }\n\n  get hasNote2() {\n    return this.element.note2 != null;\n  }\n\n  get hasFthoraAboveNote2() {\n    return this.element.fthoraAboveNote2 != null;\n  }\n\n  get hasFthoraAboveQuantitativeNeumeRight() {\n    return this.element.fthoraAboveQuantitativeNeumeRight != null;\n  }\n\n  get hasQuantitativeNeumeAboveNote() {\n    return this.element.quantitativeNeumeAboveNote != null;\n  }\n\n  get hasQuantitativeNeumeAboveNote2() {\n    return this.element.quantitativeNeumeAboveNote2 != null;\n  }\n\n  get hasQuantitativeNeumeRight() {\n    return this.element.quantitativeNeumeRight != null;\n  }\n\n  get style() {\n    return {\n      color: this.element.color,\n      fontFamily: this.pageSetup.neumeDefaultFontFamily,\n      fontSize: withZoom(this.element.fontSize),\n      textAlign: this.element.alignment,\n      width: withZoom(this.pageSetup.innerPageWidth),\n      height: withZoom(this.element.height),\n    } as CSSStyleDeclaration;\n  }\n\n  get fthoraAboveNoteStyle() {\n    const offset = this.getOffset(\n      this.element.fthoraAboveNote!,\n      this.element.note!,\n    );\n\n    return {\n      position: 'absolute',\n      left: withZoom(offset.x, 'em'),\n      top: withZoom(offset.y, 'em'),\n    } as CSSStyleDeclaration;\n  }\n\n  get fthoraAboveNote2Style() {\n    const offset = this.getOffset(\n      this.element.fthoraAboveNote2!,\n      this.element.note2!,\n    );\n\n    return {\n      position: 'absolute',\n      left: withZoom(offset.x, 'em'),\n      top: withZoom(offset.y, 'em'),\n    } as CSSStyleDeclaration;\n  }\n\n  get fthoraAboveQuantitativeNeumeRightStyle() {\n    const offset = this.getOffset(\n      this.element.fthoraAboveQuantitativeNeumeRight!,\n      this.element.quantitativeNeumeRight!,\n    );\n\n    return {\n      position: 'absolute',\n      left: withZoom(offset.x, 'em'),\n      top: withZoom(offset.y, 'em'),\n    } as CSSStyleDeclaration;\n  }\n\n  get quantitativeNeumeAboveNoteStyle() {\n    const offset = this.getOffset(\n      this.element.quantitativeNeumeAboveNote!,\n      this.element.note!,\n    );\n\n    return {\n      position: 'absolute',\n      left: withZoom(offset.x, 'em'),\n      top: withZoom(offset.y, 'em'),\n    } as CSSStyleDeclaration;\n  }\n\n  get quantitativeNeumeAboveNote2Style() {\n    const offset = this.getOffset(\n      this.element.quantitativeNeumeAboveNote2!,\n      this.element.note2!,\n    );\n\n    return {\n      position: 'absolute',\n      left: withZoom(offset.x, 'em'),\n      top: withZoom(offset.y, 'em'),\n    } as CSSStyleDeclaration;\n  }\n\n  getMapping(neume: GenericNeume) {\n    return NeumeMappingService.getMapping(neume);\n  }\n\n  getOffset(markNeume: GenericNeume, baseNeume: GenericNeume) {\n    const mark = this.getMapping(markNeume).glyphName;\n    const base = this.getMapping(baseNeume).glyphName;\n\n    return fontService.getMarkOffset(base, mark);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModeKeyPrint.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModeKeyPrint.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModeKeyPrint.vue?vue&type=template&id=8d7b5762&scoped=true&\"\nimport script from \"./ModeKeyPrint.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModeKeyPrint.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ModeKeyPrint.vue?vue&type=style&index=0&id=8d7b5762&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8d7b5762\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-box-toolbar\"},[_c('select',{domProps:{\"value\":_vm.element.fontFamily},on:{\"change\":function($event){return _vm.$emit('update:fontFamily', $event.target.value)}}},[_c('option',[_vm._v(\"Athonite\")]),_c('option',[_vm._v(\"Omega\")]),_vm._l((_vm.fonts),function(font){return _c('option',{key:font,domProps:{\"value\":font}},[_vm._v(\" \"+_vm._s(font)+\" \")])})],2),_c('span',{staticClass:\"space\"}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.fontSize),expression:\"fontSize\",modifiers:{\"lazy\":true}}],attrs:{\"type\":\"number\",\"min\":\"4\",\"max\":\"100\",\"step\":\"1\"},domProps:{\"value\":(_vm.fontSize)},on:{\"change\":function($event){_vm.fontSize=$event.target.value}}}),_c('span',{staticClass:\"space\"}),_c('input',{attrs:{\"type\":\"color\",\"list\":\"presetColors\"},domProps:{\"value\":_vm.element.color},on:{\"change\":function($event){return _vm.$emit('update:color', $event.target.value)}}}),_vm._m(0),_c('span',{staticClass:\"space\"}),_c('button',{staticClass:\"icon-btn\",class:{ selected: _vm.element.bold },on:{\"click\":function($event){return _vm.$emit('update:bold', !_vm.element.bold)}}},[_c('b',[_vm._v(\"B\")])]),_c('button',{staticClass:\"icon-btn\",class:{ selected: _vm.element.italic },on:{\"click\":function($event){return _vm.$emit('update:italic', !_vm.element.italic)}}},[_c('i',[_vm._v(\"I\")])]),_c('button',{staticClass:\"icon-btn\",class:{ selected: _vm.element.underline },on:{\"click\":function($event){return _vm.$emit('update:underline', !_vm.element.underline)}}},[_c('u',[_vm._v(\"U\")])]),_c('span',{staticClass:\"space\"}),_c('button',{staticClass:\"icon-btn\",class:{ selected: _vm.element.alignment === _vm.TextBoxAlignment.Left },on:{\"click\":function($event){return _vm.$emit('update:alignment', _vm.TextBoxAlignment.Left)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/alignleft.svg\"),\"width\":\"32\",\"height\":\"32\",\"title\":\"Align Left\"}})]),_c('button',{staticClass:\"icon-btn\",class:{ selected: _vm.element.alignment === _vm.TextBoxAlignment.Center },on:{\"click\":function($event){return _vm.$emit('update:alignment', _vm.TextBoxAlignment.Center)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/aligncenter.svg\"),\"width\":\"32\",\"height\":\"32\",\"title\":\"Align Center\"}})]),_c('button',{staticClass:\"icon-btn\",class:{ selected: _vm.element.alignment === _vm.TextBoxAlignment.Right },on:{\"click\":function($event){return _vm.$emit('update:alignment', _vm.TextBoxAlignment.Right)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/alignright.svg\"),\"width\":\"32\",\"height\":\"32\",\"title\":\"Align Right\"}})]),_c('span',{staticClass:\"space\"}),_c('button',{staticClass:\"icon-btn\",on:{\"mousedown\":function($event){$event.preventDefault();return _vm.$emit('insert:pelastikon')}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/letterPelastikon.svg\"),\"width\":\"32\",\"height\":\"32\",\"title\":\"Insert Pelastikon\"}})]),_c('button',{staticClass:\"icon-btn\",on:{\"mousedown\":function($event){$event.preventDefault();return _vm.$emit('insert:gorthmikon')}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/letterGorthmikon.svg\"),\"width\":\"32\",\"height\":\"32\",\"title\":\"Insert Gorthmikon\"}})])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('datalist',{attrs:{\"id\":\"presetColors\"}},[_c('option',[_vm._v(\"#000000\")]),_c('option',[_vm._v(\"#ED0000\")]),_c('option',[_vm._v(\"#0000ff\")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { TextBoxAlignment, TextBoxElement } from '@/models/Element';\nimport { Unit } from '@/utils/Unit';\n\n@Component({\n  components: {},\n})\nexport default class TextBoxToolbar extends Vue {\n  @Prop() element!: TextBoxElement;\n  @Prop() fonts!: string;\n\n  TextBoxAlignment = TextBoxAlignment;\n\n  private get fontSize() {\n    return Unit.toPt(this.element.fontSize);\n  }\n\n  private set fontSize(value: number) {\n    // Round to nearest 0.5\n    const valueRounded = Math.round(value * 2) / 2;\n\n    this.$emit(\n      'update:fontSize',\n      Math.min(\n        Math.max(Unit.fromPt(valueRounded), Unit.fromPt(4)),\n        Unit.fromPt(100),\n      ),\n    );\n\n    this.$forceUpdate();\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextBoxToolbar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextBoxToolbar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TextBoxToolbar.vue?vue&type=template&id=de462840&scoped=true&\"\nimport script from \"./TextBoxToolbar.vue?vue&type=script&lang=ts&\"\nexport * from \"./TextBoxToolbar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TextBoxToolbar.vue?vue&type=style&index=0&id=de462840&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"de462840\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"lyrics-toolbar\"},[_c('button',{staticClass:\"icon-btn\",on:{\"mousedown\":function($event){$event.preventDefault();return _vm.$emit('insert:pelastikon')}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/letterPelastikon.svg\"),\"width\":\"32\",\"height\":\"32\",\"title\":\"Insert Pelastikon\"}})]),_c('button',{staticClass:\"icon-btn\",on:{\"mousedown\":function($event){$event.preventDefault();return _vm.$emit('insert:gorthmikon')}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/letterGorthmikon.svg\"),\"width\":\"32\",\"height\":\"32\",\"title\":\"Insert Gorthmikon\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { NoteElement } from '@/models/Element';\nimport { Unit } from '@/utils/Unit';\n\n@Component({\n  components: {},\n})\nexport default class LyricsToolbar extends Vue {\n  @Prop() element!: NoteElement;\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LyricsToolbar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LyricsToolbar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LyricsToolbar.vue?vue&type=template&id=6892978a&scoped=true&\"\nimport script from \"./LyricsToolbar.vue?vue&type=script&lang=ts&\"\nexport * from \"./LyricsToolbar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./LyricsToolbar.vue?vue&type=style&index=0&id=6892978a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6892978a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mode-key-toolbar\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.fontSize),expression:\"fontSize\",modifiers:{\"lazy\":true}}],attrs:{\"type\":\"number\",\"min\":\"4\",\"max\":\"100\",\"step\":\"1\"},domProps:{\"value\":(_vm.fontSize)},on:{\"change\":function($event){_vm.fontSize=$event.target.value}}}),_c('span',{staticClass:\"space\"}),_c('input',{attrs:{\"type\":\"color\",\"list\":\"presetColors\"},domProps:{\"value\":_vm.element.color},on:{\"change\":function($event){return _vm.$emit('update:color', $event.target.value)}}}),_vm._m(0),_c('span',{staticClass:\"space\"}),_c('button',{staticClass:\"icon-btn\",class:{ selected: _vm.element.alignment === _vm.TextBoxAlignment.Left },on:{\"click\":function($event){return _vm.$emit('update:alignment', _vm.TextBoxAlignment.Left)}}},[_c('img',{staticClass:\"icon-btn-img\",attrs:{\"src\":require(\"@/assets/icons/alignleft.svg\"),\"width\":\"32\",\"height\":\"32\",\"title\":\"Align Left\"}})]),_c('button',{staticClass:\"icon-btn\",class:{ selected: _vm.element.alignment === _vm.TextBoxAlignment.Center },on:{\"click\":function($event){return _vm.$emit('update:alignment', _vm.TextBoxAlignment.Center)}}},[_c('img',{staticClass:\"icon-btn-img\",attrs:{\"src\":require(\"@/assets/icons/aligncenter.svg\"),\"width\":\"32\",\"height\":\"32\",\"title\":\"Align Center\"}})]),_c('button',{staticClass:\"icon-btn\",class:{ selected: _vm.element.alignment === _vm.TextBoxAlignment.Right },on:{\"click\":function($event){return _vm.$emit('update:alignment', _vm.TextBoxAlignment.Right)}}},[_c('img',{staticClass:\"icon-btn-img\",attrs:{\"src\":require(\"@/assets/icons/alignright.svg\"),\"width\":\"32\",\"height\":\"32\",\"title\":\"Align Right\"}})]),_c('span',{staticClass:\"space\"}),_c('button',{on:{\"click\":function($event){return _vm.$emit('open-mode-key-dialog')}}},[_vm._v(\"Change Key\")])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('datalist',{attrs:{\"id\":\"presetColors\"}},[_c('option',[_vm._v(\"#000000\")]),_c('option',[_vm._v(\"#ED0000\")]),_c('option',[_vm._v(\"#0000FF\")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { TextBoxAlignment, ModeKeyElement } from '@/models/Element';\nimport { Unit } from '@/utils/Unit';\n\n@Component({\n  components: {},\n})\nexport default class ModeKeyToolbar extends Vue {\n  @Prop() element!: ModeKeyElement;\n  TextBoxAlignment = TextBoxAlignment;\n\n  private get fontSize() {\n    return Unit.toPt(this.element.fontSize);\n  }\n\n  private set fontSize(value: number) {\n    // Round to nearest 0.5\n    const valueRounded = Math.round(value * 2) / 2;\n\n    this.$emit(\n      'update:fontSize',\n      Math.min(\n        Math.max(Unit.fromPt(valueRounded), Unit.fromPt(4)),\n        Unit.fromPt(100),\n      ),\n    );\n\n    this.$forceUpdate();\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModeKeyToolbar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModeKeyToolbar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModeKeyToolbar.vue?vue&type=template&id=24bc3a00&scoped=true&\"\nimport script from \"./ModeKeyToolbar.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModeKeyToolbar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ModeKeyToolbar.vue?vue&type=style&index=0&id=24bc3a00&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24bc3a00\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-toolbar\"},[_c('button',{staticClass:\"entry-mode-btn\",class:{ on: _vm.entryMode === _vm.EntryMode.Auto },on:{\"click\":function($event){return _vm.$emit('update:entryMode', _vm.EntryMode.Auto)}}},[_vm._v(\" Auto \")]),_c('button',{staticClass:\"entry-mode-btn\",class:{ on: _vm.entryMode === _vm.EntryMode.Insert },on:{\"click\":function($event){return _vm.$emit('update:entryMode', _vm.EntryMode.Insert)}}},[_vm._v(\" Insert \")]),_c('button',{staticClass:\"entry-mode-btn\",class:{ on: _vm.entryMode === _vm.EntryMode.Edit },on:{\"click\":function($event){return _vm.$emit('update:entryMode', _vm.EntryMode.Edit)}}},[_vm._v(\" Single \")]),_c('span',{staticClass:\"space\"}),_c('button',{staticClass:\"neume-button martyria\",attrs:{\"title\":\"Insert martyria\"},on:{\"click\":function($event){return _vm.$emit('add-auto-martyria')}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/martyria.svg\")}})]),_c('span',{staticClass:\"space\"}),_c('div',{staticClass:\"tempo-container\",on:{\"mousedown\":_vm.openTempoMenu,\"mouseleave\":function($event){_vm.selectedTempoNeume = null}}},[_vm._m(0),(_vm.showTempoMenu)?_c('div',{staticClass:\"tempo-menu\"},[_c('div',{staticClass:\"tempo-menu-item\",on:{\"mouseenter\":function($event){_vm.selectedTempoNeume = _vm.TempoSign.VerySlow}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/agogi-poli-argi.svg\")}})]),_c('div',{staticClass:\"tempo-menu-item\",on:{\"mouseenter\":function($event){_vm.selectedTempoNeume = _vm.TempoSign.Slower}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/agogi-argoteri.svg\")}})]),_c('div',{staticClass:\"tempo-menu-item\",on:{\"mouseenter\":function($event){_vm.selectedTempoNeume = _vm.TempoSign.Slow}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/agogi-argi.svg\")}})]),_c('div',{staticClass:\"tempo-menu-item\",on:{\"mouseenter\":function($event){_vm.selectedTempoNeume = _vm.TempoSign.Moderate}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/agogi-metria.svg\")}})]),_c('div',{staticClass:\"tempo-menu-item\",on:{\"mouseenter\":function($event){_vm.selectedTempoNeume = _vm.TempoSign.Medium}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/agogi-mesi.svg\")}})]),_c('div',{staticClass:\"tempo-menu-item\",on:{\"mouseenter\":function($event){_vm.selectedTempoNeume = _vm.TempoSign.Quick}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/agogi-gorgi.svg\")}})]),_c('div',{staticClass:\"tempo-menu-item\",on:{\"mouseenter\":function($event){_vm.selectedTempoNeume = _vm.TempoSign.Quicker}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/agogi-gorgoteri.svg\")}})]),_c('div',{staticClass:\"tempo-menu-item\",on:{\"mouseenter\":function($event){_vm.selectedTempoNeume = _vm.TempoSign.VeryQuick}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/agogi-poli-gorgi.svg\")}})])]):_vm._e()]),_c('span',{staticClass:\"space\"}),_c('button',{staticClass:\"icon-btn\",attrs:{\"title\":\"Insert drop cap\"},on:{\"click\":function($event){return _vm.$emit('add-drop-cap')}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/drop-cap.svg\"),\"width\":\"24\",\"height\":\"24\"}})]),_c('span',{staticClass:\"space\"}),_c('button',{staticClass:\"icon-btn line-break-btn\",attrs:{\"title\":\"Insert or remove line break after selected element\"},on:{\"click\":function($event){return _vm.$emit('toggle-line-break')}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/line-break.svg\"),\"width\":\"24\",\"height\":\"24\"}})]),_c('button',{staticClass:\"icon-btn\",attrs:{\"title\":\"Insert or remove page break after selected element\"},on:{\"click\":function($event){return _vm.$emit('toggle-page-break')}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/page-break.svg\"),\"width\":\"24\",\"height\":\"24\"}})]),_c('span',{staticClass:\"space\"}),_c('button',{staticClass:\"red icon-btn\",attrs:{\"title\":\"Delete selected element\"},on:{\"click\":function($event){return _vm.$emit('delete-selected-element')}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/delete.svg\"),\"width\":\"24\",\"height\":\"24\"}})]),_c('span',{staticClass:\"space\"}),_c('div',{staticClass:\"zoom-container\",attrs:{\"tabindex\":\"-1\"},on:{\"focusout\":function($event){_vm.showZoomMenu = false}}},[_c('input',{staticClass:\"zoom\",domProps:{\"value\":_vm.zoomDisplay},on:{\"change\":function($event){return _vm.updateZoom($event.target.value)}}}),_c('span',{staticClass:\"zoom-arrow\",on:{\"click\":function($event){_vm.showZoomMenu = !_vm.showZoomMenu}}},[_vm._v(\"▾\")]),(_vm.showZoomMenu)?_c('div',{staticClass:\"zoom-menu\"},[_c('div',{staticClass:\"zoom-menu-item\",on:{\"click\":function($event){return _vm.updateZoom('Fit')}}},[_vm._v(\"Fit\")]),_c('div',{staticClass:\"zoom-menu-separator\"}),_vm._l((_vm.zoomOptions),function(option){return _c('div',{key:option,staticClass:\"zoom-menu-item\",on:{\"click\":function($event){return _vm.updateZoom(option)}}},[_vm._v(\" \"+_vm._s(option)+\"% \")])})],2):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"neume-button\"},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/agogi-poli-argi.svg\")}})])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { Note, RootSign, TempoSign } from '@/models/Neumes';\nimport Neume from './Neume.vue';\nimport { EntryMode } from '@/models/EntryMode';\n\n@Component({\n  components: {\n    Neume,\n  },\n})\nexport default class MainToolbar extends Vue {\n  @Prop() entryMode!: EntryMode;\n  @Prop() zoom!: number;\n  @Prop() zoomToFit!: boolean;\n  Note = Note;\n  RootSign = RootSign;\n  TempoSign = TempoSign;\n  EntryMode = EntryMode;\n\n  showZoomMenu: boolean = false;\n  showTempoMenu: boolean = false;\n\n  selectedTempoNeume: TempoSign | null = null;\n\n  zoomOptions: number[] = [50, 75, 90, 100, 125, 150, 200];\n\n  get zoomDisplay() {\n    return this.zoomToFit ? 'Fit' : (this.zoom * 100).toFixed(0) + '%';\n  }\n\n  beforeDestroy() {\n    window.removeEventListener('mouseup', this.onTempoMouseUp);\n  }\n\n  updateZoom(value: string) {\n    this.showZoomMenu = false;\n\n    if (value === 'Fit') {\n      this.$emit('update:zoomToFit', true);\n      return;\n    }\n\n    let valueAsNumber = parseInt(value);\n\n    if (Number.isNaN(valueAsNumber)) {\n      valueAsNumber = 100;\n    }\n\n    this.$emit('update:zoom', valueAsNumber / 100);\n\n    this.showZoomMenu = false;\n\n    this.$forceUpdate();\n  }\n\n  openTempoMenu() {\n    this.showTempoMenu = true;\n    window.addEventListener('mouseup', this.onTempoMouseUp);\n  }\n\n  onTempoMouseUp() {\n    if (this.selectedTempoNeume) {\n      this.$emit('add-tempo', this.selectedTempoNeume);\n    }\n\n    this.showTempoMenu = false;\n\n    window.removeEventListener('mouseup', this.onTempoMouseUp);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainToolbar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainToolbar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MainToolbar.vue?vue&type=template&id=2f3de032&scoped=true&\"\nimport script from \"./MainToolbar.vue?vue&type=script&lang=ts&\"\nexport * from \"./MainToolbar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MainToolbar.vue?vue&type=style&index=0&id=2f3de032&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f3de032\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"neume-toolbar\"},[_c('div',{staticClass:\"row\"},[_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setKlasma()}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/time-klasma.svg\")}})]),_c('div',{staticClass:\"menu-container\",on:{\"mousedown\":_vm.openTimeMenu,\"mouseleave\":function($event){_vm.selectedTimeNeume = null}}},[_vm._m(0),(_vm.showTimeMenu)?_c('div',{staticClass:\"menu\"},[_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedTimeNeume = _vm.TimeNeume.Tripli}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/time-tripli.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedTimeNeume = _vm.TimeNeume.Dipli}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/time-dipli.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedTimeNeume = _vm.TimeNeume.Hapli}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/time-apli.svg\")}})])]):_vm._e()]),_c('span',{staticClass:\"space\"}),_c('div',{staticClass:\"menu-container\",on:{\"mousedown\":_vm.openGorgonMenu,\"mouseleave\":function($event){_vm.selectedGorgon = null}}},[_vm._m(1),(_vm.showGorgonMenu)?_c('div',{staticClass:\"menu\"},[_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedGorgon = [_vm.GorgonNeume.GorgonDottedRight]}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/time-gorgon-dotted-right.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedGorgon = [_vm.GorgonNeume.GorgonDottedLeft]}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/time-gorgon-dotted-left.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedGorgon = [\n              _vm.GorgonNeume.Gorgon_Top,\n              _vm.GorgonNeume.Gorgon_Bottom ]}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/time-gorgon.svg\")}})])]):_vm._e()]),_c('div',{staticClass:\"menu-container\",on:{\"mousedown\":_vm.openDigorgonMenu,\"mouseleave\":function($event){_vm.selectedGorgon = null}}},[_vm._m(2),(_vm.showDigorgonMenu)?_c('div',{staticClass:\"menu\"},[_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedGorgon = [_vm.GorgonNeume.DigorgonDottedRight]}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/time-digorgon-dotted-right.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedGorgon = [_vm.GorgonNeume.DigorgonDottedLeft2]}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/time-digorgon-dotted-left-above.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedGorgon = [_vm.GorgonNeume.DigorgonDottedLeft1]}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/time-digorgon-dotted-left-below.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedGorgon = [_vm.GorgonNeume.Digorgon]}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/time-digorgon.svg\")}})])]):_vm._e()]),_c('div',{staticClass:\"menu-container\",on:{\"mousedown\":_vm.openTrigorgonMenu,\"mouseleave\":function($event){_vm.selectedGorgon = null}}},[_vm._m(3),(_vm.showTrigorgonMenu)?_c('div',{staticClass:\"menu\"},[_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedGorgon = [_vm.GorgonNeume.TrigorgonDottedRight]}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/time-trigorgon-dotted-right.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedGorgon = [_vm.GorgonNeume.TrigorgonDottedLeft2]}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/time-trigorgon-dotted-left-above.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedGorgon = [_vm.GorgonNeume.TrigorgonDottedLeft1]}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/time-trigorgon-dotted-left-below.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedGorgon = [_vm.GorgonNeume.Trigorgon]}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/time-trigorgon.svg\")}})])]):_vm._e()]),_c('span',{staticClass:\"space\"}),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.$emit('update:vareia', !_vm.element.vareia)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/quality-vareia.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setVocalExpression(_vm.VocalExpressionNeume.Homalon)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/quality-omalon.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setVocalExpression(_vm.VocalExpressionNeume.HomalonConnecting)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/quality-omalon-connecting.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setVocalExpression(_vm.VocalExpressionNeume.Antikenoma)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/quality-antikenoma.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setVocalExpression(_vm.VocalExpressionNeume.Psifiston)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/quality-psifiston.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setVocalExpression(_vm.VocalExpressionNeume.Heteron)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/quality-heteron.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setVocalExpression(_vm.VocalExpressionNeume.HeteronConnecting)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/quality-heteron-connecting.svg\")}})]),_c('span',{staticClass:\"space\"}),_c('div',{staticClass:\"menu-container\",on:{\"mousedown\":_vm.openFlatMenu,\"mouseleave\":function($event){_vm.selectedFlat = null}}},[_vm._m(4),(_vm.showFlatMenu)?_c('div',{staticClass:\"menu\"},[_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedFlat = _vm.Accidental.Flat_6_Right}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/alteration-yfesis6.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedFlat = _vm.Accidental.Flat_4_Right}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/alteration-yfesis4.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedFlat = _vm.Accidental.Flat_2_Right}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/alteration-yfesis2.svg\")}})])]):_vm._e()]),_c('div',{staticClass:\"menu-container\",on:{\"mousedown\":_vm.openSharpMenu,\"mouseleave\":function($event){_vm.selectedSharp = null}}},[_vm._m(5),(_vm.showSharpMenu)?_c('div',{staticClass:\"menu\"},[_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedSharp = _vm.Accidental.Sharp_6_Left}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/alteration-diesis6.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedSharp = _vm.Accidental.Sharp_4_Left}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/alteration-diesis4.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedSharp = _vm.Accidental.Sharp_2_Left}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/alteration-diesis2.svg\")}})])]):_vm._e()]),_c('span',{staticClass:\"space\"}),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setGorgonNeume([_vm.GorgonNeume.Argon])}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/time-argon.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setGorgonNeume([_vm.GorgonNeume.Hemiolion])}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/time-diargon.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setGorgonNeume([_vm.GorgonNeume.Diargon])}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/time-triargon.svg\")}})]),_c('span',{staticClass:\"space\"}),_c('div',{staticClass:\"menu-container\",on:{\"mousedown\":_vm.openBarLineMenu,\"mouseleave\":function($event){_vm.selectedBarLine = null}}},[_vm._m(6),(_vm.showBarLineMenu)?_c('div',{staticClass:\"menu\"},[_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedBarLine = _vm.MeasureBar.MeasureBarTop}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/barline-short-single.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedBarLine = _vm.MeasureBar.MeasureBarRight}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/barline-single.svg\")}})])]):_vm._e()]),_c('div',{staticClass:\"menu-container\",on:{\"mousedown\":_vm.openMeasureNumberMenu,\"mouseleave\":function($event){_vm.selectedMeasureNumber = null}}},[_vm._m(7),(_vm.showMeasureNumberMenu)?_c('div',{staticClass:\"menu\"},[_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedMeasureNumber = _vm.MeasureNumber.Eight}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/measure-number-8.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedMeasureNumber = _vm.MeasureNumber.Seven}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/measure-number-7.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedMeasureNumber = _vm.MeasureNumber.Six}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/measure-number-6.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedMeasureNumber = _vm.MeasureNumber.Five}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/measure-number-5.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedMeasureNumber = _vm.MeasureNumber.Four}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/measure-number-4.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedMeasureNumber = _vm.MeasureNumber.Three}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/measure-number-3.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedMeasureNumber = _vm.MeasureNumber.Two}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/measure-number-2.svg\")}})])]):_vm._e()]),_c('div',{staticClass:\"menu-container\",on:{\"mousedown\":_vm.openNoteIndicatorMenu,\"mouseleave\":function($event){_vm.selectedNoteIndicator = null}}},[_vm._m(8),(_vm.showNoteIndicatorMenu)?_c('div',{staticClass:\"menu\"},[_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedNoteIndicator = _vm.NoteIndicator.Zo}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/note-zo.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedNoteIndicator = _vm.NoteIndicator.Ke}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/note-ke.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedNoteIndicator = _vm.NoteIndicator.Thi}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/note-di.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedNoteIndicator = _vm.NoteIndicator.Ga}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/note-ga.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedNoteIndicator = _vm.NoteIndicator.Vou}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/note-vou.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedNoteIndicator = _vm.NoteIndicator.Pa}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/note-pa.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedNoteIndicator = _vm.NoteIndicator.Ni}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/note-ni.svg\")}})])]):_vm._e()]),_c('div',{staticClass:\"menu-container\",on:{\"mousedown\":_vm.openIsonMenu,\"mouseleave\":function($event){_vm.selectedIson = null}}},[_vm._m(9),(_vm.showIsonMenu)?_c('div',{staticClass:\"menu\"},[_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedIson = _vm.Ison.ZoHigh}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/ison-zo-high.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedIson = _vm.Ison.Ke}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/ison-ke.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedIson = _vm.Ison.Thi}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/ison-di.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedIson = _vm.Ison.Ga}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/ison-ga.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedIson = _vm.Ison.Vou}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/ison-vou.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedIson = _vm.Ison.Pa}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/ison-pa.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedIson = _vm.Ison.Ni}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/ison-ni.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedIson = _vm.Ison.Zo}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/ison-zo.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedIson = _vm.Ison.KeLow}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/ison-ke-low.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedIson = _vm.Ison.ThiLow}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/ison-di-low.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedIson = _vm.Ison.Unison}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/ison-unison.svg\")}})])]):_vm._e()])]),_c('div',{staticClass:\"row\"},[_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora([_vm.Fthora.DiatonicNiLow_Top, _vm.Fthora.DiatonicNiLow_Bottom])}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-diatonic-ni-low.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora([_vm.Fthora.DiatonicPa_Top, _vm.Fthora.DiatonicPa_Bottom])}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-diatonic-pa.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora([_vm.Fthora.DiatonicVou_Top])}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-diatonic-vou.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora([_vm.Fthora.DiatonicGa_Top])}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-diatonic-ga.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora([_vm.Fthora.DiatonicThi_Top, _vm.Fthora.DiatonicThi_Bottom])}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-diatonic-di.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora([_vm.Fthora.DiatonicKe_Top, _vm.Fthora.DiatonicKe_Bottom])}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-diatonic-ke.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora([_vm.Fthora.DiatonicZo_Top])}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-diatonic-zo.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora([_vm.Fthora.DiatonicNiHigh_Top, _vm.Fthora.DiatonicNiHigh_Bottom])}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-diatonic-ni-high.svg\")}})]),_c('span',{staticClass:\"space\"}),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora([\n          _vm.Fthora.SoftChromaticThi_Top,\n          _vm.Fthora.SoftChromaticThi_Bottom ])}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-soft-chromatic-di.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora([_vm.Fthora.SoftChromaticPa_Top, _vm.Fthora.SoftChromaticPa_Bottom])}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-soft-chromatic-ke.svg\")}})]),_c('span',{staticClass:\"space\"}),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora([_vm.Fthora.HardChromaticPa_Top, _vm.Fthora.HardChromaticPa_Bottom])}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-hard-chromatic-pa.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora([\n          _vm.Fthora.HardChromaticThi_Top,\n          _vm.Fthora.HardChromaticThi_Bottom ])}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-hard-chromatic-di.svg\")}})]),_c('span',{staticClass:\"space\"}),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora([_vm.Fthora.Enharmonic_Top, _vm.Fthora.Enharmonic_Bottom])}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-enharmonic.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora([_vm.Fthora.GeneralFlat_Top, _vm.Fthora.GeneralFlat_Bottom])}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-general-flat.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora([_vm.Fthora.GeneralSharp_Top, _vm.Fthora.GeneralSharp_Bottom])}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-general-sharp.svg\")}})]),_c('span',{staticClass:\"space\"}),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora([_vm.Fthora.Zygos_Top, _vm.Fthora.Zygos_Bottom])}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-zygos.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora([_vm.Fthora.Kliton_Top, _vm.Fthora.Kliton_Bottom])}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-kliton.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora([_vm.Fthora.Spathi_Top])}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-spathi.svg\")}})])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"neume-button\"},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/time-apli.svg\")}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"neume-button\"},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/time-gorgon.svg\")}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"neume-button\"},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/time-digorgon.svg\")}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"neume-button\"},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/time-trigorgon.svg\")}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"neume-button\"},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/alteration-yfesis2.svg\")}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"neume-button\"},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/alteration-diesis2.svg\")}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"neume-button\"},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/barline-single.svg\")}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"neume-button\"},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/measure-number-2.svg\")}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"neume-button\"},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/note-ni.svg\")}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"neume-button\"},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/ison-unison.svg\")}})])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { NoteElement } from '@/models/Element';\nimport {\n  Accidental,\n  Fthora,\n  GorgonNeume,\n  Ison,\n  MeasureBar,\n  MeasureNumber,\n  NoteIndicator,\n  TimeNeume,\n  VocalExpressionNeume,\n} from '@/models/Neumes';\nimport Neume from './Neume.vue';\nimport {\n  areVocalExpressionsEquivalent,\n  onlyTakesTopKlasma,\n  onlyTakesBottomKlasma,\n  onlyTakesTopGorgon,\n} from '@/models/NeumeReplacements';\n\n@Component({\n  components: {\n    Neume,\n  },\n})\nexport default class NeumeToolbar extends Vue {\n  @Prop() element!: NoteElement;\n  Accidental = Accidental;\n  VocalExpressionNeume = VocalExpressionNeume;\n  TimeNeume = TimeNeume;\n  GorgonNeume = GorgonNeume;\n  Fthora = Fthora;\n  MeasureBar = MeasureBar;\n  MeasureNumber = MeasureNumber;\n  NoteIndicator = NoteIndicator;\n  Ison = Ison;\n\n  showFlatMenu: boolean = false;\n  showSharpMenu: boolean = false;\n  showGorgonMenu: boolean = false;\n  showDigorgonMenu: boolean = false;\n  showTrigorgonMenu: boolean = false;\n  showTimeMenu: boolean = false;\n  showBarLineMenu: boolean = false;\n  showMeasureNumberMenu: boolean = false;\n  showNoteIndicatorMenu: boolean = false;\n  showIsonMenu: boolean = false;\n\n  selectedFlat: Accidental | null = null;\n  selectedSharp: Accidental | null = null;\n  selectedGorgon: GorgonNeume[] | null = null;\n  selectedTimeNeume: TimeNeume | null = null;\n  selectedBarLine: MeasureBar | null = null;\n  selectedMeasureNumber: MeasureNumber | null = null;\n  selectedNoteIndicator: NoteIndicator | null = null;\n  selectedIson: Ison | null = null;\n\n  beforeDestroy() {\n    window.removeEventListener('mouseup', this.onFlatMouseUp);\n    window.removeEventListener('mouseup', this.onSharpMouseUp);\n    window.removeEventListener('mouseup', this.onGorgonMouseUp);\n    window.removeEventListener('mouseup', this.onDigorgonMouseUp);\n    window.removeEventListener('mouseup', this.onTrigorgonMouseUp);\n    window.removeEventListener('mouseup', this.onTimeMouseUp);\n    window.removeEventListener('mouseup', this.onBarLineMouseUp);\n    window.removeEventListener('mouseup', this.onMeasureNumberMouseUp);\n    window.removeEventListener('mouseup', this.onNoteIndicatorMouseUp);\n    window.removeEventListener('mouseup', this.onIsonMouseUp);\n  }\n\n  private setAccidental(neume: Accidental) {\n    if (this.element.accidental != null && this.element.accidental === neume) {\n      this.$emit('update:accidental', null);\n    } else {\n      this.$emit('update:accidental', neume);\n    }\n  }\n\n  private setKlasma() {\n    if (onlyTakesBottomKlasma(this.element.quantitativeNeume)) {\n      if (this.element.timeNeume === TimeNeume.Klasma_Bottom) {\n        this.$emit('update:time', null);\n      } else {\n        this.$emit('update:time', TimeNeume.Klasma_Bottom);\n      }\n      return;\n    } else if (onlyTakesTopKlasma(this.element.quantitativeNeume)) {\n      if (this.element.timeNeume === TimeNeume.Klasma_Top) {\n        this.$emit('update:time', null);\n      } else {\n        this.$emit('update:time', TimeNeume.Klasma_Top);\n      }\n      return;\n    } else if (this.element.timeNeume == null) {\n      this.$emit('update:time', TimeNeume.Klasma_Top);\n    } else if (this.element.timeNeume === TimeNeume.Klasma_Top) {\n      this.$emit('update:time', TimeNeume.Klasma_Bottom);\n    } else if (this.element.timeNeume === TimeNeume.Klasma_Bottom) {\n      this.$emit('update:time', null);\n    }\n  }\n\n  private setTimeNeume(neume: TimeNeume) {\n    if (this.element.timeNeume === neume) {\n      this.$emit('update:time', null);\n    } else {\n      this.$emit('update:time', neume);\n    }\n  }\n\n  private setGorgonNeume(neumes: GorgonNeume[]) {\n    let equivalent = false;\n\n    for (let neume of neumes) {\n      if (\n        neume === GorgonNeume.Gorgon_Bottom &&\n        onlyTakesTopGorgon(this.element.quantitativeNeume)\n      ) {\n        continue;\n      }\n\n      // If previous neume was matched, set to the next neume in the cycle\n      if (equivalent) {\n        this.$emit('update:gorgon', neume);\n        return;\n      }\n\n      equivalent = this.element.gorgonNeume === neume;\n    }\n\n    // We've cycled through all the neumes.\n    // If we got to the end of the cycle, remove all\n    // gorgon neumes. Otherwise set gorgon to the first neume\n    // in the cycle.\n    if (equivalent) {\n      this.$emit('update:gorgon', null);\n    } else {\n      this.$emit('update:gorgon', neumes[0]);\n    }\n  }\n\n  private setVocalExpression(neume: VocalExpressionNeume) {\n    if (\n      this.element.vocalExpressionNeume != null &&\n      areVocalExpressionsEquivalent(neume, this.element.vocalExpressionNeume)\n    ) {\n      this.$emit('update:expression', null);\n    } else {\n      this.$emit('update:expression', neume);\n    }\n  }\n\n  private setMeasureBar(neume: MeasureBar) {\n    if (neume === this.element.measureBar) {\n      this.$emit('update:measureBar', null);\n    } else {\n      this.$emit('update:measureBar', neume);\n    }\n  }\n\n  private setMeasureNumber(neume: MeasureNumber) {\n    if (neume === this.element.measureNumber) {\n      this.$emit('update:measureNumber', null);\n    } else {\n      this.$emit('update:measureNumber', neume);\n    }\n  }\n\n  private setNoteIndicator(neume: NoteIndicator) {\n    if (neume === this.element.noteIndicator) {\n      this.$emit('update:noteIndicator', null);\n    } else {\n      this.$emit('update:noteIndicator', neume);\n    }\n  }\n\n  private setIson(neume: Ison) {\n    if (neume === this.element.ison) {\n      this.$emit('update:ison', null);\n    } else {\n      this.$emit('update:ison', neume);\n    }\n  }\n\n  private setFthora(neumes: Fthora[]) {\n    let equivalent = false;\n\n    for (let neume of neumes) {\n      // If previous neume was matched, set to the next neume in the cycle\n      if (equivalent) {\n        this.$emit('update:fthora', neume);\n        return;\n      }\n\n      equivalent = this.element.fthora === neume;\n    }\n\n    // We've cycled through all the neumes.\n    // If we got to the end of the cycle, remove all\n    // fthora neumes. Otherwise set fthora to the first neume\n    // in the cycle.\n    if (equivalent) {\n      this.$emit('update:fthora', null);\n    } else {\n      this.$emit('update:fthora', neumes[0]);\n    }\n  }\n\n  openFlatMenu() {\n    this.showFlatMenu = true;\n    window.addEventListener('mouseup', this.onFlatMouseUp);\n  }\n\n  onFlatMouseUp() {\n    if (this.selectedFlat) {\n      this.setAccidental(this.selectedFlat);\n    }\n\n    this.showFlatMenu = false;\n\n    window.removeEventListener('mouseup', this.onFlatMouseUp);\n  }\n\n  openSharpMenu() {\n    this.showSharpMenu = true;\n    window.addEventListener('mouseup', this.onSharpMouseUp);\n  }\n\n  onSharpMouseUp() {\n    if (this.selectedSharp) {\n      this.setAccidental(this.selectedSharp);\n    }\n\n    this.showSharpMenu = false;\n\n    window.removeEventListener('mouseup', this.onSharpMouseUp);\n  }\n\n  openGorgonMenu() {\n    this.showGorgonMenu = true;\n    window.addEventListener('mouseup', this.onGorgonMouseUp);\n  }\n\n  onGorgonMouseUp() {\n    if (this.selectedGorgon) {\n      this.setGorgonNeume(this.selectedGorgon);\n    }\n\n    this.showGorgonMenu = false;\n\n    window.removeEventListener('mouseup', this.onGorgonMouseUp);\n  }\n\n  openDigorgonMenu() {\n    this.showDigorgonMenu = true;\n    window.addEventListener('mouseup', this.onDigorgonMouseUp);\n  }\n\n  onDigorgonMouseUp() {\n    if (this.selectedGorgon) {\n      this.setGorgonNeume(this.selectedGorgon);\n    }\n\n    this.showDigorgonMenu = false;\n\n    window.removeEventListener('mouseup', this.onDigorgonMouseUp);\n  }\n\n  openTrigorgonMenu() {\n    this.showTrigorgonMenu = true;\n    window.addEventListener('mouseup', this.onTrigorgonMouseUp);\n  }\n\n  onTrigorgonMouseUp() {\n    if (this.selectedGorgon) {\n      this.setGorgonNeume(this.selectedGorgon);\n    }\n\n    this.showTrigorgonMenu = false;\n\n    window.removeEventListener('mouseup', this.onTrigorgonMouseUp);\n  }\n\n  openTimeMenu() {\n    this.showTimeMenu = true;\n    window.addEventListener('mouseup', this.onTimeMouseUp);\n  }\n\n  onTimeMouseUp() {\n    if (this.selectedTimeNeume) {\n      this.setTimeNeume(this.selectedTimeNeume);\n    }\n\n    this.showTimeMenu = false;\n\n    window.removeEventListener('mouseup', this.onTimeMouseUp);\n  }\n\n  openBarLineMenu() {\n    this.showBarLineMenu = true;\n    window.addEventListener('mouseup', this.onBarLineMouseUp);\n  }\n\n  onBarLineMouseUp() {\n    if (this.selectedBarLine) {\n      this.setMeasureBar(this.selectedBarLine);\n    }\n\n    this.showBarLineMenu = false;\n\n    window.removeEventListener('mouseup', this.onBarLineMouseUp);\n  }\n\n  openMeasureNumberMenu() {\n    this.showMeasureNumberMenu = true;\n    window.addEventListener('mouseup', this.onMeasureNumberMouseUp);\n  }\n\n  onMeasureNumberMouseUp() {\n    if (this.selectedMeasureNumber) {\n      this.setMeasureNumber(this.selectedMeasureNumber);\n    }\n\n    this.showMeasureNumberMenu = false;\n\n    window.removeEventListener('mouseup', this.onMeasureNumberMouseUp);\n  }\n\n  openNoteIndicatorMenu() {\n    this.showNoteIndicatorMenu = true;\n    window.addEventListener('mouseup', this.onNoteIndicatorMouseUp);\n  }\n\n  onNoteIndicatorMouseUp() {\n    if (this.selectedNoteIndicator) {\n      this.setNoteIndicator(this.selectedNoteIndicator);\n    }\n\n    this.showNoteIndicatorMenu = false;\n\n    window.removeEventListener('mouseup', this.onNoteIndicatorMouseUp);\n  }\n\n  openIsonMenu() {\n    this.showIsonMenu = true;\n    window.addEventListener('mouseup', this.onIsonMouseUp);\n  }\n\n  onIsonMouseUp() {\n    if (this.selectedIson) {\n      this.setIson(this.selectedIson);\n    }\n\n    this.showIsonMenu = false;\n\n    window.removeEventListener('mouseup', this.onIsonMouseUp);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeumeToolbar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeumeToolbar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NeumeToolbar.vue?vue&type=template&id=5bb7a049&scoped=true&\"\nimport script from \"./NeumeToolbar.vue?vue&type=script&lang=ts&\"\nexport * from \"./NeumeToolbar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NeumeToolbar.vue?vue&type=style&index=0&id=5bb7a049&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bb7a049\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"martyria-toolbar\"},[_c('div',{staticClass:\"row\"},[_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora(_vm.Fthora.DiatonicNiLow_Top)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-diatonic-ni-low.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora(_vm.Fthora.DiatonicPa_Top)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-diatonic-pa.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora(_vm.Fthora.DiatonicVou_Top)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-diatonic-vou.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora(_vm.Fthora.DiatonicGa_Top)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-diatonic-ga.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora(_vm.Fthora.DiatonicThi_Top)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-diatonic-di.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora(_vm.Fthora.DiatonicKe_Top)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-diatonic-ke.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora(_vm.Fthora.DiatonicZo_Top)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-diatonic-zo.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora(_vm.Fthora.DiatonicNiHigh_Top)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-diatonic-ni-high.svg\")}})]),_c('span',{staticClass:\"space\"}),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora(_vm.Fthora.SoftChromaticThi_Top)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-soft-chromatic-di.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora(_vm.Fthora.SoftChromaticPa_Top)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-soft-chromatic-ke.svg\")}})]),_c('span',{staticClass:\"space\"}),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora(_vm.Fthora.HardChromaticPa_Top)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-hard-chromatic-pa.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora(_vm.Fthora.HardChromaticThi_Top)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-hard-chromatic-di.svg\")}})]),_c('span',{staticClass:\"space\"}),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora(_vm.Fthora.Enharmonic_Top)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-enharmonic.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora(_vm.Fthora.GeneralFlat_Top)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-general-flat.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora(_vm.Fthora.GeneralSharp_Top)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-general-sharp.svg\")}})]),_c('span',{staticClass:\"space\"}),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora(_vm.Fthora.Zygos_Top)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-zygos.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora(_vm.Fthora.Kliton_Top)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-kliton.svg\")}})]),_c('button',{staticClass:\"neume-button\",on:{\"click\":function($event){return _vm.setFthora(_vm.Fthora.Spathi_Top)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/fthora-spathi.svg\")}})]),_c('span',{staticClass:\"space\"}),_c('div',{staticClass:\"menu-container\",on:{\"mousedown\":_vm.openBarLineMenu,\"mouseleave\":function($event){_vm.selectedBarLine = null}}},[_vm._m(0),(_vm.showBarLineMenu)?_c('div',{staticClass:\"menu\"},[_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedBarLine = _vm.MeasureBar.MeasureBarTop}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/barline-short-single.svg\")}})]),_c('div',{staticClass:\"menu-item\",on:{\"mouseenter\":function($event){_vm.selectedBarLine = _vm.MeasureBar.MeasureBarRight}}},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/barline-single.svg\")}})])]):_vm._e()]),_c('span',{staticClass:\"space\"}),_c('button',{staticClass:\"icon-btn\",class:{ selected: _vm.element.alignRight },on:{\"click\":function($event){return _vm.$emit('update:alignRight', !_vm.element.alignRight)}}},[_c('img',{staticClass:\"icon-btn-img\",attrs:{\"title\":\"Align martyria to the end of the line\",\"src\":require(\"@/assets/icons/alignright2.svg\"),\"height\":\"24\",\"width\":\"24\"}})]),_c('span',{staticClass:\"space\"}),_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('input',{attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.element.auto},on:{\"change\":function($event){return _vm.$emit('update:auto', $event.target.checked)}}}),_c('label',[_vm._v(\"Auto\")])]),(!_vm.element.auto)?[_c('span',{staticClass:\"space\"}),_c('label',{staticClass:\"right-space\"},[_vm._v(\"Note\")]),_c('select',{domProps:{\"value\":_vm.element.note},on:{\"change\":function($event){return _vm.$emit('update:note', $event.target.value)}}},_vm._l((_vm.notes),function(note){return _c('option',{key:note.key,domProps:{\"value\":note.key}},[_vm._v(\" \"+_vm._s(note.displayName)+\" \")])}),0),_c('span',{staticClass:\"space\"}),_c('label',{staticClass:\"right-space\"},[_vm._v(\"Scale\")]),_c('select',{domProps:{\"value\":_vm.element.scale},on:{\"change\":function($event){return _vm.$emit('update:scale', $event.target.value)}}},_vm._l((_vm.scales),function(scale){return _c('option',{key:scale.key,domProps:{\"value\":scale.key}},[_vm._v(\" \"+_vm._s(scale.displayName)+\" \")])}),0)]:_vm._e()],2)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"neume-button\"},[_c('img',{attrs:{\"draggable\":\"false\",\"src\":require(\"@/assets/icons/barline-single.svg\")}})])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { MartyriaElement } from '@/models/Element';\nimport { Fthora, MeasureBar, Note } from '@/models/Neumes';\nimport Neume from './Neume.vue';\nimport { Scale } from '@/models/Scales';\n\n@Component({\n  components: {\n    Neume,\n  },\n})\nexport default class MartyriaToolbar extends Vue {\n  @Prop() element!: MartyriaElement;\n  Fthora = Fthora;\n  MeasureBar = MeasureBar;\n  Note = Note;\n\n  showBarLineMenu: boolean = false;\n\n  selectedBarLine: MeasureBar | null = null;\n\n  notes = Object.values(Note).map((x) => ({\n    key: x,\n    displayName: this.getNoteDisplayName(x),\n  }));\n\n  scales = Object.values(Scale).map((x) => ({\n    key: x,\n    displayName: this.getScaleDisplayName(x),\n  }));\n\n  private getNoteDisplayName(note: Note) {\n    if (note.includes('High')) {\n      return note.replace('High', ' (High)');\n    } else if (note.includes('Low')) {\n      return note.replace('Low', ' (Low)');\n    }\n\n    return note;\n  }\n\n  private getScaleDisplayName(scale: Scale) {\n    switch (scale) {\n      case Scale.SoftChromatic:\n        return 'Soft Chromatic';\n      case Scale.HardChromatic:\n        return 'Hard Chromatic';\n      case Scale.EnharmonicGa:\n        return 'Enharmonic from Ga';\n      case Scale.EnharmonicZoHigh:\n        return 'Enharmonic from High Zo';\n      case Scale.EnharmonicVou:\n        return 'Enharmonic from Vou';\n      case Scale.EnharmonicVouHigh:\n        return 'Enharmonic from High Vou';\n      default:\n        return scale;\n    }\n  }\n\n  private setFthora(neume: Fthora) {\n    if (this.element.fthora === neume) {\n      this.$emit('update:fthora', null);\n    } else {\n      this.$emit('update:fthora', neume);\n    }\n  }\n\n  private setMeasureBar(neume: MeasureBar) {\n    if (neume === this.element.measureBar) {\n      this.$emit('update:measureBar', null);\n    } else {\n      this.$emit('update:measureBar', neume);\n    }\n  }\n\n  openBarLineMenu() {\n    this.showBarLineMenu = true;\n    window.addEventListener('mouseup', this.onBarLineMouseUp);\n  }\n\n  onBarLineMouseUp() {\n    if (this.selectedBarLine) {\n      this.setMeasureBar(this.selectedBarLine);\n    }\n\n    this.showBarLineMenu = false;\n\n    window.removeEventListener('mouseup', this.onBarLineMouseUp);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MartyriaToolbar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MartyriaToolbar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MartyriaToolbar.vue?vue&type=template&id=5f9d1e89&scoped=true&\"\nimport script from \"./MartyriaToolbar.vue?vue&type=script&lang=ts&\"\nexport * from \"./MartyriaToolbar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MartyriaToolbar.vue?vue&type=style&index=0&id=5f9d1e89&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f9d1e89\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ModalDialog',[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"header\"},[_vm._v(\"Select Mode Key\")]),_c('div',{staticClass:\"pane-container\"},[_c('div',{staticClass:\"left-pane\"},[_c('ul',{staticClass:\"mode-list\"},[_c('li',{class:{ selected: _vm.selectedMode === 1 },on:{\"click\":function($event){return _vm.selectMode(1)}}},[_vm._v(\" First Mode \")]),_c('li',{class:{ selected: _vm.selectedMode === 2 },on:{\"click\":function($event){return _vm.selectMode(2)}}},[_vm._v(\" Second Mode \")]),_c('li',{class:{ selected: _vm.selectedMode === 3 },on:{\"click\":function($event){return _vm.selectMode(3)}}},[_vm._v(\" Third Mode \")]),_c('li',{class:{ selected: _vm.selectedMode === 4 },on:{\"click\":function($event){return _vm.selectMode(4)}}},[_vm._v(\" Fourth Mode \")]),_c('li',{class:{ selected: _vm.selectedMode === 5 },on:{\"click\":function($event){return _vm.selectMode(5)}}},[_vm._v(\" Plagal of the First Mode \")]),_c('li',{class:{ selected: _vm.selectedMode === 6 },on:{\"click\":function($event){return _vm.selectMode(6)}}},[_vm._v(\" Plagal of the Second Mode \")]),_c('li',{class:{ selected: _vm.selectedMode === 7 },on:{\"click\":function($event){return _vm.selectMode(7)}}},[_vm._v(\" Grave Mode \")]),_c('li',{class:{ selected: _vm.selectedMode === 8 },on:{\"click\":function($event){return _vm.selectMode(8)}}},[_vm._v(\" Plagal of the Fourth Mode \")])])]),_c('div',{staticClass:\"right-pane\"},[_c('ul',{staticClass:\"mode-list\"},_vm._l((_vm.modeKeyTemplatesForSelectedMode),function(template,index){return _c('li',{key:index,class:{ selected: _vm.selectedModeKey === template },on:{\"click\":function($event){_vm.selectedModeKey = template}}},[_c('ModeKey',{attrs:{\"element\":template,\"pageSetup\":_vm.pageSetup}})],1)}),0)])]),_c('div',{staticClass:\"button-container\"},[_c('button',{staticClass:\"ok-btn\",attrs:{\"disabled\":_vm.selectedModeKey == null},on:{\"click\":_vm.updateModeKey}},[_vm._v(\" Update \")]),_c('button',{staticClass:\"cancel-btn\",on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(\"Cancel\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Fthora, ModeSign, QuantitativeNeume } from '@/models/Neumes';\nimport { Scale, ScaleNote } from './Scales';\n\nexport interface ModeKeyTemplate {\n  id: number;\n  mode: number;\n  scale: Scale;\n  scaleNote: ScaleNote;\n  martyria: ModeSign;\n  note?: ModeSign;\n  note2?: ModeSign;\n  fthoraAboveNote?: Fthora;\n  fthoraAboveNote2?: Fthora;\n  fthoraAboveQuantitativeNeumeRight?: Fthora;\n  quantitativeNeumeAboveNote?: ModeSign;\n  quantitativeNeumeAboveNote2?: ModeSign;\n  quantitativeNeumeRight?: QuantitativeNeume;\n}\n\nexport const modeKeyTemplates: ModeKeyTemplate[] = [\n  {\n    id: 100,\n    mode: 1,\n    scale: Scale.Diatonic,\n    scaleNote: ScaleNote.Pa,\n    martyria: ModeSign.AlphaWithDeltaHat,\n    note: ModeSign.Pa,\n  },\n  {\n    id: 101,\n    mode: 1,\n    scale: Scale.Diatonic,\n    scaleNote: ScaleNote.Ke,\n    martyria: ModeSign.AlphaWithDeltaHat,\n    note: ModeSign.Ke,\n  },\n  {\n    id: 102,\n    mode: 1,\n    scale: Scale.Diatonic,\n    scaleNote: ScaleNote.Ke,\n    martyria: ModeSign.AlphaWithDeltaHat,\n    note: ModeSign.Pa,\n    quantitativeNeumeRight: QuantitativeNeume.OligonPlusHypsiliRight,\n  },\n  {\n    id: 103,\n    mode: 1,\n    scale: Scale.Diatonic,\n    scaleNote: ScaleNote.Ke,\n    martyria: ModeSign.AlphaWithDeltaHat,\n    note: ModeSign.Ke,\n    fthoraAboveNote: Fthora.SoftChromaticThi_Top,\n  },\n  {\n    id: 104,\n    mode: 1,\n    scale: Scale.Diatonic,\n    scaleNote: ScaleNote.Thi,\n    martyria: ModeSign.AlphaWithDeltaHat,\n    note: ModeSign.Pa,\n    quantitativeNeumeRight: QuantitativeNeume.OligonPlusKentimaAbove,\n  },\n  {\n    id: 200,\n    mode: 2,\n    scale: Scale.SoftChromatic,\n    scaleNote: ScaleNote.Thi,\n    martyria: ModeSign.SoftChromatic2,\n    note: ModeSign.Thi,\n    fthoraAboveNote: Fthora.SoftChromaticThi_Top,\n  },\n  {\n    id: 201,\n    mode: 2,\n    scale: Scale.SoftChromatic,\n    scaleNote: ScaleNote.Vou,\n    martyria: ModeSign.SoftChromatic2,\n    note: ModeSign.Vou,\n    fthoraAboveNote: Fthora.SoftChromaticThi_Top,\n  },\n  {\n    id: 202,\n    mode: 2,\n    scale: Scale.HardChromatic,\n    scaleNote: ScaleNote.Pa,\n    martyria: ModeSign.SoftChromatic2,\n    note: ModeSign.Pa,\n    fthoraAboveNote: Fthora.HardChromaticPa_Top,\n  },\n  {\n    id: 203,\n    mode: 2,\n    scale: Scale.HardChromatic,\n    scaleNote: ScaleNote.Vou,\n    martyria: ModeSign.SoftChromatic2,\n    note: ModeSign.Vou,\n    fthoraAboveNote: Fthora.HardChromaticPa_Top,\n  },\n  {\n    id: 300,\n    mode: 3,\n    scale: Scale.Diatonic,\n    scaleNote: ScaleNote.Ga,\n    martyria: ModeSign.Nana,\n    note: ModeSign.Ga,\n  },\n  {\n    id: 301,\n    mode: 3,\n    scale: Scale.Diatonic,\n    scaleNote: ScaleNote.Ga,\n    martyria: ModeSign.NanaOld,\n    note: ModeSign.Ga,\n  },\n  {\n    id: 302,\n    mode: 3,\n    scale: Scale.Diatonic,\n    scaleNote: ScaleNote.Pa,\n    martyria: ModeSign.Nana,\n    note: ModeSign.Ga,\n    quantitativeNeumeRight: QuantitativeNeume.RunningElaphron,\n  },\n  {\n    id: 303,\n    mode: 3,\n    scale: Scale.Diatonic,\n    scaleNote: ScaleNote.Ga,\n    martyria: ModeSign.Nana,\n    note: ModeSign.Ga,\n    fthoraAboveNote: Fthora.DiatonicNiLow_Top,\n  },\n  {\n    id: 400,\n    mode: 4,\n    scale: Scale.Diatonic,\n    scaleNote: ScaleNote.Thi,\n    martyria: ModeSign.DeltaWithDeltaHat,\n    note: ModeSign.Thi,\n  },\n  {\n    id: 401,\n    mode: 4,\n    scale: Scale.SoftChromatic,\n    scaleNote: ScaleNote.Thi,\n    martyria: ModeSign.DeltaWithDeltaHat,\n    note: ModeSign.Thi,\n    fthoraAboveNote: Fthora.SoftChromaticThi_Top,\n  },\n  {\n    id: 402,\n    mode: 4,\n    scale: Scale.Diatonic,\n    scaleNote: ScaleNote.Pa,\n    martyria: ModeSign.DeltaWithDeltaHat,\n    note: ModeSign.Pa,\n  },\n  {\n    id: 403,\n    mode: 4,\n    scale: Scale.Diatonic,\n    scaleNote: ScaleNote.Vou,\n    martyria: ModeSign.DeltaWithDeltaHat,\n    quantitativeNeumeRight: QuantitativeNeume.RunningElaphron,\n  },\n  {\n    id: 404,\n    mode: 4,\n    scale: Scale.Diatonic,\n    scaleNote: ScaleNote.Vou,\n    martyria: ModeSign.Legetos,\n    note: ModeSign.Vou,\n  },\n  {\n    id: 405,\n    mode: 4,\n    scale: Scale.HardChromatic,\n    scaleNote: ScaleNote.Thi,\n    martyria: ModeSign.DeltaWithDeltaHat,\n    note: ModeSign.Thi,\n    fthoraAboveNote: Fthora.HardChromaticThi_Top,\n  },\n  {\n    id: 406,\n    mode: 4,\n    scale: Scale.Kliton,\n    scaleNote: ScaleNote.Thi,\n    martyria: ModeSign.FourthCapital,\n    note: ModeSign.Thi,\n    fthoraAboveNote: Fthora.Kliton_Top,\n  },\n  {\n    id: 500,\n    mode: 5,\n    scale: Scale.Diatonic,\n    scaleNote: ScaleNote.Pa,\n    martyria: ModeSign.Alpha,\n    note: ModeSign.Pa,\n  },\n  {\n    id: 501,\n    mode: 5,\n    scale: Scale.Diatonic,\n    scaleNote: ScaleNote.Ke,\n    martyria: ModeSign.Alpha,\n    note: ModeSign.Ke,\n    quantitativeNeumeAboveNote: ModeSign.OligonPlusHypsili,\n  },\n  {\n    id: 600,\n    mode: 6,\n    scale: Scale.HardChromatic,\n    scaleNote: ScaleNote.Pa,\n    martyria: ModeSign.SoftChromatic6,\n    note: ModeSign.Pa,\n    fthoraAboveNote: Fthora.HardChromaticPa_Top,\n  },\n  {\n    id: 601,\n    mode: 6,\n    scale: Scale.SoftChromatic,\n    scaleNote: ScaleNote.Vou,\n    martyria: ModeSign.SoftChromatic6,\n    note: ModeSign.Vou,\n    fthoraAboveNote: Fthora.SoftChromaticThi_Top,\n  },\n  {\n    id: 602,\n    mode: 6,\n    scale: Scale.SoftChromatic,\n    scaleNote: ScaleNote.Thi,\n    martyria: ModeSign.SoftChromatic6,\n    note: ModeSign.Vou,\n    fthoraAboveNote: Fthora.SoftChromaticThi_Top,\n    quantitativeNeumeRight: QuantitativeNeume.KentemataPlusOligon,\n  },\n  {\n    id: 603,\n    mode: 6,\n    scale: Scale.HardChromatic,\n    scaleNote: ScaleNote.Thi,\n    martyria: ModeSign.SoftChromatic6,\n    note: ModeSign.Pa,\n    note2: ModeSign.Thi,\n    fthoraAboveNote: Fthora.HardChromaticPa_Top,\n    quantitativeNeumeAboveNote2: ModeSign.OligonPlusKentima,\n  },\n  {\n    id: 700,\n    mode: 7,\n    scale: Scale.Diatonic,\n    scaleNote: ScaleNote.Ga,\n    martyria: ModeSign.VarysZo,\n    note: ModeSign.Ga,\n  },\n  {\n    id: 701,\n    mode: 7,\n    scale: Scale.Diatonic,\n    scaleNote: ScaleNote.Zo,\n    martyria: ModeSign.VarysZo,\n    note: ModeSign.Zo,\n  },\n  {\n    id: 800,\n    mode: 8,\n    scale: Scale.Diatonic,\n    scaleNote: ScaleNote.Ni,\n    martyria: ModeSign.Delta,\n    note: ModeSign.Ni,\n  },\n  {\n    id: 801,\n    mode: 8,\n    scale: Scale.Diatonic,\n    scaleNote: ScaleNote.Ga,\n    martyria: ModeSign.Delta,\n    quantitativeNeumeRight: QuantitativeNeume.OligonPlusKentimaAbove,\n    fthoraAboveQuantitativeNeumeRight: Fthora.DiatonicNiLow_Top,\n  },\n  {\n    id: 802,\n    mode: 8,\n    scale: Scale.Diatonic,\n    scaleNote: ScaleNote.Vou,\n    martyria: ModeSign.Delta,\n    note: ModeSign.Ni,\n    quantitativeNeumeRight: QuantitativeNeume.KentemataPlusOligon,\n  },\n];\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"overlay\"},[_c('div',{staticClass:\"dialog-content\"},[_vm._t(\"default\")],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n\n@Component({\n  components: {},\n})\nexport default class ModalDialog extends Vue {}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModalDialog.vue?vue&type=template&id=4b30b77b&scoped=true&\"\nimport script from \"./ModalDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModalDialog.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ModalDialog.vue?vue&type=style&index=0&id=4b30b77b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b30b77b\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { ModeKeyElement, TextBoxAlignment } from '@/models/Element';\nimport { modeKeyTemplates } from '@/models/ModeKeys';\nimport ModalDialog from '@/components/ModalDialog.vue';\nimport ModeKey from '@/components/ModeKey.vue';\nimport { PageSetup } from '@/models/PageSetup';\n\n@Component({\n  components: { ModalDialog, ModeKey },\n})\nexport default class ModeKeyDialog extends Vue {\n  @Prop() element!: ModeKeyElement;\n  @Prop() pageSetup!: PageSetup;\n  private selectedMode: number | null = null;\n  private selectedModeKey: ModeKeyElement | null = null;\n\n  created() {\n    this.selectMode(this.element.mode);\n\n    window.addEventListener('keydown', this.onKeyDown);\n  }\n\n  beforeDestroy() {\n    window.removeEventListener('keydown', this.onKeyDown);\n  }\n\n  get modeKeyTemplatesForSelectedMode() {\n    return modeKeyTemplates\n      .filter((x) => x.mode === this.selectedMode)\n      .map((x) => ModeKeyElement.createFromTemplate(x, TextBoxAlignment.Left));\n  }\n\n  onKeyDown(event: KeyboardEvent) {\n    if (event.code === 'Escape') {\n      this.$emit('close');\n    }\n  }\n\n  selectMode(mode: number) {\n    this.selectedMode = mode;\n    this.selectedModeKey =\n      this.modeKeyTemplatesForSelectedMode.find(\n        (x) => x.templateId === this.element.templateId,\n      ) || this.modeKeyTemplatesForSelectedMode[0];\n  }\n\n  updateModeKey() {\n    this.$emit('update', this.selectedModeKey);\n    this.$emit('close');\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModeKeyDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModeKeyDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModeKeyDialog.vue?vue&type=template&id=502720fc&scoped=true&\"\nimport script from \"./ModeKeyDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModeKeyDialog.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ModeKeyDialog.vue?vue&type=style&index=0&id=502720fc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"502720fc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ModalDialog',[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"header\"},[_vm._v(\"Page Setup\")]),_c('div',{staticClass:\"pane-container\"},[_c('div',{staticClass:\"left-pane\"},[_c('div',{staticClass:\"subheader\"},[_vm._v(\" Margins \"),_c('span',{staticClass:\"units\"},[_vm._v(\"(\"+_vm._s(_vm.marginUnitLabel)+\")\")])]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"margin-label\"},[_vm._v(\"Top\")]),_c('input',{staticClass:\"margin-input\",attrs:{\"type\":\"number\",\"min\":\"0\",\"step\":_vm.marginStep},domProps:{\"value\":_vm.topMargin},on:{\"change\":function($event){return _vm.updateTopMargin($event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"margin-label\"},[_vm._v(\"Bottom\")]),_c('input',{staticClass:\"margin-input\",attrs:{\"type\":\"number\",\"min\":\"0\",\"step\":_vm.marginStep},domProps:{\"value\":_vm.bottomMargin},on:{\"change\":function($event){return _vm.updateBottomMargin($event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"margin-label\"},[_vm._v(\"Left\")]),_c('input',{staticClass:\"margin-input\",attrs:{\"type\":\"number\",\"min\":\"0\",\"step\":_vm.marginStep},domProps:{\"value\":_vm.leftMargin},on:{\"change\":function($event){return _vm.updateLeftMargin($event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"margin-label\"},[_vm._v(\"Right\")]),_c('input',{staticClass:\"margin-input\",attrs:{\"type\":\"number\",\"min\":\"0\",\"step\":_vm.marginStep},domProps:{\"value\":_vm.rightMargin},on:{\"change\":function($event){return _vm.updateRightMargin($event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"margin-label\"},[_vm._v(\"Header\")]),_c('input',{staticClass:\"margin-input\",attrs:{\"type\":\"number\",\"min\":\"0\",\"step\":_vm.marginStep},domProps:{\"value\":_vm.headerMargin},on:{\"change\":function($event){return _vm.updateHeaderMargin($event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"margin-label\"},[_vm._v(\"Footer\")]),_c('input',{staticClass:\"margin-input\",attrs:{\"type\":\"number\",\"min\":\"0\",\"step\":_vm.marginStep},domProps:{\"value\":_vm.footerMargin},on:{\"change\":function($event){return _vm.updateFooterMargin($event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"subheader\"},[_vm._v(\"Orientation\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.landscape),expression:\"landscape\"}],attrs:{\"id\":\"page-setup-dialog-landscape-false\",\"type\":\"radio\",\"name\":\"landscape\"},domProps:{\"value\":false,\"checked\":!_vm.landscape,\"checked\":_vm._q(_vm.landscape,false)},on:{\"change\":function($event){_vm.landscape=false}}}),_c('label',{attrs:{\"for\":\"page-setup-dialog-landscape-false\"}},[_vm._v(\"Portrait\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.landscape),expression:\"landscape\"}],attrs:{\"id\":\"page-setup-dialog-landscape-true\",\"type\":\"radio\",\"name\":\"landscape\"},domProps:{\"value\":true,\"checked\":_vm.landscape,\"checked\":_vm._q(_vm.landscape,true)},on:{\"change\":function($event){_vm.landscape=true}}}),_c('label',{attrs:{\"for\":\"page-setup-dialog-landscape-true\"}},[_vm._v(\"Landscape\")])]),_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"subheader\"},[_vm._v(\"Paper Size\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pageSize),expression:\"pageSize\"}],staticClass:\"paper-size-select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.pageSize=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.pageSizes),function(size){return _c('option',{key:size.name},[_vm._v(\" \"+_vm._s(size.name)+\" \")])}),0)]),_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"subheader\"},[_vm._v(\"Unit\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.pageSizeUnit),expression:\"form.pageSizeUnit\"}],attrs:{\"id\":\"page-setup-dialog-unit-in\",\"type\":\"radio\",\"name\":\"pageSizeUnit\",\"value\":\"in\"},domProps:{\"checked\":_vm.form.pageSizeUnit === 'in',\"checked\":_vm._q(_vm.form.pageSizeUnit,\"in\")},on:{\"change\":function($event){return _vm.$set(_vm.form, \"pageSizeUnit\", \"in\")}}}),_c('label',{attrs:{\"for\":\"page-setup-dialog-unit-in\"}},[_vm._v(\"inch\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.pageSizeUnit),expression:\"form.pageSizeUnit\"}],attrs:{\"id\":\"page-setup-dialog-unit-mm\",\"type\":\"radio\",\"name\":\"pageSizeUnit\",\"value\":\"mm\"},domProps:{\"checked\":_vm.form.pageSizeUnit === 'mm',\"checked\":_vm._q(_vm.form.pageSizeUnit,\"mm\")},on:{\"change\":function($event){return _vm.$set(_vm.form, \"pageSizeUnit\", \"mm\")}}}),_c('label',{attrs:{\"for\":\"page-setup-dialog-unit-mm\"}},[_vm._v(\"mm\")])]),_c('div',{staticClass:\"subheader\"},[_vm._v(\" Spacing \"),_c('span',{staticClass:\"units\"},[_vm._v(\"(\"+_vm._s(_vm.marginUnitLabel)+\")\")])]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"margin-label\"},[_vm._v(\"Neumes\")]),_c('input',{staticClass:\"margin-input\",attrs:{\"type\":\"number\",\"min\":\"0\",\"step\":_vm.spacingStep},domProps:{\"value\":_vm.neumeSpacing},on:{\"change\":function($event){return _vm.updateNeumeSpacing($event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"margin-label\"},[_vm._v(\"Lyrics\")]),_c('input',{staticClass:\"margin-input\",attrs:{\"type\":\"number\",\"step\":_vm.spacingStep},domProps:{\"value\":_vm.lyricsVerticalOffset},on:{\"change\":function($event){return _vm.updateLyricsVerticalOffset($event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"margin-label\"},[_vm._v(\"Line\")]),_c('input',{staticClass:\"margin-input\",attrs:{\"type\":\"number\",\"min\":\"0\",\"step\":_vm.spacingStep},domProps:{\"value\":_vm.lineHeight},on:{\"change\":function($event){return _vm.updateLineHeight($event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"margin-label\"},[_vm._v(\"Hyphens\")]),_c('input',{staticClass:\"margin-input\",attrs:{\"type\":\"number\",\"min\":\"0\",\"step\":_vm.spacingStep},domProps:{\"value\":_vm.hyphenSpacing},on:{\"change\":function($event){return _vm.updateHyphenSpacing($event.target.value)}}})]),_c('div',{staticClass:\"subheader\"},[_vm._v(\"Headers & Footers\")]),_c('div',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.showHeader),expression:\"form.showHeader\"}],attrs:{\"id\":\"page-setup-dialog-show-header\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.form.showHeader)?_vm._i(_vm.form.showHeader,null)>-1:(_vm.form.showHeader)},on:{\"change\":function($event){var $$a=_vm.form.showHeader,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.form, \"showHeader\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.form, \"showHeader\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.form, \"showHeader\", $$c)}}}}),_c('label',{attrs:{\"for\":\"page-setup-dialog-show-header\"}},[_vm._v(\"Include Header\")])]),_c('div',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.showFooter),expression:\"form.showFooter\"}],attrs:{\"id\":\"page-setup-dialog-show-footer\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.form.showFooter)?_vm._i(_vm.form.showFooter,null)>-1:(_vm.form.showFooter)},on:{\"change\":function($event){var $$a=_vm.form.showFooter,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.form, \"showFooter\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.form, \"showFooter\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.form, \"showFooter\", $$c)}}}}),_c('label',{attrs:{\"for\":\"page-setup-dialog-show-footer\"}},[_vm._v(\"Include Footer\")])]),_c('div',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.headerDifferentFirstPage),expression:\"form.headerDifferentFirstPage\"}],attrs:{\"id\":\"page-setup-dialog-different-first-page\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.form.headerDifferentFirstPage)?_vm._i(_vm.form.headerDifferentFirstPage,null)>-1:(_vm.form.headerDifferentFirstPage)},on:{\"change\":function($event){var $$a=_vm.form.headerDifferentFirstPage,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.form, \"headerDifferentFirstPage\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.form, \"headerDifferentFirstPage\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.form, \"headerDifferentFirstPage\", $$c)}}}}),_c('label',{attrs:{\"for\":\"page-setup-dialog-different-first-page\"}},[_vm._v(\"Different First Page\")])]),_c('div',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.headerDifferentOddEven),expression:\"form.headerDifferentOddEven\"}],attrs:{\"id\":\"page-setup-dialog-different-odd-even\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.form.headerDifferentOddEven)?_vm._i(_vm.form.headerDifferentOddEven,null)>-1:(_vm.form.headerDifferentOddEven)},on:{\"change\":function($event){var $$a=_vm.form.headerDifferentOddEven,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.form, \"headerDifferentOddEven\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.form, \"headerDifferentOddEven\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.form, \"headerDifferentOddEven\", $$c)}}}}),_c('label',{attrs:{\"for\":\"page-setup-dialog-different-odd-even\"}},[_vm._v(\"Different Odd & Even\")])])]),_c('div',{staticClass:\"right-pane\"},[_c('div',{staticClass:\"subheader\"},[_vm._v(\"Drop Caps\")]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"drop-caps-label\"},[_vm._v(\"Color\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.form.dropCapDefaultColor),expression:\"form.dropCapDefaultColor\",modifiers:{\"lazy\":true}}],staticClass:\"drop-caps-input\",attrs:{\"type\":\"color\",\"list\":\"presetDropCapsColors\"},domProps:{\"value\":(_vm.form.dropCapDefaultColor)},on:{\"change\":function($event){return _vm.$set(_vm.form, \"dropCapDefaultColor\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"drop-caps-label\"},[_vm._v(\"Size\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.dropCapDefaultFontSize),expression:\"dropCapDefaultFontSize\",modifiers:{\"lazy\":true}}],staticClass:\"drop-caps-input\",attrs:{\"type\":\"number\",\"min\":\"4\",\"max\":\"100\",\"step\":\"1\"},domProps:{\"value\":(_vm.dropCapDefaultFontSize)},on:{\"change\":function($event){_vm.dropCapDefaultFontSize=$event.target.value}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"drop-caps-label\"},[_vm._v(\"Font\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.dropCapDefaultFontFamily),expression:\"form.dropCapDefaultFontFamily\"}],staticClass:\"drop-caps-select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.form, \"dropCapDefaultFontFamily\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.dropCapFontFamilies),function(family){return _c('option',{key:family},[_vm._v(\" \"+_vm._s(family)+\" \")])}),0)]),_c('div',{staticClass:\"subheader\"},[_vm._v(\"Lyrics\")]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"drop-caps-label\"},[_vm._v(\"Color\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.form.lyricsDefaultColor),expression:\"form.lyricsDefaultColor\",modifiers:{\"lazy\":true}}],staticClass:\"drop-caps-input\",attrs:{\"type\":\"color\",\"list\":\"presetLyricsColors\"},domProps:{\"value\":(_vm.form.lyricsDefaultColor)},on:{\"change\":function($event){return _vm.$set(_vm.form, \"lyricsDefaultColor\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"drop-caps-label\"},[_vm._v(\"Size\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.lyricsDefaultFontSize),expression:\"lyricsDefaultFontSize\",modifiers:{\"lazy\":true}}],staticClass:\"drop-caps-input\",attrs:{\"type\":\"number\",\"min\":\"4\",\"max\":\"100\",\"step\":\"1\"},domProps:{\"value\":(_vm.lyricsDefaultFontSize)},on:{\"change\":function($event){_vm.lyricsDefaultFontSize=$event.target.value}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"drop-caps-label\"},[_vm._v(\"Font\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.lyricsDefaultFontFamily),expression:\"form.lyricsDefaultFontFamily\"}],staticClass:\"drop-caps-select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.form, \"lyricsDefaultFontFamily\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.lyricsFontFamilies),function(family){return _c('option',{key:family},[_vm._v(\" \"+_vm._s(family)+\" \")])}),0)]),_c('div',{staticClass:\"subheader\"},[_vm._v(\"Neumes\")]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"drop-caps-label\"},[_vm._v(\"Color\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.form.neumeDefaultColor),expression:\"form.neumeDefaultColor\",modifiers:{\"lazy\":true}}],staticClass:\"drop-caps-input\",attrs:{\"type\":\"color\",\"list\":\"presetLyricsColors\"},domProps:{\"value\":(_vm.form.neumeDefaultColor)},on:{\"change\":function($event){return _vm.$set(_vm.form, \"neumeDefaultColor\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"drop-caps-label\"},[_vm._v(\"Size\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.neumeDefaultFontSize),expression:\"neumeDefaultFontSize\",modifiers:{\"lazy\":true}}],staticClass:\"drop-caps-input\",attrs:{\"type\":\"number\",\"min\":\"4\",\"max\":\"100\",\"step\":\"1\"},domProps:{\"value\":(_vm.neumeDefaultFontSize)},on:{\"change\":function($event){_vm.neumeDefaultFontSize=$event.target.value}}})]),_c('div',{staticClass:\"subheader\"},[_vm._v(\"Neume Colors\")]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"neume-colors-label\"},[_vm._v(\"Accidentals\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.form.accidentalDefaultColor),expression:\"form.accidentalDefaultColor\",modifiers:{\"lazy\":true}}],staticClass:\"neume-colors-input\",attrs:{\"type\":\"color\",\"list\":\"presetNeumeColors\"},domProps:{\"value\":(_vm.form.accidentalDefaultColor)},on:{\"change\":function($event){return _vm.$set(_vm.form, \"accidentalDefaultColor\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"neume-colors-label\"},[_vm._v(\"Fthoras\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.form.fthoraDefaultColor),expression:\"form.fthoraDefaultColor\",modifiers:{\"lazy\":true}}],staticClass:\"neume-colors-input\",attrs:{\"type\":\"color\",\"list\":\"presetNeumeColors\"},domProps:{\"value\":(_vm.form.fthoraDefaultColor)},on:{\"change\":function($event){return _vm.$set(_vm.form, \"fthoraDefaultColor\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"neume-colors-label\"},[_vm._v(\"Gorgons\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.form.gorgonDefaultColor),expression:\"form.gorgonDefaultColor\",modifiers:{\"lazy\":true}}],staticClass:\"neume-colors-input\",attrs:{\"type\":\"color\",\"list\":\"presetNeumeColors\"},domProps:{\"value\":(_vm.form.gorgonDefaultColor)},on:{\"change\":function($event){return _vm.$set(_vm.form, \"gorgonDefaultColor\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"neume-colors-label\"},[_vm._v(\"Heterons\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.form.heteronDefaultColor),expression:\"form.heteronDefaultColor\",modifiers:{\"lazy\":true}}],staticClass:\"neume-colors-input\",attrs:{\"type\":\"color\",\"list\":\"presetNeumeColors\"},domProps:{\"value\":(_vm.form.heteronDefaultColor)},on:{\"change\":function($event){return _vm.$set(_vm.form, \"heteronDefaultColor\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"neume-colors-label\"},[_vm._v(\"Ison\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.form.isonDefaultColor),expression:\"form.isonDefaultColor\",modifiers:{\"lazy\":true}}],staticClass:\"neume-colors-input\",attrs:{\"type\":\"color\",\"list\":\"presetNeumeColors\"},domProps:{\"value\":(_vm.form.isonDefaultColor)},on:{\"change\":function($event){return _vm.$set(_vm.form, \"isonDefaultColor\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"neume-colors-label\"},[_vm._v(\"Martyrias\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.form.martyriaDefaultColor),expression:\"form.martyriaDefaultColor\",modifiers:{\"lazy\":true}}],staticClass:\"neume-colors-input\",attrs:{\"type\":\"color\",\"list\":\"presetNeumeColors\"},domProps:{\"value\":(_vm.form.martyriaDefaultColor)},on:{\"change\":function($event){return _vm.$set(_vm.form, \"martyriaDefaultColor\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"neume-colors-label\"},[_vm._v(\"Measure Bars\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.form.measureBarDefaultColor),expression:\"form.measureBarDefaultColor\",modifiers:{\"lazy\":true}}],staticClass:\"neume-colors-input\",attrs:{\"type\":\"color\",\"list\":\"presetNeumeColors\"},domProps:{\"value\":(_vm.form.measureBarDefaultColor)},on:{\"change\":function($event){return _vm.$set(_vm.form, \"measureBarDefaultColor\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"neume-colors-label\"},[_vm._v(\"Measure No.\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.form.measureNumberDefaultColor),expression:\"form.measureNumberDefaultColor\",modifiers:{\"lazy\":true}}],staticClass:\"neume-colors-input\",attrs:{\"type\":\"color\",\"list\":\"presetNeumeColors\"},domProps:{\"value\":(_vm.form.measureNumberDefaultColor)},on:{\"change\":function($event){return _vm.$set(_vm.form, \"measureNumberDefaultColor\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"neume-colors-label\"},[_vm._v(\"Note Indicators\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.form.noteIndicatorDefaultColor),expression:\"form.noteIndicatorDefaultColor\",modifiers:{\"lazy\":true}}],staticClass:\"neume-colors-input\",attrs:{\"type\":\"color\",\"list\":\"presetNeumeColors\"},domProps:{\"value\":(_vm.form.noteIndicatorDefaultColor)},on:{\"change\":function($event){return _vm.$set(_vm.form, \"noteIndicatorDefaultColor\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"neume-colors-label\"},[_vm._v(\"Tempos\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.form.tempoDefaultColor),expression:\"form.tempoDefaultColor\",modifiers:{\"lazy\":true}}],staticClass:\"neume-colors-input\",attrs:{\"type\":\"color\",\"list\":\"presetNeumeColors\"},domProps:{\"value\":(_vm.form.tempoDefaultColor)},on:{\"change\":function($event){return _vm.$set(_vm.form, \"tempoDefaultColor\", $event.target.value)}}})])])]),_c('div',{staticClass:\"button-container\"},[_c('button',{staticClass:\"ok-btn\",on:{\"click\":_vm.updatePageSetup}},[_vm._v(\"Update\")]),_c('button',{staticClass:\"reset-btn neutral-btn\",on:{\"click\":_vm.resetToDefaults}},[_vm._v(\" Reset to Defaults \")]),_c('button',{staticClass:\"cancel-btn\",on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(\"Cancel\")])]),_c('datalist',{attrs:{\"id\":\"presetDropCapsColors\"}},[_c('option',[_vm._v(\"#000000\")]),_c('option',[_vm._v(\"#ED0000\")]),_c('option',[_vm._v(\"#0000FF\")])]),_c('datalist',{attrs:{\"id\":\"presetNeumeColors\"}},[_c('option',[_vm._v(\"#000000\")]),_c('option',[_vm._v(\"#ED0000\")])]),_c('datalist',{attrs:{\"id\":\"presetLyricsColors\"}},[_c('option',[_vm._v(\"#000000\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport ModalDialog from '@/components/ModalDialog.vue';\nimport { PageSetup, PageSize, pageSizes } from '@/models/PageSetup';\nimport { Unit } from '@/utils/Unit';\n\n@Component({\n  components: { ModalDialog },\n})\nexport default class PageSetupDialog extends Vue {\n  @Prop() pageSetup!: PageSetup;\n  @Prop() fonts!: string[];\n  private form: PageSetup = new PageSetup();\n\n  get dropCapFontFamilies() {\n    return ['Athonite', 'Omega', 'PFGoudyInitials', ...this.fonts];\n  }\n\n  get lyricsFontFamilies() {\n    return ['Omega', ...this.fonts];\n  }\n\n  created() {\n    Object.assign(this.form, this.pageSetup);\n\n    window.addEventListener('keydown', this.onKeyDown);\n  }\n\n  beforeDestroy() {\n    window.removeEventListener('keydown', this.onKeyDown);\n  }\n\n  get pageSizes() {\n    return pageSizes;\n  }\n\n  get pageSize() {\n    return this.form.pageSize;\n  }\n\n  set pageSize(value: PageSize) {\n    this.form.pageSize = value;\n\n    this.updatePageSize();\n  }\n\n  get landscape() {\n    return this.form.landscape;\n  }\n\n  set landscape(value: boolean) {\n    this.form.landscape = value;\n    this.updatePageSize();\n  }\n\n  get marginUnitLabel() {\n    switch (this.form.pageSizeUnit) {\n      case 'mm':\n        return 'mm';\n      case 'in':\n        return 'inches';\n      default:\n        console.warn(`Unknown page size unit: ${this.form.pageSizeUnit}`);\n        return null;\n    }\n  }\n\n  get marginStep() {\n    switch (this.form.pageSizeUnit) {\n      case 'mm':\n        return 1;\n      case 'in':\n        return 0.5;\n      default:\n        console.warn(`Unknown page size unit: ${this.form.pageSizeUnit}`);\n        return 1;\n    }\n  }\n\n  get spacingStep() {\n    switch (this.form.pageSizeUnit) {\n      case 'mm':\n        return 0.1;\n      case 'in':\n        return 0.005;\n      default:\n        console.warn(`Unknown page size unit: ${this.form.pageSizeUnit}`);\n        return 1;\n    }\n  }\n\n  toDisplayUnit(value: number) {\n    switch (this.form.pageSizeUnit) {\n      case 'mm':\n        return Unit.toMm(value);\n      case 'in':\n        return Unit.toInch(value);\n      default:\n        console.warn(`Unknown page size unit: ${this.form.pageSizeUnit}`);\n        return 0;\n    }\n  }\n\n  toStorageUnit(value: number) {\n    switch (this.form.pageSizeUnit) {\n      case 'mm':\n        return Unit.fromMm(value);\n      case 'in':\n        return Unit.fromInch(value);\n      default:\n        console.warn(`Unknown page size unit: ${this.form.pageSizeUnit}`);\n        return 0;\n    }\n  }\n\n  get topMargin() {\n    return this.toDisplayUnit(this.form!.topMargin).toFixed(2);\n  }\n\n  updateTopMargin(value: number) {\n    this.form!.topMargin = Math.min(\n      Math.max(this.toStorageUnit(value), 0),\n      this.form!.pageHeight - this.form!.bottomMargin - Unit.fromInch(0.5),\n    );\n\n    this.$forceUpdate();\n  }\n\n  get bottomMargin() {\n    return this.toDisplayUnit(this.form!.bottomMargin).toFixed(2);\n  }\n\n  updateBottomMargin(value: number) {\n    this.form!.bottomMargin = Math.min(\n      Math.max(this.toStorageUnit(value), 0),\n      this.form!.pageHeight - this.form!.topMargin - Unit.fromInch(0.5),\n    );\n\n    this.$forceUpdate();\n  }\n\n  get leftMargin() {\n    return this.toDisplayUnit(this.form!.leftMargin).toFixed(2);\n  }\n\n  updateLeftMargin(value: number) {\n    this.form!.leftMargin = Math.min(\n      Math.max(this.toStorageUnit(value), 0),\n      this.form!.pageWidth - this.form!.rightMargin - Unit.fromInch(0.5),\n    );\n\n    this.$forceUpdate();\n  }\n\n  get rightMargin() {\n    return this.toDisplayUnit(this.form!.rightMargin).toFixed(2);\n  }\n\n  updateRightMargin(value: number) {\n    this.form!.rightMargin = Math.min(\n      Math.max(this.toStorageUnit(value), 0),\n      this.form!.pageWidth - this.form!.leftMargin - Unit.fromInch(0.5),\n    );\n\n    this.$forceUpdate();\n  }\n\n  get headerMargin() {\n    return this.toDisplayUnit(this.form!.headerMargin).toFixed(2);\n  }\n\n  updateHeaderMargin(value: number) {\n    this.form!.headerMargin = Math.min(\n      Math.max(this.toStorageUnit(value), 0),\n      this.form!.innerPageHeight,\n    );\n\n    this.$forceUpdate();\n  }\n\n  get footerMargin() {\n    return this.toDisplayUnit(this.form!.footerMargin).toFixed(2);\n  }\n\n  updateFooterMargin(value: number) {\n    this.form!.footerMargin = Math.min(\n      Math.max(this.toStorageUnit(value), 0),\n      this.form!.innerPageHeight,\n    );\n\n    this.$forceUpdate();\n  }\n\n  get neumeSpacing() {\n    return this.toDisplayUnit(this.form!.neumeDefaultSpacing).toFixed(3);\n  }\n\n  updateNeumeSpacing(value: number) {\n    this.form!.neumeDefaultSpacing = Math.min(\n      Math.max(this.toStorageUnit(value), 0),\n      this.form!.pageWidth,\n    );\n\n    this.$forceUpdate();\n  }\n\n  get lyricsVerticalOffset() {\n    return this.toDisplayUnit(this.form!.lyricsVerticalOffset).toFixed(3);\n  }\n\n  updateLyricsVerticalOffset(value: number) {\n    this.form!.lyricsVerticalOffset = Math.min(\n      this.toStorageUnit(value),\n      this.form!.innerPageHeight -\n        this.form.lyricsDefaultFontSize -\n        this.form.neumeDefaultFontSize,\n    );\n\n    this.$forceUpdate();\n  }\n\n  get lineHeight() {\n    return this.toDisplayUnit(this.form!.lineHeight).toFixed(3);\n  }\n\n  get hyphenSpacing() {\n    return this.toDisplayUnit(this.form!.hyphenSpacing).toFixed(3);\n  }\n\n  updateLineHeight(value: number) {\n    this.form!.lineHeight = Math.min(\n      Math.max(this.toStorageUnit(value), 0),\n      this.form!.innerPageHeight,\n    );\n\n    this.$forceUpdate();\n  }\n\n  updateHyphenSpacing(value: number) {\n    this.form!.hyphenSpacing = Math.min(\n      Math.max(this.toStorageUnit(value), 0),\n      this.form!.innerPageWidth,\n    );\n\n    this.$forceUpdate();\n  }\n\n  private get dropCapDefaultFontSize() {\n    return Unit.toPt(this.form!.dropCapDefaultFontSize);\n  }\n\n  private set dropCapDefaultFontSize(value: number) {\n    // Round to nearest 0.5\n    const valueRounded = Math.round(value * 2) / 2;\n\n    this.form!.dropCapDefaultFontSize = Math.min(\n      Math.max(Unit.fromPt(valueRounded), Unit.fromPt(4)),\n      Unit.fromPt(100),\n    );\n\n    this.$forceUpdate();\n  }\n\n  private get lyricsDefaultFontSize() {\n    return Unit.toPt(this.form!.lyricsDefaultFontSize);\n  }\n\n  private set lyricsDefaultFontSize(value: number) {\n    // Round to nearest 0.5\n    const valueRounded = Math.round(value * 2) / 2;\n\n    this.form!.lyricsDefaultFontSize = Math.min(\n      Math.max(Unit.fromPt(valueRounded), Unit.fromPt(4)),\n      Unit.fromPt(100),\n    );\n\n    this.$forceUpdate();\n  }\n\n  private get neumeDefaultFontSize() {\n    return Unit.toPt(this.form!.neumeDefaultFontSize);\n  }\n\n  private set neumeDefaultFontSize(value: number) {\n    // Round to nearest 0.5\n    const valueRounded = Math.round(value * 2) / 2;\n\n    this.form!.neumeDefaultFontSize = Math.min(\n      Math.max(Unit.fromPt(valueRounded), Unit.fromPt(4)),\n      Unit.fromPt(100),\n    );\n\n    this.$forceUpdate();\n  }\n\n  onKeyDown(event: KeyboardEvent) {\n    if (event.code === 'Escape') {\n      this.$emit('close');\n    }\n  }\n\n  updatePageSize() {\n    const pageSize = pageSizes.find((x) => x.name === this.form.pageSize);\n    if (pageSize) {\n      if (this.form.landscape) {\n        this.form.pageWidth = pageSize.height;\n        this.form.pageHeight = pageSize.width;\n      } else {\n        this.form.pageWidth = pageSize.width;\n        this.form.pageHeight = pageSize.height;\n      }\n    }\n  }\n\n  updatePageSetup() {\n    this.$emit('update', this.form);\n    this.$emit('close');\n  }\n\n  resetToDefaults() {\n    this.form = new PageSetup();\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageSetupDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageSetupDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PageSetupDialog.vue?vue&type=template&id=3795c613&scoped=true&\"\nimport script from \"./PageSetupDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./PageSetupDialog.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PageSetupDialog.vue?vue&type=style&index=0&id=3795c613&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3795c613\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-menu-bar\",attrs:{\"tabindex\":\"-1\"},on:{\"focusout\":function($event){_vm.isMenuOpen = false}}},[_c('FileMenuBarItem',{attrs:{\"label\":\"File\",\"isOpen\":_vm.isMenuOpen && _vm.selectedMenu === 'File'},on:{\"click\":_vm.toggleMenu,\"mouseenter\":function($event){_vm.selectedMenu = 'File'}}},[_c('FileMenuItem',{attrs:{\"label\":\"New\"},on:{\"click\":_vm.onClickNew}}),_c('FileMenuItem',{attrs:{\"label\":\"Open\"},on:{\"click\":_vm.onClickOpen}}),_c('FileMenuItem',{attrs:{\"label\":\"Save\"},on:{\"click\":_vm.onClickSave}}),_c('div',{staticClass:\"separator\"}),_c('FileMenuItem',{attrs:{\"label\":\"Page Setup\"},on:{\"click\":_vm.onClickPageSetup}})],1),_c('FileMenuBarItem',{attrs:{\"label\":\"Edit\",\"isOpen\":_vm.isMenuOpen && _vm.selectedMenu === 'Edit'},on:{\"click\":_vm.toggleMenu,\"mouseenter\":function($event){_vm.selectedMenu = 'Edit'}}},[_c('FileMenuItem',{attrs:{\"label\":\"Undo\"},on:{\"click\":_vm.onClickUndo}}),_c('FileMenuItem',{attrs:{\"label\":\"Redo\"},on:{\"click\":_vm.onClickRedo}}),_c('div',{staticClass:\"separator\"}),_c('FileMenuItem',{attrs:{\"label\":\"Cut\"},on:{\"click\":_vm.onClickCut}}),_c('FileMenuItem',{attrs:{\"label\":\"Copy\"},on:{\"click\":_vm.onClickCopy}}),_c('FileMenuItem',{attrs:{\"label\":\"Paste\"},on:{\"click\":_vm.onClickPaste}})],1),_c('FileMenuBarItem',{attrs:{\"label\":\"Insert\",\"isOpen\":_vm.isMenuOpen && _vm.selectedMenu === 'Insert'},on:{\"click\":_vm.toggleMenu,\"mouseenter\":function($event){_vm.selectedMenu = 'Insert'}}},[_c('FileMenuItem',{attrs:{\"label\":\"Drop Cap\"},on:{\"click\":_vm.onClickAddDropCap}}),_c('FileMenuItem',{attrs:{\"label\":\"Text Box\"},on:{\"click\":_vm.onClickAddTextBox}}),_c('FileMenuItem',{attrs:{\"label\":\"Inline Text Box\"},on:{\"click\":_vm.onClickAddInlineTextBox}}),_c('FileMenuItem',{attrs:{\"label\":\"Mode Key\"},on:{\"click\":_vm.onClickAddModeKey}}),_c('div',{staticClass:\"separator\"}),_c('FileMenuItem',{attrs:{\"label\":\"Header\"},on:{\"click\":_vm.onClickAddHeader}}),_c('FileMenuItem',{attrs:{\"label\":\"Footer\"},on:{\"click\":_vm.onClickAddFooter}})],1),_c('FileMenuBarItem',{attrs:{\"label\":\"Help\",\"isOpen\":_vm.isMenuOpen && _vm.selectedMenu === 'Help'},on:{\"click\":_vm.toggleMenu,\"mouseenter\":function($event){_vm.selectedMenu = 'Help'}}},[_c('FileMenuItem',{attrs:{\"label\":\"Guide\"},on:{\"click\":_vm.onClickGuide}}),_c('div',{staticClass:\"separator\"}),_c('FileMenuItem',{attrs:{\"label\":\"Request a Feature\"},on:{\"click\":_vm.onClickRequestFeature}}),_c('FileMenuItem',{attrs:{\"label\":\"Report an Issue\"},on:{\"click\":_vm.onClickReportIssue}}),_c('div',{staticClass:\"separator\"}),_c('FileMenuItem',{attrs:{\"label\":\"About\"},on:{\"click\":_vm.onClickAbout}})],1),(!_vm.isChrome)?_c('div',{staticClass:\"browser-warning\"},[_vm._v(\" Warning: This application works best in Chromium-based browsers. You may experience reduced functionality or errors in non-Chromium-based browsers. \")]):_vm._e(),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"file\",attrs:{\"type\":\"file\",\"accept\":_vm.accept},on:{\"change\":_vm.onSelectFile}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-menu-bar-item\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.$emit('click')},\"mouseenter\":function($event){return _vm.$emit('mouseenter')}}},[_vm._v(\" \"+_vm._s(_vm.label)+\" \"),(_vm.isOpen)?_c('div',{staticClass:\"file-menu-item-container\"},[_vm._t(\"default\")],2):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n\n@Component\nexport default class FileMenuBarItem extends Vue {\n  @Prop() label!: string;\n  @Prop() isOpen!: boolean;\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileMenuBarItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileMenuBarItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FileMenuBarItem.vue?vue&type=template&id=5dc5a2e0&scoped=true&\"\nimport script from \"./FileMenuBarItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./FileMenuBarItem.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FileMenuBarItem.vue?vue&type=style&index=0&id=5dc5a2e0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5dc5a2e0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-menu-item\",on:{\"click\":function($event){return _vm.$emit('click')}}},[_vm._v(\" \"+_vm._s(_vm.label)+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n\n@Component\nexport default class FileMenuItem extends Vue {\n  @Prop() label!: string;\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileMenuItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileMenuItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FileMenuItem.vue?vue&type=template&id=cca86baa&scoped=true&\"\nimport script from \"./FileMenuItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./FileMenuItem.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FileMenuItem.vue?vue&type=style&index=0&id=cca86baa&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cca86baa\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport FileMenuBarItem from '@/components/FileMenuBarItem.vue';\nimport FileMenuItem from '@/components/FileMenuItem.vue';\nimport { EventBus } from '@/eventBus';\nimport {\n  FileMenuInsertTextboxArgs,\n  FileMenuOpenScoreArgs,\n  IpcMainChannels,\n} from '@/ipc/ipcChannels';\nimport JSZip from 'jszip';\n\n@Component({\n  components: {\n    FileMenuBarItem,\n    FileMenuItem,\n  },\n})\nexport default class FileMenuBar extends Vue {\n  private isMenuOpen = false;\n  private selectedMenu = '';\n  private accept = '.byz,.byzx';\n  private isChrome = (window as any).chrome != null;\n\n  private get fileSelector() {\n    return this.$refs.file as HTMLInputElement;\n  }\n\n  mounted() {\n    // If using the browser, then we need to hook into the key down\n    // to listen for Ctrl+O for oven, Ctrl+S for save, etc.\n    window.addEventListener('keydown', this.onKeyDown);\n  }\n\n  beforeDestroy() {\n    window.removeEventListener('keydown', this.onKeyDown);\n  }\n\n  onKeyDown(event: KeyboardEvent) {\n    if (event.ctrlKey || event.metaKey) {\n      if (event.code === 'KeyO') {\n        this.onClickOpen();\n        event.preventDefault();\n        return;\n      } else if (event.code === 'KeyS') {\n        this.onClickSave();\n        event.preventDefault();\n        return;\n      } else if (event.code === 'KeyN') {\n        // Note: this doesn't actually work in Chrome.\n        // Chrome prevents you from capturing Ctrl+N.\n        this.onClickNew();\n        event.preventDefault();\n        return;\n      }\n    }\n  }\n\n  toggleMenu() {\n    this.isMenuOpen = !this.isMenuOpen;\n  }\n\n  onClickNew() {\n    EventBus.$emit(IpcMainChannels.FileMenuNewScore);\n    this.isMenuOpen = false;\n  }\n\n  onClickOpen() {\n    this.fileSelector.click();\n    this.isMenuOpen = false;\n  }\n\n  onClickSave() {\n    EventBus.$emit(IpcMainChannels.FileMenuSaveAs);\n    this.isMenuOpen = false;\n  }\n\n  onClickPageSetup() {\n    EventBus.$emit(IpcMainChannels.FileMenuPageSetup);\n    this.isMenuOpen = false;\n  }\n\n  async onSelectFile() {\n    const files = this.fileSelector.files!;\n\n    if (files.length > 0) {\n      var file = files[0];\n\n      if (file.name.endsWith('.byz')) {\n        const zip = await JSZip.loadAsync(file);\n        const data = await zip.file(/\\.(byzx)$/)[0].async('text');\n\n        EventBus.$emit(IpcMainChannels.FileMenuOpenScore, {\n          data,\n          filePath: file.name,\n          success: true,\n        } as FileMenuOpenScoreArgs);\n\n        // Reset the selector so that if the user selects\n        // the same file twice, it will load\n        this.fileSelector.value = '';\n      } else {\n        var reader = new FileReader();\n\n        reader.onload = () => {\n          EventBus.$emit(IpcMainChannels.FileMenuOpenScore, {\n            data: reader.result as string,\n            filePath: file.name,\n            success: true,\n          } as FileMenuOpenScoreArgs);\n\n          // Reset the selector so that if the user selects\n          // the same file twice, it will load\n          this.fileSelector.value = '';\n        };\n\n        reader.readAsText(file);\n      }\n    }\n  }\n\n  onClickCut() {\n    EventBus.$emit(IpcMainChannels.FileMenuCut);\n    this.isMenuOpen = false;\n  }\n\n  onClickCopy() {\n    EventBus.$emit(IpcMainChannels.FileMenuCopy);\n    this.isMenuOpen = false;\n  }\n\n  onClickPaste() {\n    EventBus.$emit(IpcMainChannels.FileMenuPaste);\n    this.isMenuOpen = false;\n  }\n\n  onClickUndo() {\n    EventBus.$emit(IpcMainChannels.FileMenuUndo);\n    this.isMenuOpen = false;\n  }\n\n  onClickRedo() {\n    EventBus.$emit(IpcMainChannels.FileMenuRedo);\n    this.isMenuOpen = false;\n  }\n\n  onClickAddTextBox() {\n    EventBus.$emit(IpcMainChannels.FileMenuInsertTextBox, {\n      inline: false,\n    } as FileMenuInsertTextboxArgs);\n    this.isMenuOpen = false;\n  }\n\n  onClickAddInlineTextBox() {\n    EventBus.$emit(IpcMainChannels.FileMenuInsertTextBox, {\n      inline: true,\n    } as FileMenuInsertTextboxArgs);\n    this.isMenuOpen = false;\n  }\n\n  onClickAddModeKey() {\n    EventBus.$emit(IpcMainChannels.FileMenuInsertModeKey);\n    this.isMenuOpen = false;\n  }\n\n  onClickAddDropCap() {\n    EventBus.$emit(IpcMainChannels.FileMenuInsertDropCap);\n    this.isMenuOpen = false;\n  }\n\n  onClickAddHeader() {\n    EventBus.$emit(IpcMainChannels.FileMenuInsertHeader);\n    this.isMenuOpen = false;\n  }\n\n  onClickAddFooter() {\n    EventBus.$emit(IpcMainChannels.FileMenuInsertFooter);\n    this.isMenuOpen = false;\n  }\n\n  onClickAbout() {\n    alert(`Neanes\\nVersion: ${process.env.VUE_APP_VERSION}`);\n    this.isMenuOpen = false;\n  }\n\n  onClickGuide() {\n    window.open(process.env.VUE_APP_GUIDE_URL, '_blank');\n    this.isMenuOpen = false;\n  }\n\n  onClickRequestFeature() {\n    window.open(process.env.VUE_APP_ISSUES_URL, '_blank');\n    this.isMenuOpen = false;\n  }\n\n  onClickReportIssue() {\n    window.open(process.env.VUE_APP_ISSUES_URL, '_blank');\n    this.isMenuOpen = false;\n  }\n}\n","export enum TestFileType {\n  FthoraTop = 'FthoraTop',\n  FthoraBottom = 'FthoraBottom',\n  Gorgon = 'Gorgon',\n  Klasma = 'Klasma',\n  Hapli = 'Hapli',\n  Accidentals = 'Accidentals',\n  Expressions = 'Expressions',\n  Measures = 'Measures',\n  NoteIndicators = 'NoteIndicators',\n  Ison = 'Ison',\n  ModeKey = 'ModeKey',\n  Random = 'Random',\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileMenuBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileMenuBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FileMenuBar.vue?vue&type=template&id=be79c866&scoped=true&\"\nimport script from \"./FileMenuBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./FileMenuBar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FileMenuBar.vue?vue&type=style&index=0&id=be79c866&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"be79c866\",\n  null\n  \n)\n\nexport default component.exports","import { ModeKeyElement, NoteElement, ScoreElement } from '@/models/Element';\nimport { modeKeyTemplates } from '@/models/ModeKeys';\nimport {\n  Fthora,\n  QuantitativeNeume,\n  TimeNeume,\n  GorgonNeume,\n  Accidental,\n  VocalExpressionNeume,\n  MeasureNumber,\n  NoteIndicator,\n  Ison,\n} from '@/models/Neumes';\nimport { TestFileType } from './TestFileType';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport abstract class TestFileGenerator {\n  public static generateTestFile(type: TestFileType) {\n    switch (type) {\n      case TestFileType.FthoraTop:\n        return this.generateTestFile_Fthora('Top');\n      case TestFileType.FthoraBottom:\n        return this.generateTestFile_Fthora('Bottom');\n      case TestFileType.Gorgon:\n        return this.generateTestFile_Gorgon();\n      case TestFileType.Klasma:\n        return this.generateTestFile_Klasma();\n      case TestFileType.Hapli:\n        return this.generateTestFile_Hapli();\n      case TestFileType.Accidentals:\n        return this.generateTestFile_Accidentals();\n      case TestFileType.Expressions:\n        return this.generateTestFile_Expressions();\n      case TestFileType.Measures:\n        return this.generateTestFile_Measures();\n      case TestFileType.NoteIndicators:\n        return this.generateTestFile_NoteIndicators();\n      case TestFileType.Ison:\n        return this.generateTestFile_Isons();\n      case TestFileType.ModeKey:\n        return this.generateTestFile_ModeKey();\n      case TestFileType.Random:\n        return this.generateTestFile_Random();\n      default:\n        console.error(`Unknown test file type: ${type}`);\n        return null;\n    }\n  }\n\n  private static generateTestFile_Fthora(endsWith: string) {\n    const elements: ScoreElement[] = [];\n\n    let counter = 1;\n\n    for (let q in QuantitativeNeume) {\n      const quantitativeNeume = q as QuantitativeNeume;\n      if (\n        [\n          QuantitativeNeume.VareiaDotted,\n          QuantitativeNeume.Cross,\n          QuantitativeNeume.Kentima,\n        ].includes(quantitativeNeume)\n      ) {\n        continue;\n      }\n\n      for (let f in Fthora) {\n        const fthora = f as Fthora;\n        if (\n          fthora.startsWith('Zygos') ||\n          fthora.startsWith('Kliton') ||\n          fthora.startsWith('Spathi') ||\n          fthora.startsWith('Enharmonic') ||\n          fthora.startsWith('GeneralSharp') ||\n          fthora.startsWith('GeneralFlat') ||\n          !fthora.endsWith(endsWith)\n        ) {\n          continue;\n        }\n\n        const note = new NoteElement();\n        note.quantitativeNeume = quantitativeNeume;\n        note.fthora = fthora;\n        note.lyrics = (counter++).toString();\n        elements.push(note);\n      }\n    }\n\n    return elements;\n  }\n\n  private static generateTestFile_Gorgon() {\n    const elements: ScoreElement[] = [];\n\n    let counter = 1;\n\n    for (let q in QuantitativeNeume) {\n      const quantitativeNeume = q as QuantitativeNeume;\n      if (\n        [\n          QuantitativeNeume.VareiaDotted,\n          QuantitativeNeume.Cross,\n          QuantitativeNeume.Kentima,\n        ].includes(quantitativeNeume)\n      ) {\n        continue;\n      }\n\n      const note = new NoteElement();\n      note.quantitativeNeume = quantitativeNeume;\n      note.gorgonNeume = GorgonNeume.Gorgon_Top;\n      note.lyrics = (counter++).toString();\n      elements.push(note);\n    }\n\n    for (let q in QuantitativeNeume) {\n      const quantitativeNeume = q as QuantitativeNeume;\n      if (\n        [\n          QuantitativeNeume.VareiaDotted,\n          QuantitativeNeume.Cross,\n          QuantitativeNeume.Kentima,\n        ].includes(quantitativeNeume)\n      ) {\n        continue;\n      }\n\n      const note = new NoteElement();\n      note.quantitativeNeume = quantitativeNeume;\n      note.gorgonNeume = GorgonNeume.Gorgon_Bottom;\n      note.lyrics = (counter++).toString();\n      elements.push(note);\n    }\n\n    for (let q in QuantitativeNeume) {\n      const quantitativeNeume = q as QuantitativeNeume;\n      if (\n        [\n          QuantitativeNeume.VareiaDotted,\n          QuantitativeNeume.Cross,\n          QuantitativeNeume.Kentima,\n        ].includes(quantitativeNeume)\n      ) {\n        continue;\n      }\n\n      const note = new NoteElement();\n      note.quantitativeNeume = quantitativeNeume;\n      note.gorgonNeume = GorgonNeume.GorgonDottedLeft;\n      note.lyrics = (counter++).toString();\n      elements.push(note);\n    }\n\n    for (let q in QuantitativeNeume) {\n      const quantitativeNeume = q as QuantitativeNeume;\n      if (\n        [\n          QuantitativeNeume.VareiaDotted,\n          QuantitativeNeume.Cross,\n          QuantitativeNeume.Kentima,\n        ].includes(quantitativeNeume)\n      ) {\n        continue;\n      }\n\n      const note = new NoteElement();\n      note.quantitativeNeume = quantitativeNeume;\n      note.gorgonNeume = GorgonNeume.GorgonDottedRight;\n      note.lyrics = (counter++).toString();\n      elements.push(note);\n    }\n\n    return elements;\n  }\n\n  private static generateTestFile_Klasma() {\n    const elements: ScoreElement[] = [];\n\n    let counter = 1;\n\n    for (let q in QuantitativeNeume) {\n      const quantitativeNeume = q as QuantitativeNeume;\n      if (\n        [\n          QuantitativeNeume.VareiaDotted,\n          QuantitativeNeume.Cross,\n          QuantitativeNeume.Kentima,\n        ].includes(quantitativeNeume)\n      ) {\n        continue;\n      }\n\n      const note = new NoteElement();\n      note.quantitativeNeume = quantitativeNeume;\n      note.timeNeume = TimeNeume.Klasma_Top;\n      note.lyrics = (counter++).toString();\n      elements.push(note);\n    }\n\n    for (let q in QuantitativeNeume) {\n      const quantitativeNeume = q as QuantitativeNeume;\n      if (\n        [\n          QuantitativeNeume.VareiaDotted,\n          QuantitativeNeume.Cross,\n          QuantitativeNeume.Kentima,\n        ].includes(quantitativeNeume)\n      ) {\n        continue;\n      }\n\n      const note = new NoteElement();\n      note.quantitativeNeume = quantitativeNeume;\n      note.timeNeume = TimeNeume.Klasma_Bottom;\n      note.lyrics = (counter++).toString();\n      elements.push(note);\n    }\n\n    return elements;\n  }\n\n  private static generateTestFile_Hapli() {\n    const elements: ScoreElement[] = [];\n\n    let counter = 1;\n\n    for (let q in QuantitativeNeume) {\n      const quantitativeNeume = q as QuantitativeNeume;\n      if (\n        [\n          QuantitativeNeume.VareiaDotted,\n          QuantitativeNeume.Cross,\n          QuantitativeNeume.Kentima,\n        ].includes(quantitativeNeume)\n      ) {\n        continue;\n      }\n\n      const note = new NoteElement();\n      note.quantitativeNeume = quantitativeNeume;\n      note.timeNeume = TimeNeume.Hapli;\n      note.lyrics = (counter++).toString();\n      elements.push(note);\n    }\n\n    for (let q in QuantitativeNeume) {\n      const quantitativeNeume = q as QuantitativeNeume;\n      if (\n        [\n          QuantitativeNeume.VareiaDotted,\n          QuantitativeNeume.Cross,\n          QuantitativeNeume.Kentima,\n        ].includes(quantitativeNeume)\n      ) {\n        continue;\n      }\n\n      const note = new NoteElement();\n      note.quantitativeNeume = quantitativeNeume;\n      note.timeNeume = TimeNeume.Dipli;\n      note.lyrics = (counter++).toString();\n      elements.push(note);\n    }\n\n    for (let q in QuantitativeNeume) {\n      const quantitativeNeume = q as QuantitativeNeume;\n      if (\n        [\n          QuantitativeNeume.VareiaDotted,\n          QuantitativeNeume.Cross,\n          QuantitativeNeume.Kentima,\n        ].includes(quantitativeNeume)\n      ) {\n        continue;\n      }\n\n      const note = new NoteElement();\n      note.quantitativeNeume = quantitativeNeume;\n      note.timeNeume = TimeNeume.Tripli;\n      note.lyrics = (counter++).toString();\n      elements.push(note);\n    }\n\n    return elements;\n  }\n\n  private static generateTestFile_Accidentals() {\n    const elements: ScoreElement[] = [];\n\n    let counter = 1;\n\n    for (let q in QuantitativeNeume) {\n      const quantitativeNeume = q as QuantitativeNeume;\n      if (\n        [\n          QuantitativeNeume.VareiaDotted,\n          QuantitativeNeume.Cross,\n          QuantitativeNeume.Kentima,\n        ].includes(quantitativeNeume)\n      ) {\n        continue;\n      }\n\n      let note = new NoteElement();\n      note.quantitativeNeume = quantitativeNeume;\n      note.accidental = Accidental.Flat_2_Right;\n      note.lyrics = (counter++).toString();\n      elements.push(note);\n\n      note = new NoteElement();\n      note.quantitativeNeume = quantitativeNeume;\n      note.accidental = Accidental.Flat_4_Right;\n      note.lyrics = (counter++).toString();\n      elements.push(note);\n\n      note = new NoteElement();\n      note.quantitativeNeume = quantitativeNeume;\n      note.accidental = Accidental.Flat_6_Right;\n      note.lyrics = (counter++).toString();\n      elements.push(note);\n    }\n\n    for (let q in QuantitativeNeume) {\n      const quantitativeNeume = q as QuantitativeNeume;\n      if (\n        [\n          QuantitativeNeume.VareiaDotted,\n          QuantitativeNeume.Cross,\n          QuantitativeNeume.Kentima,\n        ].includes(quantitativeNeume)\n      ) {\n        continue;\n      }\n\n      let note = new NoteElement();\n      note.quantitativeNeume = quantitativeNeume;\n      note.accidental = Accidental.Sharp_2_Left;\n      note.lyrics = (counter++).toString();\n      elements.push(note);\n\n      note = new NoteElement();\n      note.quantitativeNeume = quantitativeNeume;\n      note.accidental = Accidental.Sharp_4_Left;\n      note.lyrics = (counter++).toString();\n      elements.push(note);\n\n      note = new NoteElement();\n      note.quantitativeNeume = quantitativeNeume;\n      note.accidental = Accidental.Sharp_6_Left;\n      note.lyrics = (counter++).toString();\n      elements.push(note);\n    }\n\n    return elements;\n  }\n\n  private static generateTestFile_Expressions() {\n    const elements: ScoreElement[] = [];\n\n    let counter = 1;\n\n    for (let q in QuantitativeNeume) {\n      const quantitativeNeume = q as QuantitativeNeume;\n      if (\n        [\n          QuantitativeNeume.VareiaDotted,\n          QuantitativeNeume.Cross,\n          QuantitativeNeume.Kentima,\n        ].includes(quantitativeNeume)\n      ) {\n        continue;\n      }\n\n      const note = new NoteElement();\n      note.quantitativeNeume = quantitativeNeume;\n      note.vocalExpressionNeume = VocalExpressionNeume.Psifiston;\n      note.lyrics = (counter++).toString();\n      elements.push(note);\n    }\n\n    for (let q in QuantitativeNeume) {\n      const quantitativeNeume = q as QuantitativeNeume;\n      if (\n        [\n          QuantitativeNeume.VareiaDotted,\n          QuantitativeNeume.Cross,\n          QuantitativeNeume.Kentima,\n        ].includes(quantitativeNeume)\n      ) {\n        continue;\n      }\n\n      const note = new NoteElement();\n      note.quantitativeNeume = quantitativeNeume;\n      note.vocalExpressionNeume = VocalExpressionNeume.Antikenoma;\n      note.lyrics = (counter++).toString();\n      elements.push(note);\n    }\n\n    for (let q in QuantitativeNeume) {\n      const quantitativeNeume = q as QuantitativeNeume;\n      if (\n        [\n          QuantitativeNeume.VareiaDotted,\n          QuantitativeNeume.Cross,\n          QuantitativeNeume.Kentima,\n        ].includes(quantitativeNeume)\n      ) {\n        continue;\n      }\n\n      const note = new NoteElement();\n      note.quantitativeNeume = quantitativeNeume;\n      note.vocalExpressionNeume = VocalExpressionNeume.Homalon;\n      note.lyrics = (counter++).toString();\n      elements.push(note);\n    }\n\n    return elements;\n  }\n\n  private static generateTestFile_Measures() {\n    const elements: ScoreElement[] = [];\n\n    let counter = 1;\n\n    for (let q in QuantitativeNeume) {\n      const quantitativeNeume = q as QuantitativeNeume;\n      if (\n        [\n          QuantitativeNeume.VareiaDotted,\n          QuantitativeNeume.Cross,\n          QuantitativeNeume.Kentima,\n        ].includes(quantitativeNeume)\n      ) {\n        continue;\n      }\n\n      const note = new NoteElement();\n      note.quantitativeNeume = quantitativeNeume;\n      note.measureNumber = MeasureNumber.Two;\n      note.lyrics = (counter++).toString();\n      elements.push(note);\n    }\n\n    for (let q in QuantitativeNeume) {\n      const quantitativeNeume = q as QuantitativeNeume;\n      if (\n        [\n          QuantitativeNeume.VareiaDotted,\n          QuantitativeNeume.Cross,\n          QuantitativeNeume.Kentima,\n        ].includes(quantitativeNeume)\n      ) {\n        continue;\n      }\n\n      const note = new NoteElement();\n      note.quantitativeNeume = quantitativeNeume;\n      note.measureNumber = MeasureNumber.Eight;\n      note.lyrics = (counter++).toString();\n      elements.push(note);\n    }\n\n    return elements;\n  }\n\n  private static generateTestFile_NoteIndicators() {\n    const elements: ScoreElement[] = [];\n\n    let counter = 1;\n\n    for (let q in QuantitativeNeume) {\n      const quantitativeNeume = q as QuantitativeNeume;\n      if (\n        [\n          QuantitativeNeume.VareiaDotted,\n          QuantitativeNeume.Cross,\n          QuantitativeNeume.Kentima,\n        ].includes(quantitativeNeume)\n      ) {\n        continue;\n      }\n\n      const note = new NoteElement();\n      note.quantitativeNeume = quantitativeNeume;\n      note.noteIndicator = NoteIndicator.Ni;\n      note.lyrics = (counter++).toString();\n      elements.push(note);\n    }\n\n    return elements;\n  }\n\n  private static generateTestFile_Isons() {\n    const elements: ScoreElement[] = [];\n\n    let counter = 1;\n\n    for (let q in QuantitativeNeume) {\n      const quantitativeNeume = q as QuantitativeNeume;\n      if (\n        [\n          QuantitativeNeume.VareiaDotted,\n          QuantitativeNeume.Cross,\n          QuantitativeNeume.Kentima,\n        ].includes(quantitativeNeume)\n      ) {\n        continue;\n      }\n\n      const note = new NoteElement();\n      note.quantitativeNeume = quantitativeNeume;\n      note.ison = Ison.Unison;\n      note.lyrics = (counter++).toString();\n      elements.push(note);\n    }\n\n    return elements;\n  }\n\n  private static generateTestFile_ModeKey() {\n    const elements: ScoreElement[] = [];\n\n    for (let template of modeKeyTemplates) {\n      elements.push(ModeKeyElement.createFromTemplate(template));\n    }\n\n    return elements;\n  }\n\n  private static generateTestFile_Random() {\n    const elements: ScoreElement[] = [];\n\n    const neumes = 10000;\n\n    const max = Object.values(QuantitativeNeume).length - 1;\n\n    const values = Object.values(QuantitativeNeume);\n\n    for (let i = 0; i < neumes; i++) {\n      const note = new NoteElement();\n      note.quantitativeNeume = values[Math.floor(Math.random() * max)];\n      note.lyrics = uuidv4();\n      elements.push(note);\n    }\n\n    return elements;\n  }\n}\n","export const shallowEquals = (object1: any, object2: any) => {\n  const keys1 = Object.keys(object1);\n  const keys2 = Object.keys(object2);\n\n  if (keys1.length !== keys2.length) {\n    return false;\n  }\n\n  for (let key of keys1) {\n    if (object1[key] !== object2[key]) {\n      return false;\n    }\n  }\n  return true;\n};\n","export function getFileNameFromPath(path: string) {\n  const fileNameWithExtension = path.replace(/^.*[\\\\/]/, '');\n  return fileNameWithExtension.substring(\n    0,\n    fileNameWithExtension.lastIndexOf('.'),\n  );\n}\n","export function getCursorPosition() {\n  const selection = window.getSelection();\n\n  if (selection != null) {\n    const range = selection.getRangeAt(0);\n    if (range.startOffset === range.endOffset) {\n      return selection.getRangeAt(0).startOffset;\n    }\n  }\n\n  return null;\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Watch, Vue } from 'vue-property-decorator';\nimport {\n  ScoreElement,\n  MartyriaElement,\n  NoteElement,\n  ElementType,\n  EmptyElement,\n  TextBoxElement,\n  DropCapElement,\n  TempoElement,\n  ModeKeyElement,\n  TextBoxAlignment,\n} from '@/models/Element';\nimport {\n  QuantitativeNeume,\n  TimeNeume,\n  VocalExpressionNeume,\n  Fthora,\n  GorgonNeume,\n  TempoSign,\n  MeasureBar,\n  Accidental,\n  MeasureNumber,\n  NoteIndicator,\n  Ison,\n  Note,\n} from '@/models/Neumes';\nimport { Page } from '@/models/Page';\nimport { Score } from '@/models/Score';\nimport { Workspace, WorkspaceLocalStorage } from '@/models/Workspace';\nimport { EntryMode } from '@/models/EntryMode';\nimport { ScoreElementSelectionRange } from '@/models/ScoreElementSelectionRange';\nimport { SaveService } from '@/services/SaveService';\nimport { LayoutService } from '@/services/LayoutService';\nimport SyllableNeumeBox from '@/components/NeumeBoxSyllable.vue';\nimport SyllableNeumeBoxPrint from '@/components/NeumeBoxSyllablePrint.vue';\nimport MartyriaNeumeBox from '@/components/NeumeBoxMartyria.vue';\nimport MartyriaNeumeBoxPrint from '@/components/NeumeBoxMartyriaPrint.vue';\nimport TempoNeumeBox from '@/components/NeumeBoxTempo.vue';\nimport NeumeSelector from '@/components/NeumeSelector.vue';\nimport ContentEditable from '@/components/ContentEditable.vue';\nimport TextBox from '@/components/TextBox.vue';\nimport DropCap from '@/components/DropCap.vue';\nimport ModeKey from '@/components/ModeKey.vue';\nimport ModeKeyPrint from '@/components/ModeKeyPrint.vue';\nimport TextBoxToolbar from '@/components/TextBoxToolbar.vue';\nimport LyricsToolbar from '@/components/LyricsToolbar.vue';\nimport ModeKeyToolbar from '@/components/ModeKeyToolbar.vue';\nimport MainToolbar from '@/components/MainToolbar.vue';\nimport NeumeToolbar from '@/components/NeumeToolbar.vue';\nimport MartyriaToolbar from '@/components/MartyriaToolbar.vue';\nimport ModeKeyDialog from '@/components/ModeKeyDialog.vue';\nimport PageSetupDialog from '@/components/PageSetupDialog.vue';\nimport FileMenuBar from '@/components/FileMenuBar.vue';\nimport {\n  IpcMainChannels,\n  FileMenuOpenScoreArgs,\n  ShowMessageBoxReplyArgs,\n  FileMenuInsertTextboxArgs,\n} from '@/ipc/ipcChannels';\nimport { EventBus } from '@/eventBus';\nimport { modeKeyTemplates } from '@/models/ModeKeys';\nimport { TestFileGenerator } from '@/utils/TestFileGenerator';\nimport { TestFileType } from '@/utils/TestFileType';\nimport { Unit } from '@/utils/Unit';\nimport { withZoom } from '@/utils/withZoom';\nimport { shallowEquals } from '@/utils/shallowEquals';\nimport { getFileNameFromPath } from '@/utils/getFileNameFromPath';\nimport { getCursorPosition } from '@/utils/getCursorPosition';\nimport { throttle } from 'throttle-debounce';\nimport { Command, CommandFactory } from '@/services/history/CommandService';\nimport { IIpcService } from '@/services/ipc/IIpcService';\nimport { PageSetup } from '@/models/PageSetup';\nimport { Header } from '@/models/Header';\nimport { Footer } from '@/models/Footer';\nimport { TokenMetadata } from '@/utils/replaceTokens';\nimport { Scale } from '@/models/Scales';\nimport { getFontFamilyWithFallback } from '@/utils/getFontFamilyWithFallback';\n\n@Component({\n  components: {\n    SyllableNeumeBox,\n    SyllableNeumeBoxPrint,\n    MartyriaNeumeBox,\n    MartyriaNeumeBoxPrint,\n    TempoNeumeBox,\n    NeumeSelector,\n    ContentEditable,\n    TextBox,\n    DropCap,\n    ModeKey,\n    ModeKeyPrint,\n    TextBoxToolbar,\n    LyricsToolbar,\n    ModeKeyToolbar,\n    NeumeToolbar,\n    MartyriaToolbar,\n    MainToolbar,\n    ModeKeyDialog,\n    PageSetupDialog,\n    FileMenuBar,\n  },\n})\nexport default class Editor extends Vue {\n  @Prop() ipcService!: IIpcService;\n  @Prop() showFileMenuBar!: boolean;\n\n  isDevelopment: boolean = process.env.NODE_ENV !== 'production';\n  isBrowser: boolean = process.env.IS_ELECTRON == null;\n\n  printMode: boolean = false;\n\n  workspaces: Workspace[] = [];\n  selectedWorkspaceValue: Workspace = new Workspace();\n\n  pages: Page[] = [];\n\n  modeKeyDialogIsOpen: boolean = false;\n  pageSetupDialogIsOpen: boolean = false;\n\n  clipboard: ScoreElement[] = [];\n\n  fonts: string[] = [];\n\n  // Commands\n  noteElementCommandFactory: CommandFactory<NoteElement> =\n    new CommandFactory<NoteElement>();\n\n  martyriaCommandFactory: CommandFactory<MartyriaElement> =\n    new CommandFactory<MartyriaElement>();\n\n  tempoCommandFactory: CommandFactory<TempoElement> =\n    new CommandFactory<TempoElement>();\n\n  textBoxCommandFactory: CommandFactory<TextBoxElement> =\n    new CommandFactory<TextBoxElement>();\n\n  modeKeyCommandFactory: CommandFactory<ModeKeyElement> =\n    new CommandFactory<ModeKeyElement>();\n\n  dropCapCommandFactory: CommandFactory<DropCapElement> =\n    new CommandFactory<DropCapElement>();\n\n  scoreElementCommandFactory: CommandFactory<ScoreElement> =\n    new CommandFactory<ScoreElement>();\n\n  pageSetupCommandFactory: CommandFactory<PageSetup> =\n    new CommandFactory<PageSetup>();\n\n  headerCommandFactory: CommandFactory<Header> = new CommandFactory<Header>();\n\n  footerCommandFactory: CommandFactory<Footer> = new CommandFactory<Footer>();\n\n  // Throttled Methods\n  keydownThrottleIntervalMs: number = 100;\n\n  moveToPreviousLyricBoxThrottled = throttle(\n    this.keydownThrottleIntervalMs,\n    this.moveToPreviousLyricBox,\n  );\n\n  moveToNextLyricBoxThrottled = throttle(\n    this.keydownThrottleIntervalMs,\n    this.moveToNextLyricBox,\n  );\n\n  moveLeftThrottled = throttle(this.keydownThrottleIntervalMs, this.moveLeft);\n\n  moveRightThrottled = throttle(this.keydownThrottleIntervalMs, this.moveRight);\n\n  moveSelectionLeftThrottled = throttle(\n    this.keydownThrottleIntervalMs,\n    this.moveSelectionLeft,\n  );\n\n  moveSelectionRightThrottled = throttle(\n    this.keydownThrottleIntervalMs,\n    this.moveSelectionRight,\n  );\n\n  deleteSelectedElementThrottled = throttle(\n    this.keydownThrottleIntervalMs,\n    this.deleteSelectedElement,\n  );\n\n  deletePreviousElementThrottled = throttle(\n    this.keydownThrottleIntervalMs,\n    this.deletePreviousElement,\n  );\n\n  onFileMenuUndoThrottled = throttle(\n    this.keydownThrottleIntervalMs,\n    this.onFileMenuUndo,\n  );\n\n  onFileMenuRedoThrottled = throttle(\n    this.keydownThrottleIntervalMs,\n    this.onFileMenuRedo,\n  );\n\n  onCutScoreElementsThrottled = throttle(\n    this.keydownThrottleIntervalMs,\n    this.onCutScoreElements,\n  );\n\n  onCopyScoreElementsThrottled = throttle(\n    this.keydownThrottleIntervalMs,\n    this.onCopyScoreElements,\n  );\n\n  onPasteScoreElementsThrottled = throttle(\n    this.keydownThrottleIntervalMs,\n    this.onPasteScoreElements,\n  );\n\n  onWindowResizeThrottled = throttle(250, this.onWindowResize);\n\n  get selectedWorkspace() {\n    return this.selectedWorkspaceValue;\n  }\n\n  set selectedWorkspace(value: Workspace) {\n    // Save the scroll position\n    const pageBackgroundElement = this.$refs['page-background'] as HTMLElement;\n    this.selectedWorkspace.scrollLeft = pageBackgroundElement.scrollLeft;\n    this.selectedWorkspace.scrollTop = pageBackgroundElement.scrollTop;\n\n    this.selectedWorkspaceValue = value;\n    this.selectedWorkspace.commandService.notify();\n    this.save(false);\n\n    // Scroll to the new workspace's saved scroll position\n    // Use nextTick to scroll after the DOM has refreshed\n    Vue.nextTick(() => {\n      pageBackgroundElement.scrollTo(\n        this.selectedWorkspace.scrollLeft,\n        this.selectedWorkspace.scrollTop,\n      );\n    });\n  }\n\n  get score() {\n    return this.selectedWorkspace.score;\n  }\n\n  get elements() {\n    return this.score != null ? this.score.staff.elements : [];\n  }\n\n  get commandService() {\n    return this.selectedWorkspace.commandService;\n  }\n\n  get selectedElementIndex() {\n    return this.selectedElement != null\n      ? this.elements.indexOf(this.selectedElement)\n      : -1;\n  }\n\n  get windowTitle() {\n    return `${this.getFileName(this.selectedWorkspace)} - ${\n      process.env.VUE_APP_TITLE\n    }`;\n  }\n\n  get selectedElement() {\n    return this.selectedWorkspace.selectedElement;\n  }\n\n  set selectedElement(element: ScoreElement | null) {\n    if (element != null) {\n      this.selectedLyrics = null;\n      this.selectionRange = null;\n      this.selectedHeaderFooterElement = null;\n    }\n\n    this.selectedWorkspace.selectedElement = element;\n  }\n\n  get selectedLyrics() {\n    return this.selectedWorkspace.selectedLyrics;\n  }\n\n  set selectedLyrics(element: NoteElement | null) {\n    if (element != null) {\n      this.selectedElement = null;\n      this.selectedHeaderFooterElement = null;\n      this.selectionRange = null;\n    }\n\n    this.selectedWorkspace.selectedLyrics = element;\n  }\n\n  get selectedHeaderFooterElement() {\n    return this.selectedWorkspace.selectedHeaderFooterElement;\n  }\n\n  set selectedHeaderFooterElement(element: ScoreElement | null) {\n    if (element != null) {\n      this.selectedElement = null;\n      this.selectedLyrics = null;\n      this.selectionRange = null;\n    }\n\n    this.selectedWorkspace.selectedHeaderFooterElement = element;\n  }\n\n  get selectedTextBoxElement() {\n    const selectedElement =\n      this.selectedElement || this.selectedHeaderFooterElement;\n\n    return selectedElement != null && this.isTextBoxElement(selectedElement)\n      ? (selectedElement as TextBoxElement)\n      : null;\n  }\n\n  get selectionRange() {\n    return this.selectedWorkspace.selectionRange;\n  }\n\n  set selectionRange(value: ScoreElementSelectionRange | null) {\n    this.selectedWorkspace.selectionRange = value;\n  }\n\n  get zoom() {\n    return this.selectedWorkspace.zoom;\n  }\n\n  set zoom(zoom: number) {\n    if (zoom < 0.5) {\n      zoom = 0.5;\n    } else if (zoom > 2) {\n      zoom = 2;\n    }\n\n    this.selectedWorkspace.zoom = zoom;\n  }\n\n  get zoomToFit() {\n    return this.selectedWorkspace.zoomToFit;\n  }\n\n  set zoomToFit(value: boolean) {\n    this.selectedWorkspace.zoomToFit = value;\n  }\n\n  get entryMode() {\n    return this.selectedWorkspace.entryMode;\n  }\n\n  set entryMode(value: EntryMode) {\n    this.selectedWorkspace.entryMode = value;\n  }\n\n  get currentFilePath() {\n    return this.selectedWorkspace.filePath;\n  }\n\n  set currentFilePath(path: string | null) {\n    this.selectedWorkspace.filePath = path;\n  }\n\n  get hasUnsavedChanges() {\n    return this.selectedWorkspace.hasUnsavedChanges;\n  }\n\n  set hasUnsavedChanges(hasUnsavedChanges: boolean) {\n    this.selectedWorkspace.hasUnsavedChanges = hasUnsavedChanges;\n  }\n\n  get pageStyle() {\n    return {\n      minWidth: withZoom(this.score.pageSetup.pageWidth),\n      maxWidth: withZoom(this.score.pageSetup.pageWidth),\n      width: withZoom(this.score.pageSetup.pageWidth),\n      height: withZoom(this.score.pageSetup.pageHeight),\n      minHeight: withZoom(this.score.pageSetup.pageHeight),\n      maxHeight: withZoom(this.score.pageSetup.pageHeight),\n    } as CSSStyleDeclaration;\n  }\n\n  get headerStyle() {\n    return {\n      left: withZoom(this.score.pageSetup.leftMargin),\n      top: withZoom(this.score.pageSetup.headerMargin),\n    } as CSSStyleDeclaration;\n  }\n\n  get footerStyle() {\n    return {\n      left: withZoom(this.score.pageSetup.leftMargin),\n      bottom: withZoom(this.score.pageSetup.footerMargin),\n    } as CSSStyleDeclaration;\n  }\n\n  get pageVisibilityIntersection() {\n    // look ahead/behind 1 page\n    const margin = this.score.pageSetup.pageHeight * this.zoom;\n\n    return {\n      root: this.$refs['page-background'],\n      rootMargin: `${margin}px 0px ${margin}px 0px`,\n    } as IntersectionObserver;\n  }\n\n  get dialogOpen() {\n    return this.modeKeyDialogIsOpen || this.pageSetupDialogIsOpen;\n  }\n\n  get filteredPages() {\n    return this.printMode ? this.pages.filter((x) => !x.isEmpty) : this.pages;\n  }\n\n  @Watch('zoom')\n  onZoomUpdated() {\n    document.documentElement.style.setProperty('--zoom', this.zoom.toString());\n  }\n\n  @Watch('currentFilePath')\n  onFilePathUpdated() {\n    window.document.title = this.windowTitle;\n  }\n\n  @Watch('hasUnsavedChanges')\n  onUnsavedChangesUpdated() {\n    window.document.title = this.windowTitle;\n  }\n\n  getLyricStyle(element: NoteElement) {\n    return {\n      top: withZoom(element.lyricsVerticalOffset),\n      paddingLeft:\n        element.lyricsHorizontalOffset != null\n          ? withZoom(element.lyricsHorizontalOffset)\n          : undefined,\n      fontSize: withZoom(this.score.pageSetup.lyricsDefaultFontSize),\n      fontFamily: getFontFamilyWithFallback(\n        this.score.pageSetup.lyricsDefaultFontFamily,\n      ),\n      color: this.score.pageSetup.lyricsDefaultColor,\n    } as CSSStyleDeclaration;\n  }\n\n  getEmptyBoxStyle(element: EmptyElement) {\n    return {\n      width: withZoom(element.width),\n      height: withZoom(element.height),\n    } as CSSStyleDeclaration;\n  }\n\n  getElementStyle(element: ScoreElement) {\n    return {\n      left: withZoom(element.x),\n      top: withZoom(element.y),\n    } as CSSStyleDeclaration;\n  }\n\n  getMelismaStyle(element: NoteElement) {\n    return {\n      width: withZoom(element.melismaWidth!),\n    } as CSSStyleDeclaration;\n  }\n\n  untitledIndex: number = 1;\n\n  getTempFilename() {\n    return `Untitled-${this.untitledIndex++}`;\n  }\n\n  getFileName(workspace: Workspace) {\n    const unsavedChangesMarker = workspace.hasUnsavedChanges ? '*' : '';\n\n    if (workspace.filePath != null) {\n      const fileName = getFileNameFromPath(workspace.filePath);\n      return `${unsavedChangesMarker}${fileName}`;\n    } else {\n      return `${unsavedChangesMarker}${workspace.tempFileName}`;\n    }\n  }\n\n  getHeaderForPageIndex(pageIndex: number) {\n    const pageNumber = pageIndex + 1;\n\n    const header = this.score.getHeaderForPage(pageNumber);\n\n    // Currently, headers only support a single text box element.\n    return header != null ? header.elements[0] : null;\n  }\n\n  getFooterForPageIndex(pageIndex: number) {\n    const pageNumber = pageIndex + 1;\n\n    const footer = this.score.getFooterForPage(pageNumber);\n\n    // Currently, footers only support a single text box element.\n    return footer != null ? footer.elements[0] : null;\n  }\n\n  getTokenMetadata(pageIndex: number): TokenMetadata {\n    return {\n      pageNumber: pageIndex + 1,\n      numberOfPages: this.pages.length,\n      fileName:\n        this.selectedWorkspace.filePath != null\n          ? getFileNameFromPath(this.selectedWorkspace.filePath)\n          : this.selectedWorkspace.tempFileName,\n      filePath: this.currentFilePath || '',\n    };\n  }\n\n  async created() {\n    const fontLoader = (document as any).fonts;\n\n    const loadSystemFontsPromise = this.ipcService\n      .getSystemFonts()\n      .then((fonts) => (this.fonts = fonts));\n\n    // Must load all fonts before loading any documents,\n    // otherwise the text measurements will be wrong\n    await Promise.all([\n      loadSystemFontsPromise,\n      fontLoader.load('1rem Athonite'),\n      fontLoader.load('1rem Omega'),\n      fontLoader.load('1rem PFGoudyInitials'),\n      fontLoader.load('1rem Neanes'),\n      fontLoader.ready,\n    ]);\n\n    await this.load();\n  }\n\n  mounted() {\n    window.addEventListener('keydown', this.onKeydown);\n    window.addEventListener('resize', this.onWindowResizeThrottled);\n\n    EventBus.$on(IpcMainChannels.CloseApplication, this.onCloseApplication);\n\n    EventBus.$on(IpcMainChannels.FileMenuNewScore, this.onFileMenuNewScore);\n    EventBus.$on(IpcMainChannels.FileMenuOpenScore, this.onFileMenuOpenScore);\n    EventBus.$on(IpcMainChannels.FileMenuPrint, this.onFileMenuPrint);\n    EventBus.$on(IpcMainChannels.FileMenuSave, this.onFileMenuSave);\n    EventBus.$on(IpcMainChannels.FileMenuSaveAs, this.onFileMenuSaveAs);\n    EventBus.$on(IpcMainChannels.FileMenuPageSetup, this.onFileMenuPageSetup);\n    EventBus.$on(\n      IpcMainChannels.FileMenuExportAsPdf,\n      this.onFileMenuExportAsPdf,\n    );\n    EventBus.$on(IpcMainChannels.FileMenuUndo, this.onFileMenuUndo);\n    EventBus.$on(IpcMainChannels.FileMenuRedo, this.onFileMenuRedo);\n    EventBus.$on(IpcMainChannels.FileMenuCut, this.onFileMenuCut);\n    EventBus.$on(IpcMainChannels.FileMenuCopy, this.onFileMenuCopy);\n    EventBus.$on(IpcMainChannels.FileMenuPaste, this.onFileMenuPaste);\n    EventBus.$on(\n      IpcMainChannels.FileMenuInsertTextBox,\n      this.onFileMenuInsertTextBox,\n    );\n    EventBus.$on(\n      IpcMainChannels.FileMenuInsertModeKey,\n      this.onFileMenuInsertModeKey,\n    );\n    EventBus.$on(\n      IpcMainChannels.FileMenuInsertDropCap,\n      this.onFileMenuInsertDropCap,\n    );\n    EventBus.$on(\n      IpcMainChannels.FileMenuInsertHeader,\n      this.onFileMenuInsertHeader,\n    );\n    EventBus.$on(\n      IpcMainChannels.FileMenuInsertFooter,\n      this.onFileMenuInsertFooter,\n    );\n    EventBus.$on(\n      IpcMainChannels.FileMenuGenerateTestFile,\n      this.onFileMenuGenerateTestFile,\n    );\n  }\n\n  beforeDestroy() {\n    window.removeEventListener('keydown', this.onKeydown);\n    window.removeEventListener('resize', this.onWindowResizeThrottled);\n\n    EventBus.$off(IpcMainChannels.CloseApplication, this.onCloseApplication);\n\n    EventBus.$off(IpcMainChannels.FileMenuNewScore, this.onFileMenuNewScore);\n    EventBus.$off(IpcMainChannels.FileMenuOpenScore, this.onFileMenuOpenScore);\n    EventBus.$off(IpcMainChannels.FileMenuPrint, this.onFileMenuPrint);\n    EventBus.$off(IpcMainChannels.FileMenuSave, this.onFileMenuSave);\n    EventBus.$off(IpcMainChannels.FileMenuSaveAs, this.onFileMenuSaveAs);\n    EventBus.$off(IpcMainChannels.FileMenuPageSetup, this.onFileMenuPageSetup);\n    EventBus.$off(\n      IpcMainChannels.FileMenuExportAsPdf,\n      this.onFileMenuExportAsPdf,\n    );\n    EventBus.$off(IpcMainChannels.FileMenuUndo, this.onFileMenuUndo);\n    EventBus.$off(IpcMainChannels.FileMenuRedo, this.onFileMenuRedo);\n    EventBus.$off(IpcMainChannels.FileMenuCut, this.onFileMenuCut);\n    EventBus.$off(IpcMainChannels.FileMenuCopy, this.onFileMenuCopy);\n    EventBus.$off(IpcMainChannels.FileMenuPaste, this.onFileMenuPaste);\n    EventBus.$off(\n      IpcMainChannels.FileMenuInsertTextBox,\n      this.onFileMenuInsertTextBox,\n    );\n    EventBus.$off(\n      IpcMainChannels.FileMenuInsertModeKey,\n      this.onFileMenuInsertModeKey,\n    );\n    EventBus.$off(\n      IpcMainChannels.FileMenuInsertDropCap,\n      this.onFileMenuInsertDropCap,\n    );\n    EventBus.$off(\n      IpcMainChannels.FileMenuGenerateTestFile,\n      this.onFileMenuGenerateTestFile,\n    );\n  }\n\n  getElementIndex(element: ScoreElement) {\n    return element.index;\n  }\n\n  setSelectionRange(element: ScoreElement) {\n    const elementIndex = this.getElementIndex(element);\n\n    if (this.selectedElement != null) {\n      this.selectionRange = {\n        start: this.selectedElementIndex,\n        end: elementIndex,\n      };\n\n      this.selectedElement = null;\n    } else if (this.selectionRange != null) {\n      this.selectionRange.end = elementIndex;\n    }\n  }\n\n  isSelected(element: ScoreElement) {\n    if (this.selectedElement === element) {\n      return true;\n    }\n    if (this.selectionRange != null) {\n      const start = Math.min(\n        this.selectionRange.start,\n        this.selectionRange.end,\n      );\n      const end = Math.max(this.selectionRange.start, this.selectionRange.end);\n\n      return (\n        start <= this.getElementIndex(element) &&\n        this.getElementIndex(element) <= end\n      );\n    }\n\n    return false;\n  }\n\n  isMelisma(element: NoteElement) {\n    return element.melismaWidth > 0;\n  }\n\n  openModeKeyDialog() {\n    this.modeKeyDialogIsOpen = true;\n  }\n\n  closeModeKeyDialog() {\n    this.modeKeyDialogIsOpen = false;\n  }\n\n  closePageSetupDialog() {\n    this.pageSetupDialogIsOpen = false;\n  }\n\n  isLastElement(element: ScoreElement) {\n    return this.elements.indexOf(element) === this.elements.length - 1;\n  }\n\n  insertPelastikon() {\n    document.execCommand('insertText', false, '\\u{1d0b4}');\n  }\n\n  insertGorthmikon() {\n    document.execCommand('insertText', false, '\\u{1d0b5}');\n  }\n\n  addQuantitativeNeume(\n    quantitativeNeume: QuantitativeNeume,\n    secondaryGorgonNeume: GorgonNeume | null = null,\n  ) {\n    if (this.selectedElement == null) {\n      return;\n    }\n\n    const element = new NoteElement();\n    element.quantitativeNeume = quantitativeNeume;\n    // Special case for OligonPlusHyporoePlusKentemata\n    if (\n      quantitativeNeume === QuantitativeNeume.OligonPlusHyporoePlusKentemata\n    ) {\n      element.secondaryGorgonNeume = secondaryGorgonNeume;\n    }\n\n    switch (this.entryMode) {\n      case EntryMode.Auto:\n        if (!this.isLastElement(this.selectedElement) && !this.moveRight()) {\n          return;\n        }\n\n        if (this.isLastElement(this.selectedElement)) {\n          this.addScoreElement(element, this.selectedElementIndex);\n          this.selectedElement = element;\n        } else {\n          if (this.selectedElement.elementType === ElementType.Note) {\n            if (\n              (this.selectedElement as NoteElement).quantitativeNeume !==\n              quantitativeNeume\n            ) {\n              this.updateNote(this.selectedElement as NoteElement, {\n                quantitativeNeume,\n                secondaryGorgonNeume,\n              });\n            } else if (\n              (this.selectedElement as NoteElement).secondaryGorgonNeume !==\n              secondaryGorgonNeume\n            ) {\n              // Special case for hyporoe gorgon\n              this.updateNote(this.selectedElement as NoteElement, {\n                secondaryGorgonNeume,\n              });\n            }\n          } else {\n            this.selectedElement = this.switchToSyllable(\n              this.selectedElement,\n              element,\n            );\n          }\n        }\n        break;\n      case EntryMode.Insert:\n        if (this.isLastElement(this.selectedElement)) {\n          this.addScoreElement(element, this.selectedElementIndex);\n        } else {\n          if (this.selectedElement.elementType === ElementType.Note) {\n            const selectedElementAsNote = this.selectedElement as NoteElement;\n\n            element.isMelisma = selectedElementAsNote.isMelisma;\n            element.isHyphen = selectedElementAsNote.isHyphen;\n          }\n\n          this.addScoreElement(element, this.selectedElementIndex + 1);\n        }\n        this.selectedElement = element;\n        break;\n\n      case EntryMode.Edit:\n        if (this.isLastElement(this.selectedElement)) {\n          this.addScoreElement(element, this.selectedElementIndex);\n        } else if (this.selectedElement.elementType === ElementType.Note) {\n          if (\n            (this.selectedElement as NoteElement).quantitativeNeume !==\n            quantitativeNeume\n          ) {\n            this.updateNote(this.selectedElement as NoteElement, {\n              quantitativeNeume,\n              secondaryGorgonNeume,\n            });\n          } else if (\n            (this.selectedElement as NoteElement).secondaryGorgonNeume !==\n            secondaryGorgonNeume\n          ) {\n            // Special case for hyporoe gorgon\n            this.updateNote(this.selectedElement as NoteElement, {\n              secondaryGorgonNeume,\n            });\n          }\n        } else if (\n          this.navigableElements.includes(this.selectedElement.elementType)\n        ) {\n          this.selectedElement = this.switchToSyllable(\n            this.selectedElement,\n            element,\n          );\n        }\n        break;\n    }\n\n    this.save();\n  }\n\n  addAutoMartyria() {\n    if (this.selectedElement == null) {\n      return;\n    }\n\n    const element = new MartyriaElement();\n\n    switch (this.entryMode) {\n      case EntryMode.Auto:\n        this.moveRight();\n\n        if (this.isLastElement(this.selectedElement)) {\n          this.addScoreElement(element, this.selectedElementIndex);\n          this.selectedElement = element;\n        } else {\n          if (this.selectedElement.elementType != ElementType.Martyria) {\n            this.selectedElement = this.switchToMartyria(this.selectedElement);\n          }\n        }\n        break;\n      case EntryMode.Insert:\n        if (this.isLastElement(this.selectedElement)) {\n          this.addScoreElement(element, this.selectedElementIndex);\n        } else {\n          this.addScoreElement(element, this.selectedElementIndex + 1);\n        }\n        this.selectedElement = element;\n        break;\n      case EntryMode.Edit:\n        if (this.isLastElement(this.selectedElement)) {\n          this.addScoreElement(element, this.selectedElementIndex);\n        } else if (this.selectedElement.elementType != ElementType.Martyria) {\n          this.selectedElement = this.switchToMartyria(this.selectedElement);\n        }\n        break;\n    }\n\n    this.save();\n  }\n\n  addTempo(neume: TempoSign) {\n    if (this.selectedElement == null) {\n      return;\n    }\n\n    const element = new TempoElement();\n    element.neume = neume;\n\n    switch (this.entryMode) {\n      case EntryMode.Auto:\n        this.moveRight();\n\n        if (this.isLastElement(this.selectedElement)) {\n          this.addScoreElement(element, this.selectedElementIndex);\n          this.selectedElement = element;\n        } else {\n          if (this.selectedElement.elementType === ElementType.Tempo) {\n            if ((this.selectedElement as TempoElement).neume !== neume) {\n              this.updateTempo(this.selectedElement as TempoElement, {\n                neume,\n              });\n            }\n          } else {\n            this.selectedElement = this.switchToTempo(\n              this.selectedElement,\n              element,\n            );\n          }\n        }\n        break;\n      case EntryMode.Insert:\n        if (this.isLastElement(this.selectedElement)) {\n          this.addScoreElement(element, this.selectedElementIndex);\n        } else {\n          this.addScoreElement(element, this.selectedElementIndex + 1);\n        }\n        this.selectedElement = element;\n        break;\n      case EntryMode.Edit:\n        if (this.isLastElement(this.selectedElement)) {\n          this.addScoreElement(element, this.selectedElementIndex);\n        } else if (this.selectedElement.elementType === ElementType.Tempo) {\n          if ((this.selectedElement as TempoElement).neume !== neume) {\n            this.updateTempo(this.selectedElement as TempoElement, {\n              neume,\n            });\n          }\n        } else {\n          this.selectedElement = this.switchToTempo(\n            this.selectedElement,\n            element,\n          );\n        }\n        break;\n    }\n\n    this.save();\n  }\n\n  addDropCap() {\n    const element = new DropCapElement();\n\n    this.addScoreElement(element, this.selectedElementIndex);\n\n    this.selectedElement = element;\n    this.save();\n\n    Vue.nextTick(() => {\n      const index = this.elements.indexOf(element);\n\n      (this.$refs[`element-${index}`] as any)[0].focus();\n    });\n  }\n\n  togglePageBreak() {\n    if (this.selectedElement && !this.isLastElement(this.selectedElement)) {\n      this.commandService.execute(\n        this.scoreElementCommandFactory.create('update-properties', {\n          target: this.selectedElement,\n          newValues: {\n            pageBreak: !this.selectedElement.pageBreak,\n            lineBreak: false,\n          },\n        }),\n      );\n\n      this.save();\n    }\n  }\n\n  toggleLineBreak() {\n    if (this.selectedElement && !this.isLastElement(this.selectedElement)) {\n      this.commandService.execute(\n        this.scoreElementCommandFactory.create('update-properties', {\n          target: this.selectedElement,\n          newValues: {\n            lineBreak: !this.selectedElement.lineBreak,\n            pageBreak: false,\n          },\n        }),\n      );\n\n      this.save();\n    }\n  }\n\n  switchToMartyria(element: ScoreElement) {\n    const index = this.elements.indexOf(element);\n\n    const newElement = new MartyriaElement();\n    newElement.pageBreak = element.pageBreak;\n    newElement.lineBreak = element.lineBreak;\n\n    this.replaceScoreElement(newElement, index);\n\n    return newElement;\n  }\n\n  switchToTempo(oldElement: ScoreElement, newElement: TempoElement) {\n    const index = this.elements.indexOf(oldElement);\n\n    newElement.pageBreak = oldElement.pageBreak;\n    newElement.lineBreak = oldElement.lineBreak;\n\n    this.replaceScoreElement(newElement, index);\n\n    return newElement;\n  }\n\n  switchToSyllable(oldElement: ScoreElement, newElement: NoteElement) {\n    const index = this.elements.indexOf(oldElement);\n\n    newElement.pageBreak = oldElement.pageBreak;\n    newElement.lineBreak = oldElement.lineBreak;\n\n    this.replaceScoreElement(newElement, index);\n\n    return newElement;\n  }\n\n  focusLyrics(index: number, selectAll: boolean = false) {\n    (this.$refs[`lyrics-${index}`] as ContentEditable[])[0].focus(selectAll);\n  }\n\n  isSyllableElement(element: ScoreElement) {\n    return element.elementType == ElementType.Note;\n  }\n\n  isMartyriaElement(element: ScoreElement) {\n    return element.elementType == ElementType.Martyria;\n  }\n\n  isTempoElement(element: ScoreElement) {\n    return element.elementType == ElementType.Tempo;\n  }\n\n  isEmptyElement(element: ScoreElement) {\n    return element.elementType == ElementType.Empty;\n  }\n\n  isTextBoxElement(element: ScoreElement) {\n    return element.elementType == ElementType.TextBox;\n  }\n\n  isDropCapElement(element: ScoreElement) {\n    return element.elementType == ElementType.DropCap;\n  }\n\n  isModeKeyElement(element: ScoreElement) {\n    return element.elementType == ElementType.ModeKey;\n  }\n\n  isTextInputFocused() {\n    return (\n      document.activeElement instanceof HTMLInputElement ||\n      document.activeElement instanceof HTMLTextAreaElement ||\n      (document.activeElement instanceof HTMLElement &&\n        document.activeElement.isContentEditable)\n    );\n  }\n\n  onWindowResize() {\n    if (this.zoomToFit) {\n      this.performZoomToFit();\n    }\n  }\n\n  onKeydown(event: KeyboardEvent) {\n    // Handle undo / redo\n    // See https://github.com/electron/electron/issues/3682.\n    if (\n      (event.ctrlKey || event.metaKey) &&\n      !this.isTextInputFocused() &&\n      !this.dialogOpen\n    ) {\n      if (event.code === 'KeyZ') {\n        this.onFileMenuUndoThrottled();\n        event.preventDefault();\n        return;\n      } else if (event.code === 'KeyY') {\n        this.onFileMenuRedoThrottled();\n        event.preventDefault();\n        return;\n      } else if (event.code === 'KeyX') {\n        this.onCutScoreElementsThrottled();\n        event.preventDefault();\n        return;\n      } else if (event.code === 'KeyC') {\n        this.onCopyScoreElementsThrottled();\n        event.preventDefault();\n        return;\n      } else if (event.code === 'KeyV') {\n        this.onPasteScoreElementsThrottled();\n        event.preventDefault();\n        return;\n      }\n    }\n\n    if (this.selectedLyrics != null) {\n      return this.onKeydownLyrics(event);\n    }\n\n    if (\n      this.selectedElement != null &&\n      this.selectedElement.elementType === ElementType.DropCap\n    ) {\n      return this.onKeydownDropCap(event);\n    }\n\n    if (!this.isTextInputFocused() && !this.dialogOpen) {\n      return this.onKeydownNeume(event);\n    }\n  }\n\n  onKeydownNeume(event: KeyboardEvent) {\n    let handled = false;\n\n    if (event.shiftKey) {\n      switch (event.code) {\n        case 'ArrowLeft':\n          this.moveSelectionLeftThrottled();\n          handled = true;\n          break;\n        case 'ArrowRight':\n          this.moveSelectionRightThrottled();\n          handled = true;\n          break;\n      }\n    } else {\n      switch (event.code) {\n        case 'ArrowLeft':\n          this.moveLeftThrottled();\n          handled = true;\n          break;\n        case 'ArrowRight':\n        case 'Space':\n          this.moveRightThrottled();\n          handled = true;\n          break;\n        case 'Backspace':\n          handled = true;\n          this.deletePreviousElementThrottled();\n          break;\n        case 'Delete':\n          handled = true;\n          this.deleteSelectedElementThrottled();\n          break;\n      }\n    }\n\n    if (handled) {\n      event.preventDefault();\n    }\n  }\n\n  onKeydownLyrics(event: KeyboardEvent) {\n    let handled = false;\n\n    // Do not allow enter key in lyrics\n    if (event.code === 'Enter') {\n      event.preventDefault();\n      return;\n    }\n\n    if (event.shiftKey && event.code !== 'Minus') {\n      return;\n    }\n\n    if (event.ctrlKey || event.metaKey) {\n      switch (event.code) {\n        case 'ArrowRight':\n          this.moveToNextLyricBoxThrottled();\n          handled = true;\n          break;\n        case 'ArrowLeft':\n          this.moveToPreviousLyricBoxThrottled();\n          handled = true;\n          break;\n        case 'Space':\n          // Ctrl + Space should add a normal space character\n          document.execCommand('insertText', false, ' ');\n          handled = true;\n          break;\n      }\n    } else {\n      switch (event.code) {\n        case 'Space':\n          this.moveToNextLyricBoxThrottled();\n          handled = true;\n          break;\n        case 'ArrowLeft':\n          if (getCursorPosition() === 0) {\n            this.moveToPreviousLyricBoxThrottled();\n            handled = true;\n          }\n          break;\n        case 'ArrowRight':\n          if (\n            getCursorPosition() === this.getLyricLength(this.selectedLyrics!)\n          ) {\n            this.moveToNextLyricBoxThrottled();\n            handled = true;\n          }\n          break;\n        case 'Minus':\n          if (event.shiftKey) {\n            document.execCommand('insertText', false, '_');\n          } else {\n            document.execCommand('insertText', false, '-');\n          }\n\n          if (\n            getCursorPosition() === this.getLyricLength(this.selectedLyrics!)\n          ) {\n            if (this.getNextLyricBoxIndex() >= 0) {\n              this.moveToNextLyricBoxThrottled();\n            } else {\n              // If this is the last lyric box, blur\n              // so that the melisma is registered and\n              // the user doesn't accidentally type more\n              // characters into box\n              const index = this.elements.indexOf(this.selectedLyrics!);\n              (this.$refs[`lyrics-${index}`] as ContentEditable[])[0].blur();\n            }\n          }\n\n          handled = true;\n          break;\n      }\n    }\n\n    if (handled) {\n      event.preventDefault();\n    }\n  }\n\n  onKeydownDropCap(event: KeyboardEvent) {\n    // Do not allow enter key in drop caps\n    if (event.code === 'Enter') {\n      event.preventDefault();\n      return;\n    }\n  }\n\n  onCutScoreElements() {\n    if (this.selectionRange != null) {\n      const start = Math.min(\n        this.selectionRange.start,\n        this.selectionRange.end,\n      );\n\n      const elementsToCut = this.elements.filter(\n        (x) => x.elementType != ElementType.Empty && this.isSelected(x),\n      );\n\n      this.clipboard = elementsToCut.map((x) => x.clone());\n\n      this.commandService.executeAsBatch(\n        elementsToCut.map((element) =>\n          this.scoreElementCommandFactory.create('remove-from-collection', {\n            element,\n            collection: this.elements,\n          }),\n        ),\n      );\n\n      this.selectedElement =\n        this.elements[Math.min(start, this.elements.length - 1)];\n\n      this.save();\n    } else if (\n      this.selectedElement != null &&\n      this.selectedElement.elementType !== ElementType.Empty\n    ) {\n      const currentIndex = this.selectedElementIndex;\n\n      this.clipboard = [this.selectedElement.clone()];\n\n      this.removeScoreElement(this.selectedElement);\n\n      this.selectedElement =\n        this.elements[Math.min(currentIndex, this.elements.length - 1)];\n\n      this.save();\n    }\n  }\n\n  onCopyScoreElements() {\n    if (this.selectionRange != null) {\n      this.clipboard = this.elements\n        .filter((x) => x.elementType != ElementType.Empty && this.isSelected(x))\n        .map((x) => x.clone());\n    } else if (\n      this.selectedElement != null &&\n      this.selectedElement.elementType !== ElementType.Empty\n    ) {\n      this.clipboard = [this.selectedElement.clone()];\n    }\n  }\n\n  onPasteScoreElements() {\n    if (this.clipboard.length > 0 && this.selectedElement != null) {\n      switch (this.entryMode) {\n        case EntryMode.Insert:\n          this.onPasteScoreElementsInsert();\n          break;\n        case EntryMode.Auto:\n          this.onPasteScoreElementsAuto();\n          break;\n        case EntryMode.Edit:\n          this.onPasteScoreElementsEdit();\n          break;\n      }\n    }\n  }\n\n  onPasteScoreElementsInsert() {\n    if (this.selectedElement == null || this.clipboard.length === 0) {\n      return;\n    }\n\n    const insertAtIndex = this.isLastElement(this.selectedElement)\n      ? this.selectedElementIndex\n      : this.selectedElementIndex + 1;\n\n    const newElements = this.clipboard.map((x) => x.clone());\n\n    this.addScoreElements(newElements, insertAtIndex);\n\n    this.selectedElement = newElements.at(-1)!;\n    this.save();\n  }\n\n  onPasteScoreElementsEdit() {\n    if (this.selectedElement == null || this.clipboard.length === 0) {\n      return;\n    }\n\n    const commands: Command[] = [];\n\n    let currentIndex = this.selectedElementIndex;\n\n    for (let clipboardElement of this.clipboard) {\n      const currentElement = this.elements[currentIndex];\n\n      if (currentIndex >= this.elements.length - 1) {\n        commands.push(\n          this.scoreElementCommandFactory.create('add-to-collection', {\n            elements: [clipboardElement.clone()],\n            collection: this.elements,\n            insertAtIndex: currentIndex,\n          }),\n        );\n      } else {\n        if (currentElement.elementType === clipboardElement.elementType) {\n          switch (currentElement.elementType) {\n            case ElementType.Note:\n              if (\n                !shallowEquals(\n                  (currentElement as NoteElement).getClipboardProperties(),\n                  (clipboardElement as NoteElement).getClipboardProperties(),\n                )\n              ) {\n                commands.push(\n                  this.noteElementCommandFactory.create('update-properties', {\n                    target: currentElement as NoteElement,\n                    newValues: (\n                      clipboardElement as NoteElement\n                    ).getClipboardProperties(),\n                  }),\n                );\n              }\n              break;\n            case ElementType.Tempo:\n              if (\n                !shallowEquals(\n                  (currentElement as TempoElement).getClipboardProperties(),\n                  (clipboardElement as TempoElement).getClipboardProperties(),\n                )\n              ) {\n                commands.push(\n                  this.tempoCommandFactory.create('update-properties', {\n                    target: currentElement as TempoElement,\n                    newValues: (\n                      clipboardElement as TempoElement\n                    ).getClipboardProperties(),\n                  }),\n                );\n              }\n              break;\n            case ElementType.Martyria:\n              if (\n                !shallowEquals(\n                  (currentElement as MartyriaElement).getClipboardProperties(),\n                  (\n                    clipboardElement as MartyriaElement\n                  ).getClipboardProperties(),\n                )\n              ) {\n                commands.push(\n                  this.martyriaCommandFactory.create('update-properties', {\n                    target: currentElement as MartyriaElement,\n                    newValues: (\n                      clipboardElement as MartyriaElement\n                    ).getClipboardProperties(),\n                  }),\n                );\n              }\n              break;\n            case ElementType.DropCap:\n              if (\n                !shallowEquals(\n                  (currentElement as DropCapElement).getClipboardProperties(),\n                  (clipboardElement as DropCapElement).getClipboardProperties(),\n                )\n              ) {\n                commands.push(\n                  this.dropCapCommandFactory.create('update-properties', {\n                    target: currentElement as DropCapElement,\n                    newValues: (\n                      clipboardElement as DropCapElement\n                    ).getClipboardProperties(),\n                  }),\n                );\n              }\n              break;\n            case ElementType.ModeKey:\n              if (\n                !shallowEquals(\n                  (currentElement as ModeKeyElement).getClipboardProperties(),\n                  (clipboardElement as ModeKeyElement).getClipboardProperties(),\n                )\n              ) {\n                commands.push(\n                  this.modeKeyCommandFactory.create('update-properties', {\n                    target: currentElement as ModeKeyElement,\n                    newValues: (\n                      clipboardElement as ModeKeyElement\n                    ).getClipboardProperties(),\n                  }),\n                );\n              }\n              break;\n            case ElementType.TextBox:\n              if (\n                !shallowEquals(\n                  (currentElement as TextBoxElement).getClipboardProperties(),\n                  (clipboardElement as TextBoxElement).getClipboardProperties(),\n                )\n              ) {\n                commands.push(\n                  this.textBoxCommandFactory.create('update-properties', {\n                    target: currentElement as TextBoxElement,\n                    newValues: (\n                      clipboardElement as TextBoxElement\n                    ).getClipboardProperties(),\n                  }),\n                );\n              }\n              break;\n          }\n        } else {\n          commands.push(\n            this.scoreElementCommandFactory.create(\n              'replace-element-in-collection',\n              {\n                element: clipboardElement.clone(),\n                collection: this.elements,\n                replaceAtIndex: currentIndex,\n              },\n            ),\n          );\n        }\n      }\n\n      currentIndex++;\n    }\n\n    if (commands.length > 1) {\n      this.commandService.executeAsBatch(commands);\n    } else if (commands.length === 1) {\n      this.commandService.execute(commands[0]);\n    }\n\n    this.save();\n  }\n\n  onPasteScoreElementsAuto() {\n    this.moveRight();\n    const currentIndex = this.selectedElementIndex;\n\n    this.onPasteScoreElementsEdit();\n\n    // Set the selected element to the last element that was pasted\n    this.selectedElement =\n      this.elements[currentIndex + this.clipboard.length - 1];\n  }\n\n  getLyricLength(element: NoteElement) {\n    return (\n      this.$refs[\n        `lyrics-${this.elements.indexOf(element)}`\n      ] as ContentEditable[]\n    )[0].getInnerText().length;\n  }\n\n  navigableElements = [\n    ElementType.Note,\n    ElementType.Martyria,\n    ElementType.Tempo,\n    ElementType.Empty,\n  ];\n\n  moveLeft() {\n    let index = -1;\n\n    if (this.selectedElement) {\n      index = this.elements.indexOf(this.selectedElement);\n    } else if (this.selectionRange) {\n      index = this.selectionRange.end;\n    }\n\n    if (\n      index - 1 >= 0 &&\n      this.navigableElements.includes(this.elements[index - 1].elementType)\n    ) {\n      this.selectedElement = this.elements[index - 1];\n    }\n  }\n\n  moveRight() {\n    let index = -1;\n\n    if (this.selectedElement) {\n      index = this.elements.indexOf(this.selectedElement);\n    } else if (this.selectionRange) {\n      index = this.selectionRange.end;\n    }\n\n    if (\n      index >= 0 &&\n      index + 1 < this.elements.length &&\n      this.navigableElements.includes(this.elements[index + 1].elementType)\n    ) {\n      this.selectedElement = this.elements[index + 1];\n      return true;\n    }\n\n    return false;\n  }\n\n  moveSelectionLeft() {\n    if (this.selectionRange != null) {\n      if (\n        this.selectionRange.end > 0 &&\n        this.navigableElements.includes(\n          this.elements[this.selectionRange.end - 1].elementType,\n        )\n      ) {\n        this.setSelectionRange(this.elements[this.selectionRange.end - 1]);\n      }\n    } else if (\n      this.selectedElement != null &&\n      this.selectedElementIndex > 0 &&\n      this.navigableElements.includes(\n        this.elements[this.selectedElementIndex - 1].elementType,\n      )\n    ) {\n      this.setSelectionRange(this.elements[this.selectedElementIndex - 1]);\n    }\n  }\n\n  moveSelectionRight() {\n    if (this.selectionRange != null) {\n      if (\n        this.selectionRange.end + 1 < this.elements.length - 1 &&\n        this.navigableElements.includes(\n          this.elements[this.selectionRange.end + 1].elementType,\n        )\n      ) {\n        this.setSelectionRange(this.elements[this.selectionRange.end + 1]);\n      }\n    } else if (\n      this.selectedElement != null &&\n      this.selectedElementIndex + 1 < this.elements.length - 1 &&\n      this.navigableElements.includes(\n        this.elements[this.selectedElementIndex + 1].elementType,\n      )\n    ) {\n      this.setSelectionRange(this.elements[this.selectedElementIndex + 1]);\n    }\n  }\n\n  getNextLyricBoxIndex() {\n    if (this.selectedLyrics) {\n      const currentIndex = this.elements.indexOf(this.selectedLyrics);\n\n      // Find the index of the next note\n      for (let i = currentIndex + 1; i < this.elements.length; i++) {\n        if (this.elements[i].elementType === ElementType.Note) {\n          return i;\n        }\n      }\n    }\n\n    return -1;\n  }\n\n  moveToNextLyricBox() {\n    const nextIndex = this.getNextLyricBoxIndex();\n\n    if (nextIndex >= 0) {\n      // If the lyrics for the last neume on the line have been updated to be so long\n      // that the neume is moved to the next line by processPages(), then focusLyrics()\n      // will fail if called on its own. This is because the order of events would\n      // be the following:\n      // focus next element => blur previous element => updateLyrics => processPages\n      // and finally the newly selected element would lose focus because processPages\n      // moves the element to the next line.\n\n      // To prevent this we, preemptively call updateLyrics and then use Vue.nextTick\n      // to only focus the next lyrics after the UI has been redrawn.\n\n      const noteElement = this.selectedLyrics!;\n\n      const text = (\n        this.$refs[\n          `lyrics-${this.elements.indexOf(noteElement)}`\n        ] as ContentEditable[]\n      )[0].getInnerText();\n\n      this.updateLyrics(noteElement, text);\n\n      Vue.nextTick(() => {\n        this.focusLyrics(nextIndex, true);\n      });\n\n      return true;\n    }\n\n    return false;\n  }\n\n  moveToPreviousLyricBox() {\n    if (this.selectedLyrics) {\n      const currentIndex = this.elements.indexOf(this.selectedLyrics);\n      let nextIndex = -1;\n\n      // Find the index of the previous note\n      for (let i = currentIndex - 1; i >= 0; i--) {\n        if (this.elements[i].elementType === ElementType.Note) {\n          nextIndex = i;\n          break;\n        }\n      }\n\n      if (nextIndex >= 0) {\n        this.focusLyrics(nextIndex, true);\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  save(markUnsavedChanges: boolean = true) {\n    if (markUnsavedChanges) {\n      this.hasUnsavedChanges = true;\n    }\n\n    // Save the indexes of the visible pages\n    const visiblePages = this.pages\n      .map((_, i) => i)\n      .filter((i) => this.pages[i].isVisible);\n\n    const pages = LayoutService.processPages(this.score);\n\n    // Set page visibility for the newly processed pages\n    pages.forEach((x, index) => (x.isVisible = visiblePages.includes(index)));\n\n    this.pages = pages;\n\n    // If using the browser, save the workspace to local storage\n    if (this.isBrowser) {\n      const workspaceLocalStorage = {\n        id: this.selectedWorkspace.id,\n        score: JSON.stringify(SaveService.SaveScoreToJson(this.score)),\n        filePath: this.currentFilePath,\n        tempFileName: this.selectedWorkspace.tempFileName,\n        hasUnsavedChanges: this.hasUnsavedChanges,\n      } as WorkspaceLocalStorage;\n\n      localStorage.setItem(\n        `workspace-${this.selectedWorkspace.id}`,\n        JSON.stringify(workspaceLocalStorage),\n      );\n    } else if (this.isDevelopment) {\n      localStorage.setItem(\n        'score',\n        JSON.stringify(SaveService.SaveScoreToJson(this.score)),\n      );\n\n      if (this.currentFilePath != null) {\n        localStorage.setItem('filePath', this.currentFilePath);\n      } else {\n        localStorage.removeItem('filePath');\n      }\n\n      localStorage.setItem(\n        'hasUnsavedChanges',\n        this.hasUnsavedChanges.toString(),\n      );\n    }\n  }\n\n  async load() {\n    if (this.isBrowser) {\n      Object.keys(localStorage).forEach((key) => {\n        if (key.startsWith('workspace-')) {\n          try {\n            const localStorageWorkspace: WorkspaceLocalStorage = JSON.parse(\n              localStorage.getItem(key)!,\n            );\n            const workspace = new Workspace();\n            workspace.id = localStorageWorkspace.id;\n            workspace.hasUnsavedChanges =\n              localStorageWorkspace.hasUnsavedChanges;\n            workspace.filePath = localStorageWorkspace.filePath;\n            workspace.tempFileName = localStorageWorkspace.tempFileName;\n            workspace.score = SaveService.LoadScoreFromJson(\n              JSON.parse(localStorageWorkspace.score),\n            );\n\n            this.workspaces.push(workspace);\n          } catch (error) {\n            // We couldn't load this workspace for some reason. Remove it from storage.\n            localStorage.removeItem(key);\n            console.error(error);\n          }\n        }\n      });\n\n      if (this.workspaces.length > 0) {\n        this.selectedWorkspace = this.workspaces[0];\n        return;\n      }\n    }\n\n    // First, try to load files passed in on the command line.\n    // If there are none, then create a default workspace.\n    const openWorkspaceResults = await this.ipcService.openWorkspaceFromArgv();\n\n    openWorkspaceResults\n      .filter((x) => x.success)\n      .forEach((x) => this.openScore(x));\n\n    if (openWorkspaceResults.some((x) => x.success)) {\n      return;\n    }\n\n    const workspace = new Workspace();\n    workspace.tempFileName = this.getTempFilename();\n    workspace.score = this.createDefaultScore();\n\n    this.workspaces.push(workspace);\n\n    if (this.isDevelopment) {\n      const scoreString = localStorage.getItem('score');\n\n      if (scoreString) {\n        const score: Score = SaveService.LoadScoreFromJson(\n          JSON.parse(scoreString),\n        );\n        this.currentFilePath = localStorage.getItem('filePath');\n        this.hasUnsavedChanges =\n          localStorage.getItem('hasUnsavedChanges') === 'true';\n\n        workspace.score = score;\n      }\n    }\n\n    this.selectedWorkspace = workspace;\n\n    this.selectedElement =\n      this.score.staff.elements[this.score.staff.elements.length - 1];\n\n    this.pages = LayoutService.processPages(this.score);\n  }\n\n  async closeWorkspace(workspace: Workspace) {\n    let shouldClose = true;\n\n    if (workspace.hasUnsavedChanges) {\n      const fileName =\n        workspace.filePath != null\n          ? getFileNameFromPath(workspace.filePath)\n          : workspace.tempFileName;\n\n      let dialogResult: ShowMessageBoxReplyArgs;\n\n      if (this.ipcService.isShowMessageBoxSupported()) {\n        dialogResult = await this.ipcService.showMessageBox({\n          title: process.env.VUE_APP_TITLE,\n          message: `Do you want to save the changes you made to ${fileName}?`,\n          detail: \"Your changes will be lost if you don't save them.\",\n          type: 'warning',\n          buttons: ['Save', \"Don't Save\", 'Cancel'],\n        });\n      } else {\n        dialogResult = {\n          response: confirm(\n            `${fileName} has unsaved changes. Are you sure you want to close it?`,\n          )\n            ? 1\n            : 2,\n          checkboxChecked: false,\n        };\n      }\n\n      if (dialogResult.response === 0) {\n        // User chose \"Save\"\n        const saveResult =\n          workspace.filePath != null\n            ? await this.ipcService.saveWorkspace(workspace)\n            : await this.ipcService.saveWorkspaceAs(workspace);\n\n        // If they successfully saved, then we can close the workspacce\n        shouldClose = saveResult.success;\n      } else if (dialogResult.response === 2) {\n        // User chose \"Cancel\", so don't close the workspace.\n        shouldClose = false;\n      }\n    }\n\n    if (shouldClose) {\n      // If using the browser, remove the item from local storage\n      if (this.isBrowser) {\n        localStorage.removeItem(`workspace-${workspace.id}`);\n      }\n\n      // If the last tab has closed, then exit\n      if (this.workspaces.length == 1) {\n        this.ipcService.exitApplication();\n      }\n\n      const index = this.workspaces.indexOf(workspace);\n\n      this.workspaces.splice(index, 1);\n\n      if (this.selectedWorkspace === workspace) {\n        if (this.workspaces.length > 0) {\n          this.selectedWorkspace =\n            this.workspaces[Math.min(index, this.workspaces.length - 1)];\n        } else {\n          // TODO support closing all workspaces\n          this.onFileMenuNewScore();\n        }\n      }\n    }\n\n    return shouldClose;\n  }\n\n  async onCloseApplication() {\n    // Give the user a chance to save their changes before exiting\n    const unsavedWorkspaces = this.workspaces.filter(\n      (x) => x.hasUnsavedChanges,\n    );\n\n    for (let workspace of unsavedWorkspaces) {\n      if (!(await this.closeWorkspace(workspace))) {\n        return false;\n      }\n    }\n\n    await this.ipcService.exitApplication();\n  }\n\n  addScoreElement(element: ScoreElement, insertAtIndex?: number) {\n    this.commandService.execute(\n      this.scoreElementCommandFactory.create('add-to-collection', {\n        elements: [element],\n        collection: this.elements,\n        insertAtIndex,\n      }),\n    );\n  }\n\n  addScoreElements(elements: ScoreElement[], insertAtIndex?: number) {\n    this.commandService.execute(\n      this.scoreElementCommandFactory.create('add-to-collection', {\n        elements,\n        collection: this.elements,\n        insertAtIndex,\n      }),\n    );\n  }\n\n  replaceScoreElement(element: ScoreElement, replaceAtIndex: number) {\n    this.commandService.execute(\n      this.scoreElementCommandFactory.create('replace-element-in-collection', {\n        element,\n        collection: this.elements,\n        replaceAtIndex,\n      }),\n    );\n  }\n\n  removeScoreElement(element: ScoreElement) {\n    this.commandService.execute(\n      this.scoreElementCommandFactory.create('remove-from-collection', {\n        element,\n        collection: this.elements,\n      }),\n    );\n  }\n\n  updatePageVisibility(page: Page, isVisible: boolean) {\n    page.isVisible = isVisible;\n  }\n\n  updateNote(element: NoteElement, newValues: Partial<NoteElement>) {\n    this.commandService.execute(\n      this.noteElementCommandFactory.create('update-properties', {\n        target: element,\n        newValues: newValues,\n      }),\n    );\n  }\n\n  updateNoteAccidental(element: NoteElement, accidental: Accidental) {\n    this.updateNote(element, { accidental });\n    this.save();\n  }\n\n  updateNoteFthora(element: NoteElement, fthora: Fthora) {\n    this.updateNote(element, { fthora });\n    this.save();\n  }\n\n  updateNoteExpression(\n    element: NoteElement,\n    vocalExpressionNeume: VocalExpressionNeume,\n  ) {\n    this.updateNote(element, { vocalExpressionNeume });\n    this.save();\n  }\n\n  updateNoteTime(element: NoteElement, timeNeume: TimeNeume) {\n    this.updateNote(element, { timeNeume });\n    this.save();\n  }\n\n  updateNoteGorgon(element: NoteElement, gorgonNeume: GorgonNeume) {\n    this.updateNote(element, { gorgonNeume });\n    this.save();\n  }\n\n  updateNoteMeasureBar(element: NoteElement, measureBar: MeasureBar) {\n    this.updateNote(element, { measureBar });\n    this.save();\n  }\n\n  updateNoteMeasureNumber(element: NoteElement, measureNumber: MeasureNumber) {\n    this.updateNote(element, { measureNumber });\n    this.save();\n  }\n\n  updateNoteNoteIndicator(element: NoteElement, noteIndicator: NoteIndicator) {\n    this.updateNote(element, { noteIndicator });\n    this.save();\n  }\n\n  updateNoteIson(element: NoteElement, ison: Ison) {\n    this.updateNote(element, { ison });\n    this.save();\n  }\n\n  updateNoteVareia(element: NoteElement, vareia: boolean) {\n    this.updateNote(element, { vareia });\n    this.save();\n  }\n\n  updateLyrics(element: NoteElement, lyrics: string) {\n    // Replace newlines. This should only happen if the user pastes\n    // text containing new lines.\n    const sanitizedLyrics = lyrics.replace(/(?:\\r\\n|\\r|\\n)/g, ' ');\n    if (sanitizedLyrics !== lyrics) {\n      lyrics = sanitizedLyrics;\n\n      // Force the lyrics to re-render\n      element.keyHelper++;\n    }\n\n    if (element.lyrics === lyrics) {\n      return;\n    }\n\n    // Calculate melisma properties\n    let isMelisma: boolean;\n    let isMelismaStart: boolean;\n    let isHyphen: boolean;\n\n    if (lyrics === '_' || lyrics === '-') {\n      isMelisma = true;\n      isMelismaStart = false;\n      isHyphen = lyrics === '-';\n      lyrics = '';\n\n      // Force the lyrics to re-render\n      element.keyHelper++;\n    } else if (lyrics.endsWith('_') || lyrics.endsWith('-')) {\n      isMelisma = true;\n      isMelismaStart = true;\n      isHyphen = lyrics.endsWith('-');\n      lyrics = lyrics.slice(0, -1);\n\n      // Force the lyrics to re-render\n      element.keyHelper++;\n    } else {\n      isMelisma = false;\n      isMelismaStart = false;\n      isHyphen = false;\n    }\n\n    // If nothing changed, return. This could happen if\n    // the user types in an underscore when the element is\n    // already a melisma.\n    if (\n      element.lyrics === lyrics &&\n      element.isMelismaStart === isMelismaStart &&\n      element.isMelisma === isMelisma &&\n      element.isHyphen === isHyphen\n    ) {\n      return;\n    }\n\n    this.commandService.execute(\n      this.noteElementCommandFactory.create('update-properties', {\n        target: element,\n        newValues: {\n          lyrics,\n          isMelisma,\n          isMelismaStart,\n          isHyphen,\n        },\n      }),\n    );\n\n    this.save();\n  }\n\n  updateTextBox(element: TextBoxElement, newValues: Partial<TextBoxElement>) {\n    this.commandService.execute(\n      this.textBoxCommandFactory.create('update-properties', {\n        target: element,\n        newValues: newValues,\n      }),\n    );\n\n    this.save();\n  }\n\n  updateTextBoxContent(element: TextBoxElement, content: string) {\n    this.updateTextBox(element, { content });\n  }\n\n  updateTextBoxFontSize(element: TextBoxElement, fontSize: number) {\n    this.updateTextBox(element, { fontSize });\n  }\n\n  updateTextBoxFontFamily(element: TextBoxElement, fontFamily: string) {\n    this.updateTextBox(element, { fontFamily });\n  }\n\n  updateTextBoxColor(element: TextBoxElement, color: string) {\n    this.updateTextBox(element, { color });\n  }\n\n  updateTextBoxAlignment(element: TextBoxElement, alignment: TextBoxAlignment) {\n    this.updateTextBox(element, { alignment });\n  }\n\n  updateTextBoxInline(element: TextBoxElement, inline: boolean) {\n    this.updateTextBox(element, { inline });\n  }\n\n  updateTextBoxBold(element: TextBoxElement, bold: boolean) {\n    this.updateTextBox(element, { bold });\n  }\n\n  updateTextBoxItalic(element: TextBoxElement, italic: boolean) {\n    this.updateTextBox(element, { italic });\n  }\n\n  updateTextBoxUnderline(element: TextBoxElement, underline: boolean) {\n    this.updateTextBox(element, { underline });\n  }\n\n  updateModeKey(element: ModeKeyElement, newValues: Partial<ModeKeyElement>) {\n    this.commandService.execute(\n      this.modeKeyCommandFactory.create('update-properties', {\n        target: element,\n        newValues: newValues,\n      }),\n    );\n\n    this.save();\n  }\n\n  updateModeKeyFontSize(element: ModeKeyElement, fontSize: number) {\n    this.updateModeKey(element, { fontSize });\n  }\n\n  updateModeKeyColor(element: ModeKeyElement, color: string) {\n    this.updateModeKey(element, { color });\n  }\n\n  updateModeKeyAlignment(element: ModeKeyElement, alignment: TextBoxAlignment) {\n    this.updateModeKey(element, { alignment });\n  }\n\n  updateModeKeyFromTemplate(element: ModeKeyElement, template: ModeKeyElement) {\n    const {\n      templateId,\n      mode,\n      scale,\n      scaleNote,\n      martyria,\n      fthoraAboveNote,\n      fthoraAboveNote2,\n      fthoraAboveQuantitativeNeumeRight,\n      note,\n      note2,\n      quantitativeNeumeAboveNote,\n      quantitativeNeumeAboveNote2,\n      quantitativeNeumeRight,\n    } = template;\n\n    const newValues = {\n      templateId,\n      mode,\n      scale,\n      scaleNote,\n      martyria,\n      fthoraAboveNote,\n      fthoraAboveNote2,\n      fthoraAboveQuantitativeNeumeRight,\n      note,\n      note2,\n      quantitativeNeumeAboveNote,\n      quantitativeNeumeAboveNote2,\n      quantitativeNeumeRight,\n    };\n\n    this.updateModeKey(element, newValues);\n\n    this.save();\n  }\n\n  updateMartyria(\n    element: MartyriaElement,\n    newValues: Partial<MartyriaElement>,\n  ) {\n    this.commandService.execute(\n      this.martyriaCommandFactory.create('update-properties', {\n        target: element,\n        newValues: newValues,\n      }),\n    );\n\n    this.save();\n  }\n\n  updateMartyriaFthora(element: MartyriaElement, fthora: Fthora) {\n    this.updateMartyria(element, { fthora });\n  }\n\n  updateMartyriaMeasureBar(element: MartyriaElement, measureBar: MeasureBar) {\n    this.updateMartyria(element, { measureBar });\n  }\n\n  updateMartyriaAlignRight(element: MartyriaElement, alignRight: boolean) {\n    this.updateMartyria(element, { alignRight });\n  }\n\n  updateMartyriaAuto(element: MartyriaElement, auto: boolean) {\n    this.updateMartyria(element, { auto });\n  }\n\n  updateMartyriaNote(element: MartyriaElement, note: Note) {\n    this.updateMartyria(element, { note });\n  }\n\n  updateMartyriaScale(element: MartyriaElement, scale: Scale) {\n    this.updateMartyria(element, { scale });\n  }\n\n  updateTempo(element: TempoElement, newValues: Partial<TempoElement>) {\n    this.commandService.execute(\n      this.tempoCommandFactory.create('update-properties', {\n        target: element,\n        newValues: newValues,\n      }),\n    );\n\n    this.save();\n  }\n\n  updateDropCapContent(element: DropCapElement, content: string) {\n    // Replace newlines. This should only happen if the user pastes\n    // text containing new lines.\n    const sanitizedContent = content.replace(/(?:\\r\\n|\\r|\\n)/g, ' ');\n    if (sanitizedContent !== content) {\n      content = sanitizedContent;\n\n      // Force the lyrics to re-render\n      element.keyHelper++;\n    }\n\n    if (content === '') {\n      const index = this.elements.indexOf(element);\n\n      if (index > -1) {\n        if (this.selectedElement === element) {\n          this.selectedElement = null;\n        }\n\n        this.removeScoreElement(element);\n      }\n    } else if (element.content !== content) {\n      this.commandService.execute(\n        this.dropCapCommandFactory.create('update-properties', {\n          target: element,\n          newValues: { content },\n        }),\n      );\n    }\n\n    this.save();\n  }\n\n  deleteSelectedElement() {\n    if (\n      this.selectedElement != null &&\n      !this.isLastElement(this.selectedElement)\n    ) {\n      const index = this.selectedElementIndex;\n\n      this.removeScoreElement(this.selectedElement);\n\n      this.selectedElement = this.elements[index];\n\n      this.save();\n    } else if (this.selectionRange != null) {\n      const elementsToDelete = this.elements.filter(\n        (x) => x.elementType != ElementType.Empty && this.isSelected(x),\n      );\n\n      this.commandService.executeAsBatch(\n        elementsToDelete.map((element) =>\n          this.scoreElementCommandFactory.create('remove-from-collection', {\n            element,\n            collection: this.elements,\n          }),\n        ),\n      );\n\n      const start = Math.min(\n        this.selectionRange.start,\n        this.selectionRange.end,\n      );\n\n      this.selectedElement =\n        this.elements[Math.min(start, this.elements.length - 1)];\n\n      this.save();\n    }\n  }\n\n  deletePreviousElement() {\n    if (\n      this.selectedElement &&\n      this.selectedElementIndex > 0 &&\n      this.navigableElements.includes(\n        this.elements[this.selectedElementIndex - 1].elementType,\n      )\n    ) {\n      this.removeScoreElement(this.elements[this.selectedElementIndex - 1]);\n\n      this.save();\n    }\n  }\n\n  updatePageSetup(pageSetup: PageSetup) {\n    this.commandService.execute(\n      this.pageSetupCommandFactory.create('update-properties', {\n        target: this.score.pageSetup,\n        newValues: pageSetup,\n      }),\n    );\n\n    this.save();\n  }\n\n  updateEntryMode(mode: EntryMode) {\n    this.entryMode = mode;\n  }\n\n  updateZoom(zoom: number) {\n    this.zoom = zoom;\n    this.zoomToFit = false;\n  }\n\n  updateZoomToFit(zoomToFit: boolean) {\n    this.zoomToFit = zoomToFit;\n\n    if (zoomToFit) {\n      this.performZoomToFit();\n    }\n  }\n\n  performZoomToFit() {\n    const pageBackgroundElement = this.$refs['page-background'] as HTMLElement;\n\n    const computedStyle = getComputedStyle(pageBackgroundElement);\n\n    const availableWidth =\n      pageBackgroundElement.clientWidth -\n      parseFloat(computedStyle.paddingLeft) -\n      parseFloat(computedStyle.paddingRight);\n\n    this.zoom = availableWidth / this.score.pageSetup.pageWidth;\n  }\n\n  onFileMenuNewScore() {\n    const workspace = new Workspace();\n    workspace.tempFileName = this.getTempFilename();\n    workspace.score = this.createDefaultScore();\n\n    this.workspaces.push(workspace);\n\n    this.selectedWorkspace = workspace;\n\n    this.selectedElement =\n      this.score.staff.elements[this.score.staff.elements.length - 1];\n    this.save(false);\n\n    Vue.nextTick(() => {\n      const tabContainerElement = this.$refs[\n        'workspace-tab-container'\n      ] as HTMLElement;\n\n      tabContainerElement.scrollTo(tabContainerElement.scrollWidth, 0);\n    });\n  }\n\n  async onFileMenuOpenScore(args: FileMenuOpenScoreArgs) {\n    if (!this.dialogOpen && args.success) {\n      this.openScore(args);\n    }\n  }\n\n  onFileMenuPageSetup() {\n    this.pageSetupDialogIsOpen = true;\n  }\n\n  async onFileMenuPrint() {\n    this.printMode = true;\n\n    // Blur the active element so that focus outlines and\n    // blinking cursors don't show up in the printed page\n    const activeElement = this.blurActiveElement();\n\n    Vue.nextTick(async () => {\n      await this.ipcService.printWorkspace(this.selectedWorkspace);\n      this.printMode = false;\n\n      // Re-focus the active element\n      this.focusElement(activeElement);\n    });\n  }\n\n  async onFileMenuExportAsPdf() {\n    this.printMode = true;\n\n    // Blur the active element so that focus outlines and\n    // blinking cursors don't show up in the printed page\n    const activeElement = this.blurActiveElement();\n\n    Vue.nextTick(async () => {\n      await this.ipcService.exportWorkspaceAsPdf(this.selectedWorkspace);\n      this.printMode = false;\n\n      // Re-focus the active element\n      this.focusElement(activeElement);\n    });\n  }\n\n  blurActiveElement() {\n    const activeElement = document.activeElement;\n\n    if (activeElement instanceof HTMLElement) {\n      activeElement.blur();\n    }\n\n    return activeElement;\n  }\n\n  focusElement(element: Element | null) {\n    if (element instanceof HTMLElement) {\n      element.focus();\n    }\n  }\n\n  onFileMenuInsertTextBox(args: FileMenuInsertTextboxArgs) {\n    const element = new TextBoxElement();\n    element.inline = args.inline;\n\n    this.addScoreElement(element, this.selectedElementIndex);\n\n    this.selectedElement = element;\n\n    this.save();\n\n    Vue.nextTick(() => {\n      const index = this.elements.indexOf(element);\n\n      (this.$refs[`element-${index}`] as any)[0].focus();\n    });\n  }\n\n  onFileMenuInsertModeKey() {\n    const element = this.createDefaultModeKey();\n\n    this.addScoreElement(element, this.selectedElementIndex);\n\n    this.selectedElement = element;\n\n    this.openModeKeyDialog();\n\n    this.save();\n  }\n\n  onFileMenuInsertDropCap() {\n    this.addDropCap();\n  }\n\n  onFileMenuInsertHeader() {\n    if (this.score.pageSetup.showHeader) {\n      return;\n    }\n\n    this.score.pageSetup.showHeader = true;\n\n    this.updatePageSetup(this.score.pageSetup);\n  }\n\n  onFileMenuInsertFooter() {\n    if (this.score.pageSetup.showFooter) {\n      return;\n    }\n\n    this.score.pageSetup.showFooter = true;\n\n    this.updatePageSetup(this.score.pageSetup);\n  }\n\n  async onFileMenuSave() {\n    const workspace = this.selectedWorkspace;\n\n    if (workspace.filePath != null) {\n      const result = await this.ipcService.saveWorkspace(workspace);\n      if (result.success) {\n        workspace.hasUnsavedChanges = false;\n      }\n    } else {\n      const result = await this.ipcService.saveWorkspaceAs(workspace);\n      if (result.success) {\n        workspace.filePath = result.filePath;\n        workspace.hasUnsavedChanges = false;\n      }\n    }\n  }\n\n  async onFileMenuSaveAs() {\n    const workspace = this.selectedWorkspace;\n\n    const result = await this.ipcService.saveWorkspaceAs(workspace);\n    if (result.success) {\n      workspace.filePath = result.filePath;\n      workspace.hasUnsavedChanges = false;\n    }\n  }\n\n  onFileMenuUndo() {\n    const currentIndex = this.selectedElementIndex;\n\n    this.commandService.undo();\n\n    // If the selected element was removed during the undo process, choose a new one\n    this.selectedElement =\n      this.elements[Math.min(currentIndex, this.elements.length - 1)];\n\n    this.save();\n  }\n\n  onFileMenuRedo() {\n    const currentIndex = this.selectedElementIndex;\n\n    this.commandService.redo();\n\n    // If the selected element was removed during the redo process, choose a new one\n    this.selectedElement =\n      this.elements[Math.min(currentIndex, this.elements.length - 1)];\n\n    this.save();\n  }\n\n  onFileMenuCut() {\n    if (!this.isTextInputFocused() && !this.dialogOpen) {\n      this.onCutScoreElements();\n    } else {\n      document.execCommand('cut');\n    }\n  }\n\n  onFileMenuCopy() {\n    if (!this.isTextInputFocused() && !this.dialogOpen) {\n      this.onCopyScoreElements();\n    } else {\n      document.execCommand('copy');\n    }\n  }\n\n  onFileMenuPaste() {\n    if (!this.isTextInputFocused() && !this.dialogOpen) {\n      this.onPasteScoreElements();\n    } else {\n      document.execCommand('paste');\n    }\n  }\n\n  onFileMenuGenerateTestFile(testFileType: TestFileType) {\n    const workspace = new Workspace();\n    workspace.tempFileName = this.getTempFilename();\n    workspace.score = new Score();\n\n    this.workspaces.push(workspace);\n\n    this.selectedWorkspace = workspace;\n\n    this.currentFilePath = null;\n    this.score.staff.elements.unshift(\n      ...(TestFileGenerator.generateTestFile(testFileType) || []),\n    );\n    this.save();\n  }\n\n  createDefaultModeKey() {\n    const defaultTemplate = ModeKeyElement.createFromTemplate(\n      modeKeyTemplates[0],\n    );\n\n    defaultTemplate.color = this.score.pageSetup.modeKeyDefaultColor;\n\n    return defaultTemplate;\n  }\n\n  createDefaultScore() {\n    const score = new Score();\n\n    const title = new TextBoxElement();\n    title.content = 'Title';\n    title.alignment = TextBoxAlignment.Center;\n    title.fontSize = Unit.fromPt(20);\n\n    score.staff.elements.unshift(title, this.createDefaultModeKey());\n\n    return score;\n  }\n\n  openScore(args: FileMenuOpenScoreArgs) {\n    if (!args.success) {\n      return;\n    }\n\n    // First make sure we don't already have the score open\n    const existingWorkspace = this.workspaces.find(\n      (x) => x.filePath === args.filePath,\n    );\n    if (existingWorkspace != null) {\n      this.selectedWorkspace = existingWorkspace;\n      return;\n    }\n\n    try {\n      const score: Score = SaveService.LoadScoreFromJson(JSON.parse(args.data));\n\n      // if (score.version !== ScoreVersion) {\n      //   alert('This score was created by an older version of the application. It may not work properly');\n      // }\n\n      const workspace = new Workspace();\n      workspace.filePath = args.filePath;\n      workspace.tempFileName = this.getTempFilename();\n      workspace.score = score;\n      workspace.entryMode = EntryMode.Edit;\n\n      this.workspaces.push(workspace);\n\n      this.selectedWorkspace = workspace;\n\n      this.selectedElement = null;\n\n      this.save(false);\n\n      Vue.nextTick(() => {\n        const tabContainerElement = this.$refs[\n          'workspace-tab-container'\n        ] as HTMLElement;\n\n        tabContainerElement.scrollTo(tabContainerElement.scrollWidth, 0);\n      });\n    } catch (error) {\n      args.success = false;\n      console.error(error);\n\n      if (error instanceof Error) {\n        if (this.ipcService.isShowMessageBoxSupported()) {\n          this.ipcService.showMessageBox({\n            type: 'error',\n            title: 'Open failed',\n            message: error.message,\n          });\n        } else {\n          alert(error.message);\n        }\n      }\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=474cb5ab&scoped=true&\"\nimport script from \"./Editor.vue?vue&type=script&lang=ts&\"\nexport * from \"./Editor.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Editor.vue?vue&type=style&index=0&id=474cb5ab&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"474cb5ab\",\n  null\n  \n)\n\nexport default component.exports","import {\n  ExportWorkspaceAsPdfArgs,\n  FileMenuOpenScoreArgs,\n  IpcRendererChannels,\n  PrintWorkspaceArgs,\n  SaveWorkspaceArgs,\n  SaveWorkspaceAsArgs,\n  SaveWorkspaceAsReplyArgs,\n  SaveWorkspaceReplyArgs,\n  ShowMessageBoxArgs,\n  ShowMessageBoxReplyArgs,\n} from '@/ipc/ipcChannels';\nimport { Workspace } from '@/models/Workspace';\nimport { SaveService } from '../SaveService';\n\nexport class IpcService {\n  public async saveWorkspace(\n    workspace: Workspace,\n  ): Promise<SaveWorkspaceReplyArgs> {\n    return await window.ipcRenderer.invoke(IpcRendererChannels.SaveWorkspace, {\n      filePath: workspace.filePath,\n      tempFileName: workspace.tempFileName,\n      data: SaveService.SaveScoreToJson(workspace.score),\n    } as SaveWorkspaceArgs);\n  }\n\n  public async saveWorkspaceAs(\n    workspace: Workspace,\n  ): Promise<SaveWorkspaceAsReplyArgs> {\n    return await window.ipcRenderer.invoke(\n      IpcRendererChannels.SaveWorkspaceAs,\n      {\n        filePath: workspace.filePath,\n        tempFileName: workspace.tempFileName,\n        data: SaveService.SaveScoreToJson(workspace.score),\n      } as SaveWorkspaceAsArgs,\n    );\n  }\n\n  public async exportWorkspaceAsPdf(workspace: Workspace) {\n    return await window.ipcRenderer.invoke(\n      IpcRendererChannels.ExportWorkspaceAsPdf,\n      {\n        filePath: workspace.filePath,\n        tempFileName: workspace.tempFileName,\n        landscape: workspace.score.pageSetup.landscape,\n        pageSize: workspace.score.pageSetup.pageSize,\n      } as ExportWorkspaceAsPdfArgs,\n    );\n  }\n\n  public async printWorkspace(workspace: Workspace) {\n    return await window.ipcRenderer.invoke(IpcRendererChannels.PrintWorkspace, {\n      landscape: workspace.score.pageSetup.landscape,\n      pageSize: workspace.score.pageSetup.pageSize,\n    } as PrintWorkspaceArgs);\n  }\n\n  public async openWorkspaceFromArgv(): Promise<FileMenuOpenScoreArgs[]> {\n    return await window.ipcRenderer.invoke(\n      IpcRendererChannels.OpenWorkspaceFromArgv,\n    );\n  }\n\n  public async showMessageBox(\n    args: ShowMessageBoxArgs,\n  ): Promise<ShowMessageBoxReplyArgs> {\n    return await window.ipcRenderer.invoke(\n      IpcRendererChannels.ShowMessageBox,\n      args,\n    );\n  }\n\n  public isShowMessageBoxSupported(): boolean {\n    return true;\n  }\n\n  public async getSystemFonts(): Promise<string[]> {\n    return await window.ipcRenderer.invoke(IpcRendererChannels.GetSystemFonts);\n  }\n\n  public async exitApplication(): Promise<void> {\n    return await window.ipcRenderer.invoke(IpcRendererChannels.ExitApplication);\n  }\n}\n","import {\n  FileMenuOpenScoreArgs,\n  SaveWorkspaceAsReplyArgs,\n  SaveWorkspaceReplyArgs,\n  ShowMessageBoxArgs,\n  ShowMessageBoxReplyArgs,\n} from '@/ipc/ipcChannels';\nimport { Workspace } from '@/models/Workspace';\nimport { SaveService } from '@/services/SaveService';\nimport { getFileNameFromPath } from '@/utils/getFileNameFromPath';\nimport JSZip from 'jszip';\nimport { IIpcService } from './IIpcService';\n\nexport class BrowserIpcService implements IIpcService {\n  public async saveWorkspace(\n    workspace: Workspace,\n  ): Promise<SaveWorkspaceReplyArgs> {\n    // Note: in the browser, this is probably never going\n    // to be called\n    await this.doSave(workspace);\n    return Promise.resolve({ success: true });\n  }\n\n  public async saveWorkspaceAs(\n    workspace: Workspace,\n  ): Promise<SaveWorkspaceAsReplyArgs> {\n    const filePath = await this.doSave(workspace);\n    return Promise.resolve({\n      success: true,\n      filePath: filePath,\n    });\n  }\n\n  public async exportWorkspaceAsPdf(workspace: Workspace) {\n    throw 'exportWorkspaceAsPdf is not available in the browser.';\n  }\n\n  public async printWorkspace(workspace: Workspace): Promise<void> {\n    return new Promise((resolve) => {\n      window.addEventListener(\n        'afterprint',\n        () => {\n          resolve();\n        },\n        { once: true },\n      );\n    });\n  }\n\n  public async openWorkspaceFromArgv(): Promise<FileMenuOpenScoreArgs[]> {\n    return [];\n  }\n\n  public async showMessageBox(\n    args: ShowMessageBoxArgs,\n  ): Promise<ShowMessageBoxReplyArgs> {\n    return Promise.resolve({ response: 0, checkboxChecked: false });\n  }\n\n  public isShowMessageBoxSupported(): boolean {\n    return true;\n  }\n\n  public async getSystemFonts(): Promise<string[]> {\n    return Promise.resolve([]);\n  }\n\n  public async exitApplication(): Promise<void> {\n    return Promise.resolve();\n  }\n\n  private async doSave(workspace: Workspace) {\n    var score = SaveService.SaveScoreToJson(workspace.score);\n    const data = JSON.stringify(score, null, 2);\n    let file: Blob;\n\n    // In the browser, we cannot know what file extension the user chose,\n    // so we always save in .byz, unless the user has already opened\n    // .byzx file from the computer.\n    if (workspace.filePath == null || workspace.filePath.endsWith('.byz')) {\n      var zip = new JSZip();\n\n      const fileName =\n        workspace.filePath != null\n          ? getFileNameFromPath(workspace.filePath)\n          : workspace.tempFileName;\n\n      zip.file(`${fileName}.byzx`, data);\n      file = await zip.generateAsync({ type: 'blob', compression: 'DEFLATE' });\n    } else {\n      file = new Blob([data], { type: 'application/json' });\n    }\n\n    const downloadFileName =\n      workspace.filePath != null\n        ? workspace.filePath\n        : `${workspace.tempFileName}.byz`;\n\n    const a = document.createElement('a');\n    a.href = URL.createObjectURL(file);\n    a.download = downloadFileName;\n    a.click();\n\n    return downloadFileName;\n  }\n}\n","<template>\n  <div class=\"home\">\n    <Editor :ipcService=\"ipcService\" :showFileMenuBar=\"showFileMenuBar\" />\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport Editor from '@/components/Editor.vue';\nimport { IpcService } from '@/services/ipc/IpcService';\nimport { BrowserIpcService } from '@/services/ipc/BrowserIpcService';\n\nexport default {\n  name: 'home',\n  components: {\n    Editor,\n  },\n  data() {\n    return {\n      ipcService: null,\n      showFileMenuBar: false,\n    };\n  },\n  created() {\n    if (process.env.IS_ELECTRON) {\n      this.ipcService = new IpcService();\n    } else {\n      this.ipcService = new BrowserIpcService();\n      this.showFileMenuBar = true;\n    }\n  },\n};\n</script>\n\n<style scoped>\n.home {\n  display: flex;\n  flex-direction: column;\n\n  flex: 1;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=352f22f7&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=352f22f7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"352f22f7\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport Home from '../views/Home.vue';\nimport VueObserveVisibility from 'vue-observe-visibility';\n\nVue.use(VueObserveVisibility);\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: Home,\n  },\n];\n\nconst router = new VueRouter({\n  mode: process.env.IS_ELECTRON ? 'hash' : 'history',\n  base: process.env.BASE_URL,\n  routes,\n});\n\nexport default router;\n","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker';\n\nif (process.env.NODE_ENV === 'production' && !process.env.IS_ELECTRON) {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready() {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n          'For more details, visit https://goo.gl/AFskqB',\n      );\n    },\n    registered() {\n      console.log('Service worker has been registered.');\n    },\n    cached() {\n      console.log('Content has been cached for offline use.');\n    },\n    updatefound() {\n      console.log('New content is downloading.');\n    },\n    updated(registration: ServiceWorkerRegistration) {\n      console.log('New content is available; please refresh.');\n      document.dispatchEvent(\n        new CustomEvent('swUpdated', { detail: registration }),\n      );\n    },\n    offline() {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    },\n    error(error) {\n      console.error('Error during service worker registration:', error);\n    },\n  });\n}\n","import Vue from 'vue';\nimport App from './App.vue';\nimport { EventBus } from './eventBus';\nimport { IpcMainChannels } from './ipc/ipcChannels';\nimport { initializeIpcListeners } from './ipc/ipcListeners';\nimport { initalizeBrowserIpcListeners } from './ipc/browserIpcListeners';\nimport router from './router';\nimport './registerServiceWorker'\n\nVue.config.productionTip = false;\n\nif (process.env.IS_ELECTRON) {\n  initializeIpcListeners();\n} else {\n  initalizeBrowserIpcListeners();\n}\n\nnew Vue({\n  router,\n  render: (h) => h(App),\n}).$mount('#app');\n","module.exports = __webpack_public_path__ + \"img/time-gorgon.ab9ac934.svg\";","module.exports = __webpack_public_path__ + \"img/agogi-argoteri.9036c2ab.svg\";","module.exports = __webpack_public_path__ + \"img/agogi-gorgi.25c97aff.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModeKeyPrint.vue?vue&type=style&index=0&id=8d7b5762&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileMenuBarItem.vue?vue&type=style&index=0&id=5dc5a2e0&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/barline-short-single.0b0ef2b7.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeumeBoxSyllable.vue?vue&type=style&index=0&id=6c657652&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/quality-heteron.6ddc7cf6.svg\";","module.exports = __webpack_public_path__ + \"img/note-di.9a5fb13d.svg\";","module.exports = __webpack_public_path__ + \"img/note-vou.4386ff5a.svg\";","module.exports = __webpack_public_path__ + \"img/time-trigorgon-dotted-left-above.0697acd0.svg\";","module.exports = __webpack_public_path__ + \"img/ison-ke.fd887461.svg\";","module.exports = __webpack_public_path__ + \"img/time-trigorgon.9710bc65.svg\";","module.exports = __webpack_public_path__ + \"img/time-gorgon-dotted-left.18134b5d.svg\";","module.exports = __webpack_public_path__ + \"img/quality-heteron-connecting.7032337d.svg\";","module.exports = __webpack_public_path__ + \"img/ison-ga.8d36e106.svg\";","module.exports = __webpack_public_path__ + \"img/martyria.f64dcaf9.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContentEditable.vue?vue&type=style&index=0&id=5399c0f6&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/time-apli.24edfb63.svg\";","module.exports = __webpack_public_path__ + \"img/time-gorgon-dotted-right.f6a8417f.svg\";","module.exports = __webpack_public_path__ + \"img/aligncenter.ae80b85a.svg\";","module.exports = __webpack_public_path__ + \"img/alteration-diesis2.71e1c704.svg\";","module.exports = __webpack_public_path__ + \"img/quality-antikenoma.d9e13b98.svg\";"],"sourceRoot":""}